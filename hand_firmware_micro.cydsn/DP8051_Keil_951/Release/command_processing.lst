C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 1   


C51 COMPILER V9.51, COMPILATION OF MODULE COMMAND_PROCESSING
OBJECT MODULE PLACED IN .\DP8051_Keil_951\Release\command_processing.obj
COMPILER INVOKED BY: C:\Program Files (x86)\Cypress\PSoC Creator\4.4\PSoC Creator\import\keil\pk51\9.51\C51\BIN\c51.exe 
                    -command_processing.c NOIV LARGE MODDP2 OMF2 VB(1) NOIP INCDIR(.,Generated_Source\PSoC3) FF(3) DB DF(NDEBUG) WL(2) PR(.\D
                    -P8051_Keil_951\Release/command_processing.lst) CD OT(8,SPEED) OJ(.\DP8051_Keil_951\Release\command_processing.obj)

line level    source

*** MESSAGE C286 IN LINE 0 OF (null): license limits optimization to level 5
   1          // ----------------------------------------------------------------------------
   2          // BSD 3-Clause License
   3          
   4          // Copyright (c) 2016, qbrobotics
   5          // Copyright (c) 2017, Centro "E.Piaggio"
   6          // All rights reserved.
   7          
   8          // Redistribution and use in source and binary forms, with or without
   9          // modification, are permitted provided that the following conditions are met:
  10          
  11          // * Redistributions of source code must retain the above copyright notice, this
  12          //   list of conditions and the following disclaimer.
  13          
  14          // * Redistributions in binary form must reproduce the above copyright notice,
  15          //   this list of conditions and the following disclaimer in the documentation
  16          //   and/or other materials provided with the distribution.
  17          
  18          // * Neither the name of the copyright holder nor the names of its
  19          //   contributors may be used to endorse or promote products derived from
  20          //   this software without specific prior written permission.
  21          
  22          // THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
  23          // AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
  24          // IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
  25          // DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
  26          // FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
  27          // DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
  28          // SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
  29          // CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
  30          // OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
  31          // OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  32          // POSSIBILITY OF SUCH DAMAGE.
  33          // ----------------------------------------------------------------------------
  34          
  35          
  36          /**
  37          * \file         command_processing.c
  38          *
  39          
  40          * \brief        Command processing functions.
  41          * \date         October 01, 2017
  42          * \author       _Centro "E.Piaggio"_
  43          * \copyright    (C) 2012-2016 qbrobotics. All rights reserved.
  44          * \copyright    (C) 2017 Centro "E.Piaggio". All rights reserved.
  45          */
  46          
  47          //=================================================================     includes
  48          #include <command_processing.h>
  49          #include <interruptions.h>
  50          #include <stdio.h>
  51          #include <utils.h>
  52          
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 2   

  53          #include "commands.h"
  54          
  55          //================================================================     variables
  56          
  57          reg8 * EEPROM_ADDR = (reg8 *) CYDEV_EE_BASE;
  58          
  59          //==============================================================================
  60          //                                                            RX DATA PROCESSING
  61          //==============================================================================
  62          //  This function checks for the availability of a data packet and process it:
  63          //      - Verify checksum;
  64          //      - Process commands;
  65          //==============================================================================
  66          
  67          void commProcess(void){
  68   1      
  69   1          uint8 CYDATA rx_cmd;
  70   1      
  71   1          rx_cmd = g_rx.buffer[0];
  72   1      
  73   1      //==========================================================     verify checksum
  74   1      
  75   1          if (!(LCRChecksum(g_rx.buffer, g_rx.length - 1) == g_rx.buffer[g_rx.length - 1])){
  76   2              // Wrong checksum
  77   2              g_rx.ready = 0;
  78   2              return;
  79   2          }
  80   1      
  81   1          switch(rx_cmd) {
  82   2      
  83   2      //=============================================================     CMD_ACTIVATE
  84   2              case CMD_ACTIVATE:
  85   2                  cmd_activate();
  86   2                  break;
  87   2      
  88   2      //===========================================================     CMD_SET_INPUTS
  89   2      
  90   2              case CMD_SET_INPUTS:
  91   2                  cmd_set_inputs();
  92   2                  break;
  93   2      
  94   2      //=====================================================     CMD_GET_MEASUREMENTS
  95   2      
  96   2              case CMD_GET_MEASUREMENTS:
  97   2                              cmd_get_measurements();
  98   2                  break;
  99   2                  
 100   2      //=========================================================     CMD_GET_JOYSTICK
 101   2      
 102   2              case CMD_GET_JOYSTICK:
 103   2                  cmd_get_joystick();
 104   2                  break;
 105   2      
 106   2      //=========================================================     CMD_GET_EMG
 107   2      
 108   2              case CMD_GET_EMG:
 109   2                  cmd_get_emg();
 110   2                  break;
 111   2                  
 112   2      //=========================================================     CMD_SET_BAUDRATE
 113   2                  
 114   2              case CMD_SET_BAUDRATE:
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 3   

 115   2                  cmd_set_baudrate();
 116   2                  break;  
 117   2                  
 118   2      //============================================================     CMD_GET_INPUT
 119   2      
 120   2              case CMD_GET_INPUTS:
 121   2                  cmd_get_inputs();
 122   2                  break;
 123   2      
 124   2      //=============================================================     CMD_GET_INFO
 125   2      
 126   2              case CMD_GET_INFO:
 127   2                  infoGet( *((uint16 *) &g_rx.buffer[1]));
 128   2                  break;
 129   2      
 130   2      //============================================================     CMD_SET_PARAM
 131   2      
 132   2              case CMD_SET_ZEROS:
 133   2                  setZeros();
 134   2                  break;
 135   2      
 136   2      //============================================================     CMD_GET_PARAM
 137   2      
 138   2              case CMD_GET_PARAM_LIST:
 139   2                  get_param_list( *((uint16 *) &g_rx.buffer[1]) );
 140   2                  break;
 141   2      
 142   2      //=================================================================     CMD_PING
 143   2                  
 144   2              case CMD_PING:
 145   2                  cmd_ping();
 146   2                  break;
 147   2      
 148   2      //=========================================================     CMD_STORE_PARAMS
 149   2                  
 150   2              case CMD_STORE_PARAMS:
 151   2                  cmd_store_params();
 152   2                  break;
 153   2      
 154   2      //=================================================     CMD_STORE_DEFAULT_PARAMS
 155   2      
 156   2              case CMD_STORE_DEFAULT_PARAMS:
 157   2                  if(memStore(DEFAULT_EEPROM_DISPLACEMENT))
 158   2                      sendAcknowledgment(ACK_OK);
 159   2                  else
 160   2                      sendAcknowledgment(ACK_ERROR);
 161   2                  break;
 162   2      
 163   2      //=======================================================     CMD_RESTORE_PARAMS
 164   2      
 165   2              case CMD_RESTORE_PARAMS:
 166   2                  if(memRestore())
 167   2                      sendAcknowledgment(ACK_OK);
 168   2                  else
 169   2                      sendAcknowledgment(ACK_ERROR);
 170   2                  break;
 171   2      
 172   2      //=============================================================     CMD_INIT_MEM
 173   2      
 174   2              case CMD_INIT_MEM:
 175   2                  if(memInit())
 176   2                      sendAcknowledgment(ACK_OK);
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 4   

 177   2                  else
 178   2                      sendAcknowledgment(ACK_ERROR);
 179   2                  break;
 180   2      
 181   2      //===========================================================     CMD_BOOTLOADER
 182   2      
 183   2              case CMD_BOOTLOADER:
 184   2                  //Not sure if ACK_OK is correct, should check
 185   2                  sendAcknowledgment(ACK_OK);
 186   2                  CyDelay(1000);
 187   2                  FTDI_ENABLE_REG_Write(0x00);
 188   2                  CyDelay(1000);
 189   2                  Bootloadable_Load();
 190   2                  break;
 191   2      
 192   2      //============================================================     CMD_CALIBRATE
 193   2      
 194   2              case CMD_HAND_CALIBRATE:
 195   2                  calib.speed = *((int16 *) &g_rx.buffer[1]);
 196   2                  calib.repetitions = *((int16 *) &g_rx.buffer[3]);
 197   2                  
 198   2                  // Speed & repetitions saturations
 199   2                  if (calib.speed < 0) {
 200   3                      calib.speed = 0;
 201   3                  } else if (calib.speed > 200) {
 202   3                      calib.speed = 200;
 203   3                  }
 204   2                  if (calib.repetitions < 0) {
 205   3                      calib.repetitions = 0;
 206   3                  } else if (calib.repetitions > 32767) {
 207   3                      calib.repetitions = 32767;
 208   3                  }
 209   2                  
 210   2                  g_refNew.pos[0] = 0;
 211   2                  calib.enabled = TRUE;
 212   2                  break;
 213   2      
 214   2      //=========================================================== ALL OTHER COMMANDS
 215   2              default:
 216   2                  break;
 217   2      
 218   2          }
 219   1      }
 220          
 221          
 222          //==============================================================================
 223          //                                                                     INFO SEND
 224          //==============================================================================
 225          
 226          void infoSend(void){
 227   1          unsigned char packet_string[1500];
 228   1          infoPrepare(packet_string);
 229   1          UART_RS485_PutString(packet_string);
 230   1      }
 231          
 232          
 233          //==============================================================================
 234          //                                                              COMMAND GET INFO
 235          //==============================================================================
 236          
 237          void infoGet(uint16 info_type) {
 238   1          unsigned char packet_string[1700] = "";
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 5   

 239   1      
 240   1          //==================================     choose info type and prepare string
 241   1      
 242   1          switch (info_type) {
 243   2              case INFO_ALL:
 244   2                  infoPrepare(packet_string);
 245   2                  UART_RS485_PutString(packet_string);
 246   2                  break;
 247   2      
 248   2              default:
 249   2                  break;
 250   2          }
 251   1      }
 252          
 253          //==============================================================================
 254          //                                                                GET PARAM LIST
 255          //==============================================================================
 256          
 257          void get_param_list(uint16 index) {
 258   1          //Package to be sent variables
 259   1          uint8 packet_data[2051] = "";
 260   1          uint16 packet_lenght = 2051;
 261   1      
 262   1          //Auxiliary variables
 263   1          uint8 CYDATA i;
 264   1          uint8 CYDATA string_lenght;
 265   1          int32 aux_int;
 266   1          uint8 aux_uchar;
 267   1      
 268   1          //Parameters menu string definitions
 269   1          char id_str[15] = "1 - Device ID:";
 270   1          char input_str[34] = "2 - Input mode:";
 271   1          char res_str[17] = "3 - Resolutions:";
 272   1          char m_off_str[25] = "4 - Measurement Offsets:";
 273   1          char mult_str[17] = "5 - Multipliers:";
 274   1          char pos_lim_flag_str[27] = "6 - Pos. limit active:";
 275   1          char pos_lim_str[28] = "7 - Pos. limits [inf, sup]:";
 276   1          char max_step_str[26] = "8 - Max steps [neg, pos]:";
 277   1          char emg_flag_str[36] = "9 - EMG calibration on startup:";
 278   1          char emg_thr_str[21] = "10 - EMG thresholds:";
 279   1          char emg_max_val_str[21] = "11 - EMG max values:";
 280   1          char emg_max_speed_str[20] = "12 - EMG max speed:";
 281   1          char handle_ratio_str[25] = "13 - Motor handle ratio:"; 
 282   1              char joystick_closure_speed_str[29] = "14 - Joystick closure speed:";
 283   1          char joystick_gains_str[20] = "15 - Joystick gain:";
 284   1              char myo2_master_str[36] = "16 - Myoelectric case 2 Master:";
 285   1          char rest_pos_flag_str[29] = "17 - Rest position flag:";
 286   1          char rest_pos_str[20] = "18 - Rest position:";
 287   1          char rest_pos_delay_str[40] = "19 - Rest position time delay (>10 ms):";
 288   1          char rest_vel_str[35] = "20 - Rest vel closure (ticks/sec):";
 289   1          char curr_prop_gain_str[40] = "21 - Current proportional gain (force):";
 290   1          char curr_sat_str[44]       = "22 - Current difference saturation (force):";
 291   1          char curr_dead_zone_str[32] = "23 - Current dead zone (force):";
 292   1          char max_slide_str[35]      = "24 - Max slide movement (proprio):";
 293   1          char max_SH_pos_str[37]     = "25 - Max SoftHand closure (proprio):";
 294   1          char master_mode_force_str[35] = "26 - Master with Force device:";
 295   1          char master_mode_proprio_str[39] = "27 - Master with Proprioc. device:";
 296   1          char SH_ID_str[18]          = "28 - SoftHand ID:";
 297   1          char FF_ID_str[22]          = "29 - Force device ID:";
 298   1          char PF_ID_str[31]          = "30 - Proprioceptive device ID:";
 299   1          char F_right_left_par_str[21] = "31 - Arm side:";
 300   1      
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 6   

 301   1          //Parameters menus
 302   1          char input_mode_menu[100] = "0 -> Usb\n1 -> Handle\n2 -> EMG prop.\n3 -> EMG Integ.\n4 -> EMG FCFS\n5 
             --> EMG FCFS Adv.\n6 -> Joystick\n";
 303   1          char F_right_left_menu[22] = "0 -> Right\n1 -> Left\n";
 304   1          char yes_no_menu[42] = "0 -> Deactivate [NO]\n1 -> Activate [YES]\n";
 305   1      
 306   1      
 307   1          //Strings lenghts
 308   1          uint8 CYDATA id_str_len = strlen(id_str);
 309   1          uint8 CYDATA res_str_len = strlen(res_str);
 310   1          uint8 CYDATA m_off_str_len = strlen(m_off_str);
 311   1          uint8 CYDATA mult_str_len = strlen(mult_str);
 312   1          uint8 CYDATA pos_lim_str_len = strlen(pos_lim_str);
 313   1          uint8 CYDATA max_step_str_len = strlen(max_step_str);
 314   1          uint8 CYDATA emg_thr_str_len = strlen(emg_thr_str);
 315   1          uint8 CYDATA emg_max_val_str_len = strlen(emg_max_val_str);
 316   1          uint8 CYDATA emg_max_speed_str_len = strlen(emg_max_speed_str);
 317   1          uint8 CYDATA handle_ratio_str_len = strlen(handle_ratio_str);
 318   1          uint8 CYDATA joystick_closure_speed_str_len = strlen(joystick_closure_speed_str);
 319   1          uint8 CYDATA joystick_gains_str_len = strlen(joystick_gains_str); 
 320   1          uint8 CYDATA rest_pos_str_len = strlen(rest_pos_str);
 321   1          uint8 CYDATA rest_pos_delay_str_len = strlen(rest_pos_delay_str);
 322   1          uint8 CYDATA rest_vel_str_len = strlen(rest_vel_str);   
 323   1          uint8 CYDATA curr_prop_gain_str_len = strlen(curr_prop_gain_str);
 324   1          uint8 CYDATA curr_sat_str_len = strlen(curr_sat_str);
 325   1          uint8 CYDATA curr_dead_zone_str_len = strlen(curr_dead_zone_str);
 326   1          uint8 CYDATA max_slide_str_len = strlen(max_slide_str);
 327   1          uint8 CYDATA max_SH_pos_str_len = strlen(max_SH_pos_str);
 328   1          uint8 CYDATA SH_ID_str_len = strlen(SH_ID_str);
 329   1          uint8 CYDATA FF_ID_str_len = strlen(FF_ID_str);
 330   1          uint8 CYDATA PF_ID_str_len = strlen(PF_ID_str);
 331   1          
 332   1          uint8 CYDATA input_mode_menu_len = strlen(input_mode_menu);
 333   1          uint8 CYDATA F_right_left_menu_len = strlen(F_right_left_menu);
 334   1          uint8 CYDATA yes_no_menu_len = strlen(yes_no_menu);
 335   1          
 336   1          packet_data[0] = CMD_GET_PARAM_LIST;
 337   1          packet_data[1] = NUM_OF_PARAMS;
 338   1      
 339   1          switch(index) {
 340   2              case 0:         //List of all parameters with relative types
 341   2                  /*-----------------ID-----------------*/
 342   2      
 343   2                  packet_data[2] = TYPE_UINT8;
 344   2                  packet_data[3] = 1;
 345   2                  packet_data[4] = c_mem.id;
 346   2                  for(i = id_str_len; i != 0; i--)
 347   2                      packet_data[5 + id_str_len - i] = id_str[id_str_len - i];
 348   2      
 349   2                  /*--------------INPUT MODE------------*/
 350   2                  
 351   2                  packet_data[52] = TYPE_FLAG;
 352   2                  packet_data[53] = 1;
 353   2                  packet_data[54] = c_mem.input_mode;
 354   2                  switch(c_mem.input_mode) {
 355   3                      case INPUT_MODE_EXTERNAL:
 356   3                          strcat(input_str, " Usb\0");
 357   3                          string_lenght = 20;
 358   3                      break;
 359   3                      case INPUT_MODE_ENCODER3:
 360   3                          strcat(input_str, " Handle\0");
 361   3                          string_lenght = 23;
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 7   

 362   3                      break;
 363   3                      case INPUT_MODE_EMG_PROPORTIONAL:
 364   3                          strcat(input_str, " EMG proportional\0");
 365   3                          string_lenght = 33;
 366   3                      break;
 367   3                      case INPUT_MODE_EMG_INTEGRAL:
 368   3                          strcat(input_str, " EMG integral\0");
 369   3                          string_lenght = 29;
 370   3                      break;
 371   3                      case INPUT_MODE_EMG_FCFS:
 372   3                          strcat(input_str, " EMG FCFS\0");
 373   3                          string_lenght = 25;
 374   3                      break;
 375   3                      case INPUT_MODE_EMG_FCFS_ADV:
 376   3                          strcat(input_str, " EMG FCFS Advanced\0");
 377   3                          string_lenght = 34;
 378   3                      break;
 379   3                      case INPUT_MODE_JOYSTICK:
 380   3                          strcat(input_str, " Joystick\0");
 381   3                          string_lenght = 25;
 382   3                      break;                    
 383   3                  }
 384   2                  for(i = string_lenght; i != 0; i--)
 385   2                      packet_data[55 + string_lenght - i] = input_str[string_lenght - i];
 386   2                  //The following byte indicates the number of menus at the end of the packet to send
 387   2                  packet_data[55 + string_lenght] = 1;
 388   2                  
 389   2                  /*-------------RESOLUTIONS------------*/
 390   2                  
 391   2                  packet_data[102] = TYPE_UINT8;
 392   2                  packet_data[103] = 3;
 393   2                  for(i = 0; i < NUM_OF_SENSORS; i++)
 394   2                      packet_data[i + 104] = c_mem.res[i];
 395   2                  for(i = res_str_len; i != 0; i--)
 396   2                      packet_data[107 + res_str_len - i] = res_str[res_str_len - i];
 397   2                  
 398   2                  /*----------MEASUREMENT OFFSET--------*/
 399   2                  
 400   2                  packet_data[152] = TYPE_INT16;
 401   2                  packet_data[153] = 3;
 402   2                  for(i = 0; i < NUM_OF_SENSORS; i++) 
 403   2                      *((int16 *) ( packet_data + 154 + (i * 2) )) = (int16) (c_mem.m_off[i] >> c_mem.res[i]);
 404   2                  for(i = m_off_str_len; i != 0; i--)
 405   2                      packet_data[160 + m_off_str_len - i] = m_off_str[m_off_str_len - i];
 406   2                  
 407   2                  /*------------MULTIPLIERS-------------*/
 408   2                  
 409   2                  packet_data[202] = TYPE_FLOAT;
 410   2                  packet_data[203] = 3;
 411   2                  for(i = 0; i < NUM_OF_SENSORS; i++)
 412   2                      *((float *) ( packet_data + 204 + (i * 4) )) = c_mem.m_mult[i];
 413   2                  for(i = mult_str_len; i != 0; i--)
 414   2                      packet_data[216 + mult_str_len - i] = mult_str[mult_str_len - i];
 415   2      
 416   2                  /*-----------POS LIMIT FLAG-----------*/
 417   2                  
 418   2                  packet_data[252] = TYPE_FLAG;
 419   2                  packet_data[253] = 1;
 420   2                  packet_data[254] = c_mem.pos_lim_flag;
 421   2                  if(c_mem.pos_lim_flag) {
 422   3                      strcat(pos_lim_flag_str, " YES\0");
 423   3                      string_lenght = 27;
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 8   

 424   3                  }
 425   2                  else {
 426   3                      strcat(pos_lim_flag_str, " NO\0");
 427   3                      string_lenght = 26;
 428   3                  }
 429   2                  for(i = string_lenght; i != 0; i--)
 430   2                      packet_data[255 + string_lenght - i] = pos_lim_flag_str[string_lenght - i];
 431   2                  //The following byte indicates the number of menus at the end of the packet to send
 432   2                  packet_data[255 + string_lenght] = 3;
 433   2                  
 434   2                  /*-----------POSITION LIMITS----------*/
 435   2                  
 436   2                  packet_data[302] = TYPE_INT32;
 437   2                  packet_data[303] = 2;
 438   2                  for (i = 0; i < NUM_OF_MOTORS - 1; i++) {
 439   3                      *((int32 *)( packet_data + 304 + (i * 2 * 4) )) = (c_mem.pos_lim_inf[i] >> c_mem.res[i]);
 440   3                      *((int32 *)( packet_data + 304 + (i * 2 * 4) + 4)) = (c_mem.pos_lim_sup[i] >> c_mem.res[i]
             -);
 441   3                  }
 442   2                  for(i = pos_lim_str_len; i != 0; i--)
 443   2                      packet_data[312 + pos_lim_str_len - i] = pos_lim_str[pos_lim_str_len - i];
 444   2      
 445   2                  /*--------------MAX STEPS-------------*/
 446   2                  
 447   2                  packet_data[352] = TYPE_INT32;
 448   2                  packet_data[353] = 2;
 449   2                  *((int32 *)(packet_data + 354)) = c_mem.max_step_neg;
 450   2                  *((int32 *)(packet_data + 358)) = c_mem.max_step_pos;
 451   2                  for(i = max_step_str_len; i != 0; i--)
 452   2                      packet_data[362 + max_step_str_len - i] = max_step_str[max_step_str_len - i];
 453   2      
 454   2                  /*-----------EMG CALIB FLAG-----------*/            
 455   2                  
 456   2                  packet_data[402] = TYPE_FLAG;
 457   2                  packet_data[403] = 1;
 458   2                  packet_data[404] = c_mem.emg_calibration_flag;
 459   2                  if(c_mem.emg_calibration_flag) {
 460   3                      strcat(emg_flag_str, " YES\0");
 461   3                      string_lenght = 36;
 462   3                  }
 463   2                  else {
 464   3                      strcat(emg_flag_str, " NO\0");
 465   3                      string_lenght = 35;
 466   3                  }
 467   2                  for(i = string_lenght; i != 0; i--)
 468   2                      packet_data[405 + string_lenght - i] = emg_flag_str[string_lenght - i];
 469   2                  //The following byte indicates the number of menus at the end of the packet to send
 470   2                  packet_data[405 + string_lenght] = 3;
 471   2                  
 472   2                  /*-----------EMG THRESHOLDS-----------*/
 473   2              
 474   2                  packet_data[452] = TYPE_UINT16;
 475   2                  packet_data[453] = 2;
 476   2                  *((uint16 *)(packet_data + 454)) = c_mem.emg_threshold[0];
 477   2                  *((uint16 *)(packet_data + 456)) = c_mem.emg_threshold[1];
 478   2                  for(i = emg_thr_str_len; i != 0; i--)
 479   2                      packet_data[458 + emg_thr_str_len - i] = emg_thr_str[emg_thr_str_len - i];
 480   2                  
 481   2                  /*------------EMG MAX VALUE-----------*/
 482   2                  
 483   2                  packet_data[502] = TYPE_UINT32;
 484   2                  packet_data[503] = 2;
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 9   

 485   2                  *((uint32 *)(packet_data + 504)) = c_mem.emg_max_value[0];
 486   2                  *((uint32 *)(packet_data + 508)) = c_mem.emg_max_value[1];
 487   2                  for(i = emg_max_val_str_len; i != 0; i--)
 488   2                      packet_data[512 + emg_max_val_str_len - i] = emg_max_val_str[emg_max_val_str_len - i];
 489   2      
 490   2                  /*--------------EMG SPEED-------------*/
 491   2                  
 492   2                  packet_data[552] = TYPE_UINT8;
 493   2                  packet_data[553] = 1;
 494   2                  packet_data[554] = c_mem.emg_speed;
 495   2                  for(i = emg_max_speed_str_len; i != 0; i--)
 496   2                      packet_data[555 + emg_max_speed_str_len - i] = emg_max_speed_str[emg_max_speed_str_len - i
             -];
 497   2                  
 498   2                  /*-------------HANDLE RATIO-----------*/
 499   2                  
 500   2                  packet_data[602] = TYPE_INT8;
 501   2                  packet_data[603] = 1;
 502   2                  *((int8 *)(packet_data + 604)) = c_mem.motor_handle_ratio;
 503   2                  for(i = handle_ratio_str_len; i != 0; i--)
 504   2                      packet_data[605 + handle_ratio_str_len - i] = handle_ratio_str[handle_ratio_str_len - i];
 505   2                                 
 506   2                  /*-------------JOYSTICK CLOSURE SPEED------------*/
 507   2      
 508   2                  packet_data[652] = TYPE_UINT16;
 509   2                  packet_data[653] = 1;
 510   2                  *((uint16 *) (packet_data + 654)) = c_mem.joystick_closure_speed;
 511   2                  for(i = joystick_closure_speed_str_len; i != 0; i--)
 512   2                      packet_data[656 + joystick_closure_speed_str_len - i] = joystick_closure_speed_str[joystic
             -k_closure_speed_str_len - i]; 
 513   2      
 514   2                  /*------------JOYSTICK GAIN------------*/
 515   2                      
 516   2                  packet_data[702] = TYPE_UINT16;
 517   2                  packet_data[703] = 1;
 518   2                  *((uint16 *) (packet_data + 704)) = c_mem.joystick_gain;
 519   2                  for(i = joystick_gains_str_len; i != 0; i--)
 520   2                      packet_data[706 + joystick_gains_str_len - i] = joystick_gains_str[joystick_gains_str_len 
             -- i];
 521   2                                             
 522   2                  /*------------MASTER MODE MYO2----------*/
 523   2                  
 524   2                  packet_data[752] = TYPE_FLAG;
 525   2                  packet_data[753] = 1;
 526   2                  packet_data[754] = c_mem.is_myo2_master;
 527   2                  if(c_mem.is_myo2_master) {
 528   3                      strcat(myo2_master_str, " YES\0");
 529   3                      string_lenght = 36;
 530   3                  }
 531   2                  else {
 532   3                      strcat(myo2_master_str, " NO\0");
 533   3                      string_lenght = 35;
 534   3                  }
 535   2                  for(i = string_lenght; i != 0; i--)
 536   2                      packet_data[755 + string_lenght - i] = myo2_master_str[string_lenght - i];
 537   2                  //The following byte indicates the number of menus at the end of the packet to send
 538   2                  packet_data[755 + string_lenght] = 3;
 539   2                  
 540   2                  /*-----------REST POSITION FLAG-----------*/            
 541   2                  
 542   2                  packet_data[802] = TYPE_FLAG;
 543   2                  packet_data[803] = 1;
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 10  

 544   2                  packet_data[804] = c_mem.rest_position_flag;
 545   2                  if(c_mem.rest_position_flag) {
 546   3                      strcat(rest_pos_flag_str, " YES\0");
 547   3                      string_lenght = 29;
 548   3                  }
 549   2                  else {
 550   3                      strcat(rest_pos_flag_str, " NO\0");
 551   3                      string_lenght = 28;
 552   3                  }
 553   2                  for(i = string_lenght; i != 0; i--)
 554   2                      packet_data[805 + string_lenght - i] = rest_pos_flag_str[string_lenght - i];
 555   2                  //The following byte indicates the number of menus at the end of the packet to send
 556   2                  packet_data[805 + string_lenght] = 3;
 557   2                  
 558   2                  /*-----------REST POSITION----------*/
 559   2                  
 560   2                  packet_data[852] = TYPE_INT32;
 561   2                  packet_data[853] = 1;
 562   2                  *((int32 *)( packet_data + 854 )) = (c_mem.rest_pos >> c_mem.res[0]);
 563   2                  for(i = rest_pos_str_len; i != 0; i--)
 564   2                      packet_data[858 + rest_pos_str_len - i] = rest_pos_str[rest_pos_str_len - i];
 565   2                      
 566   2                  /*-----------REST POSITION TIME DELAY----------*/
 567   2                  
 568   2                  packet_data[902] = TYPE_INT32;
 569   2                  packet_data[903] = 1;
 570   2                  *((int32 *)( packet_data + 904 )) = c_mem.rest_delay;
 571   2                  for(i = rest_pos_delay_str_len; i != 0; i--)
 572   2                      packet_data[908 + rest_pos_delay_str_len - i] = rest_pos_delay_str[rest_pos_delay_str_len 
             -- i];
 573   2                      
 574   2                  /*-----------REST POSITION VELOCITY----------*/
 575   2                  
 576   2                  packet_data[952] = TYPE_INT32;
 577   2                  packet_data[953] = 1;
 578   2                  *((int32 *)( packet_data + 954 )) = c_mem.rest_vel;
 579   2                  for(i = rest_vel_str_len; i != 0; i--)
 580   2                      packet_data[958 + rest_vel_str_len - i] = rest_vel_str[rest_vel_str_len - i]; 
 581   2                      
 582   2                  /*-----CURRENT PROPORTIONAL GAIN-----*/
 583   2      
 584   2                  packet_data[1002] = TYPE_FLOAT;
 585   2                  packet_data[1003] = 1;
 586   2                  *((float *)(packet_data + 1004)) = c_mem.curr_prop_gain;
 587   2                  for(i = curr_prop_gain_str_len; i!= 0; i--)
 588   2                      packet_data[1008 + curr_prop_gain_str_len - i] = curr_prop_gain_str[curr_prop_gain_str_len
             - - i];
 589   2      
 590   2                  /*---------CURRENT SATURATION--------*/
 591   2      
 592   2                  packet_data[1052] = TYPE_INT16;
 593   2                  packet_data[1053] = 1;
 594   2                  *((int16 *)(packet_data + 1054)) = c_mem.curr_sat;
 595   2                  for(i = curr_sat_str_len; i!= 0; i--)
 596   2                      packet_data[1056 + curr_sat_str_len - i] = curr_sat_str[curr_sat_str_len - i];
 597   2      
 598   2                  /*---------CURRENT DEAD ZONE---------*/
 599   2      
 600   2                  packet_data[1102] = TYPE_INT16;
 601   2                  packet_data[1103] = 1;
 602   2                  *((int16 *)(packet_data + 1104)) = c_mem.curr_dead_zone;
 603   2                  for(i = curr_dead_zone_str_len; i!= 0; i--)
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 11  

 604   2                      packet_data[1106 + curr_dead_zone_str_len - i] = curr_dead_zone_str[curr_dead_zone_str_len
             - - i];
 605   2                      
 606   2                  /*---------MAX SLIDE---------*/
 607   2      
 608   2                  packet_data[1152] = TYPE_INT32;
 609   2                  packet_data[1153] = 1;
 610   2                  *((int32 *)(packet_data + 1154)) = c_mem.max_slide;
 611   2                  for(i = max_slide_str_len; i!= 0; i--)
 612   2                      packet_data[1158 + max_slide_str_len - i] = max_slide_str[max_slide_str_len - i];
 613   2                      
 614   2                  /*---------MAX SH POS---------*/
 615   2      
 616   2                  packet_data[1202] = TYPE_INT32;
 617   2                  packet_data[1203] = 1;
 618   2                  *((int32 *)(packet_data + 1204)) = c_mem.max_SH_pos;
 619   2                  for(i = max_SH_pos_str_len; i!= 0; i--)
 620   2                      packet_data[1208 + max_SH_pos_str_len - i] = max_SH_pos_str[max_SH_pos_str_len - i];
 621   2                  
 622   2                  /*------------MASTER MODE FORCE----------*/
 623   2                  
 624   2                  packet_data[1252] = TYPE_FLAG;
 625   2                  packet_data[1253] = 1;
 626   2                  packet_data[1254] = c_mem.is_force_fb_present;
 627   2                  if(c_mem.is_force_fb_present) {
 628   3                      strcat(master_mode_force_str, " YES\0");
 629   3                      string_lenght = 35;
 630   3                  }
 631   2                  else {
 632   3                      strcat(master_mode_force_str, " NO\0");
 633   3                      string_lenght = 34;
 634   3                  }
 635   2                  for(i = string_lenght; i != 0; i--)
 636   2                      packet_data[1255 + string_lenght - i] = master_mode_force_str[string_lenght - i];
 637   2                  //The following byte indicates the number of menus at the end of the packet to send
 638   2                  packet_data[1255 + string_lenght] = 3;
 639   2                  
 640   2                  /*------------MASTER MODE PROPRIO----------*/
 641   2                  
 642   2                  packet_data[1302] = TYPE_FLAG;
 643   2                  packet_data[1303] = 1;
 644   2                  packet_data[1304] = c_mem.is_proprio_fb_present;
 645   2                  if(c_mem.is_proprio_fb_present) {
 646   3                      strcat(master_mode_proprio_str, " YES\0");
 647   3                      string_lenght = 39;
 648   3                  }
 649   2                  else {
 650   3                      strcat(master_mode_proprio_str, " NO\0");
 651   3                      string_lenght = 38;
 652   3                  }
 653   2                  for(i = string_lenght; i != 0; i--)
 654   2                      packet_data[1305 + string_lenght - i] = master_mode_proprio_str[string_lenght - i];
 655   2                  //The following byte indicates the number of menus at the end of the packet to send
 656   2                  packet_data[1305 + string_lenght] = 3;
 657   2                 
 658   2                  /*---------HAND ID---------*/
 659   2      
 660   2                  packet_data[1352] = TYPE_UINT8;
 661   2                  packet_data[1353] = 1;
 662   2                  *((uint8 *)(packet_data + 1354)) = c_mem.SH_ID;
 663   2                  for(i = SH_ID_str_len; i!= 0; i--)
 664   2                      packet_data[1355 + SH_ID_str_len - i] = SH_ID_str[SH_ID_str_len - i];
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 12  

 665   2                      
 666   2                  /*---------FORCE FEEDBACK DEVICE ID---------*/
 667   2      
 668   2                  packet_data[1402] = TYPE_UINT8;
 669   2                  packet_data[1403] = 1;
 670   2                  *((uint8 *)(packet_data + 1404)) = c_mem.ForceF_ID;
 671   2                  for(i = FF_ID_str_len; i!= 0; i--)
 672   2                      packet_data[1405 + FF_ID_str_len - i] = FF_ID_str[FF_ID_str_len - i];
 673   2                      
 674   2                  /*---------PROPRIOCEPTIVE FEEDBACK DEVICE ID---------*/
 675   2      
 676   2                  packet_data[1452] = TYPE_UINT8;
 677   2                  packet_data[1453] = 1;
 678   2                  *((uint8 *)(packet_data + 1454)) = c_mem.ProprioF_ID;
 679   2                  for(i = PF_ID_str_len; i!= 0; i--)
 680   2                      packet_data[1455 + PF_ID_str_len - i] = PF_ID_str[PF_ID_str_len - i];                
 681   2      
 682   2                  /*--------RIGHT LEFT-------*/
 683   2      
 684   2                  packet_data[1502] = TYPE_FLAG;
 685   2                  packet_data[1503] = 1;
 686   2                  packet_data[1504] = c_mem.F_right_left;
 687   2                  if(c_mem.F_right_left) {
 688   3                      strcat(F_right_left_par_str, " Left\0");
 689   3                      string_lenght = 20;
 690   3                  }
 691   2                  else {
 692   3                      strcat(F_right_left_par_str, " Right\0");
 693   3                      string_lenght = 21;
 694   3                  }
 695   2                  for(i = string_lenght; i!=0; i--)
 696   2                      packet_data[1505 + string_lenght - i] = F_right_left_par_str[string_lenght - i];
 697   2                  //The following byte indicates the number of menus at the end of the packet to sen
 698   2                  packet_data[1505 + string_lenght] = 2;
 699   2      
 700   2                  /*------------PARAMETERS MENU-----------*/
 701   2      
 702   2                  for(i = input_mode_menu_len; i != 0; i--)
 703   2                      packet_data[1552 + input_mode_menu_len - i] = input_mode_menu[input_mode_menu_len - i];
 704   2      
 705   2                  for(i = F_right_left_menu_len; i!= 0; i--)
 706   2                      packet_data[1702 + F_right_left_menu_len - i] = F_right_left_menu[F_right_left_menu_len - 
             -i];
 707   2      
 708   2                  for(i = yes_no_menu_len; i!= 0; i--)
 709   2                      packet_data[1852 + yes_no_menu_len - i] = yes_no_menu[yes_no_menu_len - i];
 710   2                  
 711   2                  packet_data[packet_lenght - 1] = LCRChecksum(packet_data,packet_lenght - 1);
 712   2                  commWrite(packet_data, packet_lenght);
 713   2              break;
 714   2      
 715   2      //===================================================================     set_id
 716   2              case 1:         //ID - uint8
 717   2                  g_mem.id = g_rx.buffer[3];
 718   2              break;
 719   2      
 720   2      //===========================================================     set_input_mode        
 721   2              case 2:         //Input mode - uint8
 722   2                  g_mem.input_mode = *((uint8*) &g_rx.buffer[3]);
 723   2              break;
 724   2              
 725   2      //===========================================================     set_resolution
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 13  

 726   2              case 3:         //Resolution - uint8[3]
 727   2                  for (i =0; i < NUM_OF_SENSORS; i++) {
 728   3                      g_mem.res[i] = g_rx.buffer[i+3];
 729   3                  }
 730   2              break;
 731   2              
 732   2      //===============================================================     set_offset
 733   2              case 4:         //Measurement Offset - int32[3] 
 734   2                  for(i = 0; i < NUM_OF_SENSORS; ++i) {
 735   3                      g_mem.m_off[i] = *((int16 *) &g_rx.buffer[3 + i * 2]);
 736   3                      g_mem.m_off[i] = g_mem.m_off[i] << g_mem.res[i];
 737   3      
 738   3                      g_meas.rot[i] = 0;
 739   3                  }
 740   2                  reset_last_value_flag = 1;
 741   2              break;
 742   2              
 743   2      //===========================================================     set_multiplier
 744   2              case 5:         //Multipliers - float[3]
 745   2                  for(i = 0; i < NUM_OF_SENSORS; ++i)
 746   2                      g_mem.m_mult[i] = *((float *) &g_rx.buffer[3 + i * 4]);
 747   2              break;
 748   2              
 749   2      //=====================================================     set_pos_limit_enable
 750   2              case 6:        //Position limit flag - uint8
 751   2                  g_mem.pos_lim_flag = *((uint8 *) &g_rx.buffer[3]);
 752   2              break;
 753   2      
 754   2      //============================================================     set_pos_limit
 755   2              case 7:        //Position limits - int32[4]
 756   2                  for (i = 0; i < NUM_OF_MOTORS; i++) {
 757   3                      g_mem.pos_lim_inf[i] = *((int32 *) &g_rx.buffer[3 + (i * 2 * 4)]);
 758   3                      g_mem.pos_lim_sup[i] = *((int32 *) &g_rx.buffer[3 + (i * 2 * 4) + 4]);
 759   3      
 760   3                      g_mem.pos_lim_inf[i] = g_mem.pos_lim_inf[i] << g_mem.res[i];
 761   3                      g_mem.pos_lim_sup[i] = g_mem.pos_lim_sup[i] << g_mem.res[i];
 762   3                  }
 763   2              break;
 764   2      
 765   2      //==================================================     set_max_steps_per_cycle
 766   2              case 8:        //Max steps - int32[2]
 767   2                  aux_int = *((int32 *) &g_rx.buffer[3]);
 768   2                  if (aux_int <= 0)
 769   2                      g_mem.max_step_neg = aux_int;
 770   2      
 771   2                  aux_int = *((int32 *) &g_rx.buffer[3 + 4]);
 772   2                  if (aux_int >= 0) 
 773   2                      g_mem.max_step_pos = aux_int;
 774   2                  
 775   2              break;
 776   2              
 777   2      //=======================================================     set_emg_calib_flag
 778   2              case 9:        //Emg calibration flag - int8
 779   2                  g_mem.emg_calibration_flag = *((uint8*) &g_rx.buffer[3]);
 780   2              break;
 781   2              
 782   2      //========================================================     set_emg_threshold
 783   2              case 10:        //Emg threshold - uint16[2]
 784   2                  g_mem.emg_threshold[0] = *((uint16*) &g_rx.buffer[3]);
 785   2                  g_mem.emg_threshold[1] = *((uint16*) &g_rx.buffer[5]);
 786   2              break;
 787   2              
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 14  

 788   2      //========================================================     set_emg_max_value
 789   2              case 11:        //Emg max value - uint32[2]
 790   2                  g_mem.emg_max_value[0] = *((uint32*) &g_rx.buffer[3]);
 791   2                  g_mem.emg_max_value[1] = *((uint32*) &g_rx.buffer[7]);
 792   2              break;
 793   2              
 794   2      //============================================================     set_emg_speed
 795   2              case 12:        //Emg max speed - uint8
 796   2                  g_mem.emg_speed = *((uint8*) &g_rx.buffer[3]);
 797   2              break;
 798   2              
 799   2      //===================================================     set_motor_handle_ratio
 800   2              case 13:        //Motor handle ratio - int8
 801   2                  g_mem.motor_handle_ratio = *((int8*) &g_rx.buffer[3]);
 802   2              break;
 803   2      //===================================================     set_joystick_closure_speed
 804   2              case 14:
 805   2                  g_mem.joystick_closure_speed = *((uint16 *) &g_rx.buffer[3]);
 806   2              break;
 807   2      //===================================================     set_joystick_gain
 808   2              case 15:
 809   2                  g_mem.joystick_gain = *((uint16 *) &g_rx.buffer[3]);
 810   2              break;         
 811   2      //================================================     set_myo2_master
 812   2              case 16:        //Is Myo2 master present - uint8
 813   2                  aux_uchar = *((uint8*) &g_rx.buffer[3]);
 814   2                  if (aux_uchar) {
 815   3                      g_mem.is_myo2_master = 1;
 816   3                  } else {
 817   3                      g_mem.is_myo2_master = 0;
 818   3                  }
 819   2              break;  
 820   2      //=======================================================     set_rest_position_flag
 821   2              case 17:        //Rest position flag - int8
 822   2                  g_mem.rest_position_flag = *((uint8*) &g_rx.buffer[3]);
 823   2              break; 
 824   2      //============================================================     set_rest_pos
 825   2              case 18:        //Rest Position - int32
 826   2                  g_mem.rest_pos = *((int32 *) &g_rx.buffer[3]);
 827   2                  g_mem.rest_pos = g_mem.rest_pos << g_mem.res[0];
 828   2              break;   
 829   2      //============================================================     set_rest_delay_pos
 830   2              case 19:        //Rest Position Time Delay - int32
 831   2                  g_mem.rest_delay = *((int32 *) &g_rx.buffer[3]);
 832   2                  if (g_mem.rest_delay < 10) g_mem.rest_delay = 10;
 833   2              break;   
 834   2      //============================================================     set_rest_vel
 835   2              case 20:        //Rest Position Velocity - int32
 836   2                  g_mem.rest_vel = *((int32 *) &g_rx.buffer[3]);
 837   2              break; 
 838   2      //=======================================================     set_curr_prop_gain
 839   2              case 21:
 840   2                  g_mem.curr_prop_gain = *((float*) &g_rx.buffer[3]);
 841   2              break;
 842   2      //=============================================================     set_curr_sat
 843   2              case 22: 
 844   2                  g_mem.curr_sat = *((int16*) &g_rx.buffer[3]);
 845   2              break;
 846   2      //=======================================================     set_curr_dead_zone
 847   2              case 23:
 848   2                  g_mem.curr_dead_zone = *((int16*) &g_rx.buffer[3]);
 849   2              break;            
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 15  

 850   2      //=============================================================     set_max_slide
 851   2              case 24: 
 852   2                  g_mem.max_slide = *((int32*) &g_rx.buffer[3]);
 853   2              break;            
 854   2      //=============================================================     set_max_SH_pos
 855   2              case 25: 
 856   2                  g_mem.max_SH_pos = *((int32*) &g_rx.buffer[3]);
 857   2              break;              
 858   2      //================================================     set_master_mode_force
 859   2              case 26:        //Is force feedback present - uint8
 860   2                  aux_uchar = *((uint8*) &g_rx.buffer[3]);
 861   2                  if (aux_uchar) {
 862   3                      g_mem.is_force_fb_present = 1;
 863   3                  } else {
 864   3                      g_mem.is_force_fb_present = 0;
 865   3                  }
 866   2              break;
 867   2      //================================================     set_master_mode_proprio
 868   2              case 27:        //Is proprio feedback present - uint8
 869   2                  aux_uchar = *((uint8*) &g_rx.buffer[3]);
 870   2                  if (aux_uchar) {
 871   3                      g_mem.is_proprio_fb_present = 1;
 872   3                  } else {
 873   3                      g_mem.is_proprio_fb_present = 0;
 874   3                  }
 875   2              break;    
 876   2      //=============================================================     set_SH_ID
 877   2              case 28: 
 878   2                  g_mem.SH_ID = *((uint8*) &g_rx.buffer[3]);
 879   2              break;   
 880   2      //=============================================================     set_FF_ID
 881   2              case 29: 
 882   2                  g_mem.ForceF_ID = *((uint8*) &g_rx.buffer[3]);
 883   2              break; 
 884   2      //=============================================================     set_PF_ID
 885   2              case 30: 
 886   2                  g_mem.ProprioF_ID = *((uint8*) &g_rx.buffer[3]);
 887   2              break;
 888   2      //=============================================================     set_F_right_left
 889   2              case 31:
 890   2                  g_mem.F_right_left = *((uint8*) & g_rx.buffer[3]);
 891   2              break;                        
 892   2          }            
 893   1      }
 894          
 895          //==============================================================================
 896          //                                                            COMMAND SET ZEROS
 897          //==============================================================================
 898          
 899          void setZeros()
 900          {
 901   1          uint8 CYDATA i;        // iterator
 902   1      
 903   1          for(i = 0; i < NUM_OF_SENSORS; ++i) {
 904   2              g_mem.m_off[i] = *((int16 *) &g_rx.buffer[1 + i * 2]);
 905   2              g_mem.m_off[i] = g_mem.m_off[i] << g_mem.res[i];
 906   2      
 907   2              g_meas.rot[i] = 0;
 908   2          }
 909   1          reset_last_value_flag = 1;
 910   1      
 911   1          sendAcknowledgment(ACK_OK);
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 16  

 912   1      }
 913          
 914          //==============================================================================
 915          //                                                           PREPARE DEVICE INFO
 916          //==============================================================================
 917          
 918          void infoPrepare(unsigned char *info_string)
 919          {
 920   1          int i;
 921   1          if(c_mem.id != 250){                //To avoid dummy board ping
 922   2              unsigned char str[100];
 923   2              strcpy(info_string, "");
 924   2              strcat(info_string, "\r\n");
 925   2              strcat(info_string, "Firmware version: ");
 926   2              strcat(info_string, VERSION);
 927   2              strcat(info_string, ".\r\n\r\n");
 928   2      
 929   2              strcat(info_string, "DEVICE INFO\r\n");
 930   2              sprintf(str, "ID: %d\r\n", (int) c_mem.id);
 931   2              strcat(info_string, str);
 932   2      
 933   2              strcat(info_string, "\r\nMEASUREMENTS INFO\r\n");
 934   2              strcat(info_string, "Sensor value:\r\n");
 935   2              for (i = 0; i < NUM_OF_SENSORS; i++) {
 936   3                  sprintf(str, "%d -> %d", i+1,
 937   3                  (int)(g_meas.pos[i] >> c_mem.res[i]));
 938   3                  strcat(info_string, str);
 939   3                  strcat(info_string, "\r\n");
 940   3              }
 941   2      
 942   2              sprintf(str, "Battery Voltage (mV): %ld", (int32) dev_tension );
 943   2              strcat(info_string, str);
 944   2              strcat(info_string, "\r\n");
 945   2              
 946   2              sprintf(str, "Full charge power tension (mV): %ld", (int32) pow_tension );
 947   2              strcat(info_string, str);
 948   2              strcat(info_string, "\r\n");
 949   2      
 950   2              strcat(info_string, "\r\nDEVICE PARAMETERS\r\n");
 951   2      
 952   2              switch(c_mem.input_mode) {
 953   3                  case INPUT_MODE_EXTERNAL:
 954   3                      strcat(info_string, "Input mode: USB\r\n");
 955   3                      break;
 956   3                  case INPUT_MODE_ENCODER3:
 957   3                      strcat(info_string, "Input mode: Handle\r\n");
 958   3                      break;
 959   3                  case INPUT_MODE_EMG_PROPORTIONAL:
 960   3                      strcat(info_string, "Input mode: EMG proportional\r\n");
 961   3                      break;
 962   3                  case INPUT_MODE_EMG_INTEGRAL:
 963   3                      strcat(info_string, "Input mode: EMG integral\r\n");
 964   3                      break;
 965   3                  case INPUT_MODE_EMG_FCFS:
 966   3                      strcat(info_string, "Input mode: EMG FCFS\r\n");
 967   3                      break;
 968   3                  case INPUT_MODE_EMG_FCFS_ADV:
 969   3                      strcat(info_string, "Input mode: EMG FCFS ADV\r\n");
 970   3                      break;
 971   3                  case INPUT_MODE_JOYSTICK:
 972   3                      strcat(info_string, "Input mode: Joystick\r\n");
 973   3                      break;
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 17  

 974   3              }
 975   2      
 976   2              sprintf(str, "Motor-Handle Ratio: %d\r\n", (int)c_mem.motor_handle_ratio);
 977   2              strcat(info_string, str);
 978   2      
 979   2      
 980   2      
 981   2              strcat(info_string, "Sensor resolution:\r\n");
 982   2              for (i = 0; i < NUM_OF_SENSORS; ++i) {
 983   3                  sprintf(str, "%d -> %d", (int) (i + 1), (int) c_mem.res[i]);
 984   3                  strcat(info_string, str);
 985   3                  strcat(info_string, "\r\n");
 986   3              }
 987   2      
 988   2      
 989   2              strcat(info_string, "Measurement Offset:\r\n");
 990   2              for (i = 0; i < NUM_OF_SENSORS; ++i) {
 991   3                  sprintf(str, "%d -> %ld", (int) (i + 1), (int32) c_mem.m_off[i] >> c_mem.res[i]);
 992   3                  strcat(info_string, str);
 993   3                  strcat(info_string, "\r\n");
 994   3              }
 995   2      
 996   2              strcat(info_string, "Measurement Multiplier:\r\n");
 997   2              for (i = 0; i < NUM_OF_SENSORS; ++i) {
 998   3                  sprintf(str,"%d -> %f", (int)(i + 1), (double) c_mem.m_mult[i]);
 999   3                  strcat(info_string, str);
1000   3                  strcat(info_string,"\r\n");
1001   3              }        
1002   2      
1003   2              sprintf(str, "Position limit active: %d", (int)g_mem.pos_lim_flag);
1004   2              strcat(info_string, str);
1005   2              strcat(info_string, "\r\n");
1006   2      
1007   2              for (i = 0; i < NUM_OF_MOTORS - 1; i++) {
1008   3                  sprintf(str, "Position limit motor %d: inf -> %ld  ", (int)(i + 1),
1009   3                  (int32)g_mem.pos_lim_inf[i] >> g_mem.res[i]);
1010   3                  strcat(info_string, str);
1011   3      
1012   3                  sprintf(str, "sup -> %ld\r\n",
1013   3                  (int32)g_mem.pos_lim_sup[i] >> g_mem.res[i]);
1014   3                  strcat(info_string, str);
1015   3              }
1016   2      
1017   2              sprintf(str, "Max step pos and neg: %d %d", (int)g_mem.max_step_pos, (int)g_mem.max_step_neg);
1018   2              strcat(info_string, str);
1019   2              strcat(info_string, "\r\n");
1020   2      
1021   2              sprintf(str, "Joystick closure speed: %d", c_mem.joystick_closure_speed);
1022   2              strcat(info_string, str);
1023   2              strcat(info_string, "\r\n");
1024   2              sprintf(str, "Joystick gain: %hu", c_mem.joystick_gain);
1025   2              strcat(info_string, str);
1026   2              strcat(info_string, "\r\n");
1027   2                      
1028   2              sprintf(str, "EMG thresholds [0 - 1024]: %u, %u", g_mem.emg_threshold[0], g_mem.emg_threshold[1]);
1029   2              strcat(info_string, str);
1030   2              strcat(info_string, "\r\n");
1031   2      
1032   2              sprintf(str, "EMG max values [0 - 4096]: %lu, %lu", g_mem.emg_max_value[0], g_mem.emg_max_value[1]
             -);
1033   2              strcat(info_string, str);
1034   2              strcat(info_string, "\r\n");
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 18  

1035   2      
1036   2              if (g_mem.emg_calibration_flag) {
1037   3                  strcat(info_string, "Calibration enabled: YES\r\n");
1038   3              } else {
1039   3                  strcat(info_string, "Calibration enabled: NO\r\n");
1040   3              }
1041   2      
1042   2              sprintf(str, "EMG max speed: %d", (int)g_mem.emg_speed);
1043   2              strcat(info_string, str);
1044   2              strcat(info_string, "\r\n");
1045   2              
1046   2              sprintf(str, "Rest time delay (ms): %d", (int)g_mem.rest_delay);
1047   2              strcat(info_string, str);
1048   2              strcat(info_string, "\r\n");
1049   2              
1050   2              sprintf(str, "Rest velocity closure (ticks/sec): %d", (int)g_mem.rest_vel);
1051   2              strcat(info_string, str);
1052   2              strcat(info_string, "\r\n");
1053   2              
1054   2              sprintf(str, "Rest position: %d", (int)(g_mem.rest_pos >> c_mem.res[0]));
1055   2              strcat(info_string, str);
1056   2              strcat(info_string, "\r\n");   
1057   2              
1058   2              if (g_mem.is_myo2_master) {
1059   3                  strcat(info_string, "Myoelectric case 2 Master: YES\r\n");
1060   3              } else {
1061   3                  strcat(info_string, "Myoelectric case 2 Master: NO\r\n");
1062   3              }
1063   2              
1064   2              if (g_mem.is_force_fb_present) {
1065   3                  strcat(info_string, "Master with Force device: YES\r\n");
1066   3              } else {
1067   3                  strcat(info_string, "Master with Force device: NO\r\n");
1068   3              }
1069   2              
1070   2              if (g_mem.is_proprio_fb_present) {
1071   3                  strcat(info_string, "Master with Proprioceptive device: YES\r\n");
1072   3              } else {
1073   3                  strcat(info_string, "Master with Proprioceptive device: NO\r\n");
1074   3              }
1075   2      
1076   2              sprintf(str, "debug: %ld", (uint32)timer_value0 - (uint32)timer_value); //5000001
1077   2              strcat(info_string, str);
1078   2              strcat(info_string, "\r\n");
1079   2          }
1080   1      }
1081          
1082          //==============================================================================
1083          //                                                     WRITE FUNCTIONS FOR RS485
1084          //==============================================================================
1085          
1086          void commWrite_old_id(uint8 *packet_data, uint16 packet_lenght, uint8 old_id)
1087          {
1088   1          uint16 CYDATA index;    // iterator
1089   1      
1090   1          // frame - start
1091   1          UART_RS485_PutChar(':');
1092   1          UART_RS485_PutChar(':');
1093   1          // frame - ID
1094   1          //if(old_id)
1095   1              UART_RS485_PutChar(old_id);
1096   1          //else
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 19  

1097   1              //UART_RS485_PutChar(g_mem.id);
1098   1              
1099   1          // frame - length
1100   1          UART_RS485_PutChar((uint8)packet_lenght);
1101   1          // frame - packet data
1102   1          for(index = 0; index < packet_lenght; ++index) {
1103   2              UART_RS485_PutChar(packet_data[index]);
1104   2          }
1105   1      
1106   1          index = 0;
1107   1      
1108   1          while(!(UART_RS485_ReadTxStatus() & UART_RS485_TX_STS_COMPLETE) && index++ <= 1000){}
1109   1      
1110   1          RS485_CTS_Write(1);
1111   1          RS485_CTS_Write(0);
1112   1      }
1113          
1114          void commWrite(uint8 *packet_data, uint16 packet_lenght)
1115          {
1116   1          uint16 CYDATA index;    // iterator
1117   1      
1118   1          // frame - start
1119   1          UART_RS485_PutChar(':');
1120   1          UART_RS485_PutChar(':');
1121   1          // frame - ID
1122   1          UART_RS485_PutChar(g_mem.id);
1123   1          // frame - length
1124   1          UART_RS485_PutChar((uint8)packet_lenght);
1125   1          // frame - packet data
1126   1          for(index = 0; index < packet_lenght; ++index) {
1127   2              UART_RS485_PutChar(packet_data[index]);
1128   2          }
1129   1      
1130   1          index = 0;
1131   1      
1132   1          while(!(UART_RS485_ReadTxStatus() & UART_RS485_TX_STS_COMPLETE) && index++ <= 1000){}
1133   1      
1134   1          RS485_CTS_Write(1);
1135   1          RS485_CTS_Write(0);
1136   1      }
1137          
1138          //==============================================================================
1139          //                                      READ MEASUREMENTS FUNCTION FROM SOFTHAND
1140          //==============================================================================
1141          
1142          int32 commReadMeasFromSH()
1143          {
1144   1          uint8 packet_data[10];
1145   1          uint8 packet_lenght;
1146   1          int32 aux_val = 0;
1147   1          uint32 t_start, t_end;
1148   1      
1149   1          packet_lenght = 2;
1150   1          packet_data[0] = CMD_GET_MEASUREMENTS;
1151   1          packet_data[1] = CMD_GET_MEASUREMENTS;
1152   1          commWriteID(packet_data, packet_lenght, c_mem.SH_ID);
1153   1      
1154   1          t_start = (uint32) MY_TIMER_ReadCounter();
1155   1          while(g_rx.buffer[0] != CMD_GET_MEASUREMENTS) {
1156   2              if (interrupt_flag){
1157   3                  interrupt_flag = FALSE;
1158   3                  interrupt_manager();
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 20  

1159   3              }
1160   2      
1161   2              t_end = (uint32) MY_TIMER_ReadCounter();
1162   2              if((t_start - t_end) > 10000000){            // 4.5 s timeout
1163   3              //    master_mode = 0;                        // exit from master mode
1164   3                  break;
1165   3              }
1166   2          }
1167   1      
1168   1          if (master_mode) {
1169   2              aux_val = *((int16 *) &g_rx.buffer[1]);
1170   2      
1171   2              aux_val = (aux_val << g_mem.res[0]);       //g_mem.res[0] (SoftHand sensor resolution)
1172   2          }
1173   1          
1174   1          return aux_val;
1175   1      }
1176          
1177          
1178          //==============================================================================
1179          //                                  READ RESIDUAL CURRENT FUNCTION FROM SOFTHAND
1180          //==============================================================================
1181          
1182          int16 commReadResCurrFromSH()
1183          {
1184   1          uint8 packet_data[16];
1185   1          uint8 packet_lenght;
1186   1          int16 curr_diff = 0;
1187   1          uint32 t_start, t_end;
1188   1          int32 aux_val = 0;
1189   1      
1190   1          packet_lenght = 2;
1191   1          packet_data[0] = CMD_GET_CURR_AND_MEAS;
1192   1          packet_data[1] = CMD_GET_CURR_AND_MEAS;
1193   1          commWriteID(packet_data, packet_lenght, c_mem.SH_ID);
1194   1      
1195   1          t_start = (uint32) MY_TIMER_ReadCounter();
1196   1          while(g_rx.buffer[0] != CMD_GET_CURR_AND_MEAS) {
1197   2              if (interrupt_flag){
1198   3                  interrupt_flag = FALSE;
1199   3                  interrupt_manager();
1200   3              }
1201   2      
1202   2              t_end = (uint32) MY_TIMER_ReadCounter();
1203   2              if((t_start - t_end) > 10000000){            // 4.5 s timeout
1204   3              //    master_mode = 0;
1205   3                  break;
1206   3              }
1207   2          }
1208   1      
1209   1          if (master_mode) {
1210   2              curr_diff = *((int16 *) &g_rx.buffer[3]);
1211   2              
1212   2              aux_val = *((int16 *) &g_rx.buffer[5]);
1213   2              SH_current_position = (aux_val << g_mem.res[0]);
1214   2          }
1215   1          
1216   1          return curr_diff;
1217   1      }
1218          
1219          //==============================================================================
1220          //                                             WRITE FUNCTION FOR ANOTHER DEVICE
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 21  

1221          //==============================================================================
1222          
1223          void commWriteID(uint8 *packet_data, uint16 packet_lenght, uint8 id)
1224          {
1225   1          static uint16 CYDATA i;    // iterator
1226   1      
1227   1          // frame - start
1228   1          UART_RS485_PutChar(':');
1229   1          UART_RS485_PutChar(':');
1230   1          // frame - ID
1231   1          UART_RS485_PutChar(id);
1232   1          // frame - length
1233   1          UART_RS485_PutChar((uint8)packet_lenght);
1234   1          // frame - packet data
1235   1          for(i = 0; i < packet_lenght; ++i) {
1236   2              UART_RS485_PutChar(packet_data[i]);
1237   2          }
1238   1      
1239   1          i = 0;
1240   1      
1241   1          while(!(UART_RS485_ReadTxStatus() & UART_RS485_TX_STS_COMPLETE) && i++ <= 1000){}
1242   1      }
1243          
1244          //==============================================================================
1245          //                                                                DRIVE SOFTHAND
1246          //==============================================================================
1247           
1248          void drive_SH() {
1249   1          uint8 packet_data[6];
1250   1          uint8 packet_lenght;
1251   1          
1252   1          // If not the use of handle or an emg input mode is set, exit from master_mode
1253   1          if( c_mem.input_mode != INPUT_MODE_ENCODER3          &&
1254   1                      c_mem.input_mode != INPUT_MODE_JOYSTICK          &&
1255   1              c_mem.input_mode != INPUT_MODE_EMG_PROPORTIONAL  &&
1256   1              c_mem.input_mode != INPUT_MODE_EMG_INTEGRAL      &&
1257   1              c_mem.input_mode != INPUT_MODE_EMG_FCFS          &&
1258   1              c_mem.input_mode != INPUT_MODE_EMG_FCFS_ADV     ){
1259   2              master_mode = 0;
1260   2              return;
1261   2          }
1262   1              
1263   1          if (dev_tension < 7000){
1264   2              master_mode = 0;
1265   2              return;
1266   2          }
1267   1          
1268   1             
1269   1          //Sends a Set inputs command to a second board
1270   1          packet_data[0] = CMD_SET_INPUTS;
1271   1          *((int16 *) &packet_data[1]) = (int16) (g_ref.pos[0] >> g_mem.res[0]);
1272   1          *((int16 *) &packet_data[3]) = 0;
1273   1          packet_lenght = 6;
1274   1          packet_data[packet_lenght - 1] = LCRChecksum(packet_data,packet_lenght - 1);
1275   1          commWriteID(packet_data, packet_lenght, c_mem.SH_ID);
1276   1      
1277   1      }
1278          
1279          //==============================================================================
1280          //                                                   DRIVE FORCE FEEDBACK DEVICE
1281          //==============================================================================
1282          /* Function called when is_force_fb_present is set. It asks current difference to 
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 22  

1283          the SoftHand and sets force feedback device inputs proportionally to this difference.*/
1284          
1285          void drive_force_fb() {
1286   1          CYDATA uint8 packet_data[6];    // output packet
1287   1          int16 curr_diff;
1288   1          int32 aux_val;
1289   1          int32 aux_p1, aux_p2;
1290   1      
1291   1          curr_diff = (int16)commReadResCurrFromSH();
1292   1          
1293   1          // Current difference saturation
1294   1          if(curr_diff > g_mem.curr_sat)
1295   1              curr_diff = g_mem.curr_sat;
1296   1          //Current difference dead zone
1297   1          if(curr_diff < g_mem.curr_dead_zone)
1298   1              curr_diff = 0;
1299   1          else
1300   1              curr_diff -= g_mem.curr_dead_zone;
1301   1      
1302   1          aux_val = ((curr_diff * g_mem.curr_prop_gain) * 65535 / 1440);
1303   1      
1304   1          aux_p1 = -(aux_val << g_mem.res[0]);
1305   1          aux_p2 =  (aux_val << g_mem.res[1]);
1306   1              
1307   1          // Send SET_CUFF_INPUTS to ForceF ID
1308   1          packet_data[0] = CMD_SET_INPUTS;
1309   1          *((int16 *) &packet_data[1]) = (int16) (aux_p1 >> g_mem.res[0]);
1310   1          *((int16 *) &packet_data[3]) = (int16) (aux_p2 >> g_mem.res[1]);
1311   1          packet_data[5] = LCRChecksum(packet_data, 5); 
1312   1          commWriteID(packet_data, 6, c_mem.ForceF_ID);         // To force feedback device ID
1313   1          
1314   1      }
1315          
1316          //==============================================================================
1317          //                                          DRIVE PROPRIOCEPTIVE FEEDBACK DEVICE
1318          //==============================================================================
1319          /* Function called when is_proprio_fb_present is set. It asks position to 
1320          the SoftHand and sets proprioceptive feedback device inputs proportionally to this value.*/
1321          void drive_proprio_fb(){ 
1322   1          CYDATA uint8 packet_data[6];
1323   1          int32 aux_val;
1324   1          
1325   1          // Get SoftHand position
1326   1          SH_current_position = (int32)commReadMeasFromSH();
1327   1          
1328   1          aux_val = SH_current_position >> g_mem.res[0];
1329   1          aux_val = (int32)((aux_val * g_mem.max_slide) / g_mem.max_SH_pos);
1330   1          
1331   1          if (c_mem.F_right_left) {
1332   2              // LEFT
1333   2              aux_val = -aux_val;
1334   2          }
1335   1          
1336   1          // Send SoftHand position to ProprioF device
1337   1          packet_data[0] = CMD_SET_INPUTS;
1338   1          *((int16 *) &packet_data[1]) = (int16) (aux_val);
1339   1          *((int16 *) &packet_data[3]) = (int16) (aux_val);
1340   1          packet_data[5] = LCRChecksum(packet_data, 5); 
1341   1          commWriteID(packet_data, 6, c_mem.ProprioF_ID);         // To proprioceptive feedback device ID
1342   1      
1343   1      }
1344          
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 23  

1345          //==============================================================================
1346          //                               DRIVE FORCE  AND PROPRIOCEPTIVE FEEDBACK DEVICE
1347          //==============================================================================
1348          /* Function called when is_force_fb_present, is_proprio_fb_present is set and force feedback 
1349          device ID si the same as proprioceptive device ID. It asks current difference and position to 
1350          the SoftHand and sets force feedback device inputs proportionally to this difference.*/
1351          
1352          void drive_force_proprio_fb() {
1353   1          CYDATA uint8 packet_data[6];    // output packet
1354   1          int16 curr_diff;
1355   1          int32 aux_val;
1356   1          int32 aux_p1, aux_p2;
1357   1          int32 ref_slide, ref_force;
1358   1      
1359   1          curr_diff = (int16)commReadResCurrFromSH();
1360   1          
1361   1          // Current difference saturation
1362   1          if(curr_diff > g_mem.curr_sat)
1363   1              curr_diff = g_mem.curr_sat;
1364   1          //Current difference dead zone
1365   1          if(curr_diff < g_mem.curr_dead_zone)
1366   1              curr_diff = 0;
1367   1          else
1368   1              curr_diff -= g_mem.curr_dead_zone;
1369   1      
1370   1          // Sliding     
1371   1          aux_val = SH_current_position >> g_mem.res[0];
1372   1          ref_slide = (int32)((aux_val * g_mem.max_slide) / g_mem.max_SH_pos);
1373   1              
1374   1          // Force
1375   1          ref_force = ((curr_diff * g_mem.curr_prop_gain) * 65535 / 1440);
1376   1          
1377   1          if (c_mem.F_right_left) {
1378   2              // LEFT
1379   2              aux_p1 = -ref_slide - ref_force;
1380   2              aux_p2 = -ref_slide + ref_force;        
1381   2          }
1382   1          else{
1383   2              // RIGHT
1384   2              aux_p1 = ref_slide - ref_force;
1385   2              aux_p2 = ref_slide + ref_force;
1386   2          }
1387   1          
1388   1          // Send INPUTS to ForceF ID
1389   1          packet_data[0] = CMD_SET_INPUTS;
1390   1          *((int16 *) &packet_data[1]) = (int16) (aux_p1);
1391   1          *((int16 *) &packet_data[3]) = (int16) (aux_p2);
1392   1          packet_data[5] = LCRChecksum(packet_data, 5); 
1393   1          commWriteID(packet_data, 6, c_mem.ForceF_ID);         // To force and proprio feedback device ID
1394   1          
1395   1      }
1396          
1397          //==============================================================================
1398          //                                                             DEACTIVATE SLAVES
1399          //==============================================================================
1400           
1401          void deactivate_slaves() {
1402   1          uint8 packet_data[10];
1403   1          uint8 packet_lenght;
1404   1          
1405   1          // If not a emg input mode is set, exit from master_mode
1406   1          if(c_mem.input_mode != INPUT_MODE_EMG_PROPORTIONAL  &&
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 24  

1407   1              c_mem.input_mode != INPUT_MODE_EMG_INTEGRAL      &&
1408   1              c_mem.input_mode != INPUT_MODE_EMG_FCFS          &&
1409   1              c_mem.input_mode != INPUT_MODE_EMG_FCFS_ADV     ){
1410   2              master_mode = 0;
1411   2              return;
1412   2          }
1413   1          
1414   1          //Sends a Set inputs command to a second board
1415   1          packet_data[0] = CMD_ACTIVATE;
1416   1      
1417   1          *((int16 *) &packet_data[1]) = 0;   //3 to activate, 0 to deactivate
1418   1          packet_lenght = 3;
1419   1          packet_data[packet_lenght - 1] = LCRChecksum(packet_data,packet_lenght - 1);
1420   1          
1421   1          commWrite(packet_data, packet_lenght);
1422   1          
1423   1      }
1424          
1425          //==============================================================================
1426          //                                                             CHECKSUM FUNCTION
1427          //==============================================================================
1428          
1429          // Performs a XOR byte by byte on the entire vector
1430          
1431          uint8 LCRChecksum(uint8 *data_array, uint8 data_length) {
1432   1          
1433   1          uint8 CYDATA i;
1434   1          uint8 CYDATA checksum = 0x00;
1435   1          
1436   1          for(i = 0; i < data_length; ++i)
1437   1             checksum ^= data_array[i];
1438   1        
1439   1          return checksum;
1440   1      }
1441          
1442          
1443          //==============================================================================
1444          //                                                       ACKNOWLEDGMENT FUNCTION
1445          //==============================================================================
1446          
1447          void sendAcknowledgment(uint8 value) {
1448   1          int packet_lenght = 2;
1449   1          uint8 packet_data[2];
1450   1      
1451   1          packet_data[0] = value;
1452   1          packet_data[1] = value;
1453   1      
1454   1          commWrite(packet_data, packet_lenght);
1455   1      }
1456          
1457          //==============================================================================
1458          //                                                                  STORE MEMORY
1459          //==============================================================================
1460          
1461          
1462          uint8 memStore(int displacement)
1463          {
1464   1          int i;  // iterator
1465   1          uint8 writeStatus;
1466   1          int pages;
1467   1          uint8 ret_val = 1;
1468   1      
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 25  

1469   1          // Disable Interrupt
1470   1          ISR_RS485_RX_Disable();
1471   1      
1472   1          // Retrieve temperature for better writing performance
1473   1          CySetTemp();
1474   1      
1475   1          memcpy( &c_mem, &g_mem, sizeof(g_mem) );
1476   1      
1477   1          pages = sizeof(g_mem) / 16 + (sizeof(g_mem) % 16 > 0);
1478   1      
1479   1          for(i = 0; i < pages; ++i) {
1480   2              writeStatus = EEPROM_Write(&g_mem.flag + 16 * i, i + displacement);
1481   2              if(writeStatus != CYRET_SUCCESS) {
1482   3                  ret_val = 0;
1483   3                  break;
1484   3              }
1485   2          }
1486   1      
1487   1          memcpy( &g_mem, &c_mem, sizeof(g_mem) );
1488   1      
1489   1          // Re-Enable Interrupt
1490   1          ISR_RS485_RX_Enable();
1491   1      
1492   1          return ret_val;
1493   1      }
1494          
1495          
1496          //==============================================================================
1497          //                                                                 RECALL MEMORY
1498          //==============================================================================
1499          
1500          
1501          void memRecall(void)
1502          {
1503   1          uint16 i;
1504   1      
1505   1          for (i = 0; i < sizeof(g_mem); i++) {
1506   2              ((reg8 *) &g_mem.flag)[i] = EEPROM_ADDR[i];
1507   2          }
1508   1      
1509   1          //check for initialization
1510   1          if (g_mem.flag == FALSE) {
1511   2              memRestore();
1512   2          } else {
1513   2              memcpy( &c_mem, &g_mem, sizeof(g_mem) );
1514   2          }
1515   1      }
1516          
1517          
1518          //==============================================================================
1519          //                                                                RESTORE MEMORY
1520          //==============================================================================
1521          
1522          
1523          uint8 memRestore(void) {
1524   1          uint16 i;
1525   1      
1526   1          for (i = 0; i < sizeof(g_mem); i++) {
1527   2              ((reg8 *) &g_mem.flag)[i] = EEPROM_ADDR[i + (DEFAULT_EEPROM_DISPLACEMENT * 16)];
1528   2          }
1529   1      
1530   1          //check for initialization
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 26  

1531   1          if (g_mem.flag == FALSE) {
1532   2              return memInit();
1533   2          } else {
1534   2              return memStore(0);
1535   2          }
1536   1      }
1537          
1538          //==============================================================================
1539          //                                                                   MEMORY INIT
1540          //==============================================================================
1541          
1542          uint8 memInit(void)
1543          {
1544   1          uint8 i;
1545   1      
1546   1          //initialize memory settings
1547   1          g_mem.id            = 1;
1548   1      
1549   1          g_mem.input_mode    = INPUT_MODE_EXTERNAL;
1550   1      
1551   1          g_mem.pos_lim_flag = 1;
1552   1      
1553   1          g_mem.res[0] = 3;
1554   1          g_mem.res[1] = 3;
1555   1          g_mem.res[2] = 3;
1556   1      
1557   1          for (i = 0; i < NUM_OF_MOTORS; i++) {
1558   2              g_mem.pos_lim_inf[i] = 0;
1559   2              g_mem.pos_lim_sup[i] = (int32)19000 << g_mem.res[0];
1560   2          }
1561   1      
1562   1          for(i = 0; i < NUM_OF_SENSORS; ++i)
1563   1          {
1564   2              g_mem.m_mult[i] = 1;
1565   2              g_mem.m_off[i] = (int32)0 << g_mem.res[i];
1566   2          }
1567   1      
1568   1          g_mem.curr_prop_gain = 0;
1569   1          g_mem.curr_sat = 0;
1570   1          g_mem.curr_dead_zone = 0;
1571   1          
1572   1          g_mem.max_step_pos = 0;
1573   1          g_mem.max_step_neg = 0;
1574   1      
1575   1          // EMG calibration enabled by default
1576   1          g_mem.emg_calibration_flag = 0;
1577   1      
1578   1          g_mem.emg_max_value[0] = 1024;
1579   1          g_mem.emg_max_value[1] = 1024;
1580   1      
1581   1          g_mem.emg_threshold[0] = 100;
1582   1          g_mem.emg_threshold[1] = 100;
1583   1      
1584   1          g_mem.emg_speed = 100;
1585   1      
1586   1          g_mem.motor_handle_ratio = 22;
1587   1          g_mem.joystick_closure_speed = 150;
1588   1          g_mem.joystick_gain = 1024;
1589   1          
1590   1          //Initialize rest position parameters        
1591   1          g_mem.rest_position_flag = 1;
1592   1          g_mem.rest_pos = (int32)7000 << g_mem.res[0]; // 56000
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 27  

1593   1          g_mem.rest_delay = 10;
1594   1          g_mem.rest_vel = 10000;
1595   1          
1596   1          g_mem.is_force_fb_present = 0;
1597   1          g_mem.is_proprio_fb_present = 0;
1598   1          g_mem.is_myo2_master = 1;
1599   1          
1600   1          g_mem.curr_prop_gain = 0.3;
1601   1          g_mem.curr_sat = 1000;
1602   1          g_mem.curr_dead_zone = 75;
1603   1          g_mem.max_slide = 10000;
1604   1          g_mem.max_SH_pos = (g_mem.pos_lim_sup[0] >> g_mem.res[0]);
1605   1          
1606   1          g_mem.SH_ID = 2;
1607   1          g_mem.ForceF_ID = 3;
1608   1          g_mem.ProprioF_ID = 4;
1609   1          g_mem.F_right_left = 0;       // RIGHT
1610   1      
1611   1          // set the initialized flag to show EEPROM has been populated
1612   1          g_mem.flag = TRUE;
1613   1          
1614   1          //write that configuration to EEPROM
1615   1          return ( memStore(0) && memStore(DEFAULT_EEPROM_DISPLACEMENT) );
1616   1      }
1617          
1618          //==============================================================================
1619          //                                                    ROUTINE INTERRUPT FUNCTION
1620          //==============================================================================
1621          /**
1622          * Bunch of functions used on request from UART communication
1623          **/
1624          
1625          void cmd_get_measurements(){
1626   1       
1627   1          uint8 CYDATA index;
1628   1         
1629   1          // Packet: header + measure(int16) + crc
1630   1          
1631   1          uint8 packet_data[8]; 
1632   1          
1633   1          //Header package
1634   1          packet_data[0] = CMD_GET_MEASUREMENTS;   
1635   1          
1636   1          for (index = NUM_OF_SENSORS; index--;) 
1637   1              *((int16 *) &packet_data[(index << 1) + 1]) = (int16)(g_measOld.pos[index] >> g_mem.res[index]);
1638   1                  
1639   1          // Calculate Checksum and send message to UART 
1640   1      
1641   1          packet_data[7] = LCRChecksum (packet_data, 7);
1642   1      
1643   1          commWrite(packet_data, 8);
1644   1         
1645   1      }
1646          
1647          void cmd_set_inputs(){
1648   1          
1649   1          // Store position setted in right variables
1650   1      
1651   1          g_refNew.pos[0] = *((int16 *) &g_rx.buffer[1]);   // motor 1
1652   1          g_refNew.pos[0] = g_refNew.pos[0] << g_mem.res[0];
1653   1      
1654   1          g_refNew.pos[1] = *((int16 *) &g_rx.buffer[3]);   // motor 2
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 28  

1655   1          g_refNew.pos[1] = g_refNew.pos[1] << g_mem.res[1];
1656   1      
1657   1          // Check Position Limit cmd
1658   1      
1659   1          if (c_mem.pos_lim_flag) {                      // pos limiting
1660   2              
1661   2              if (g_refNew.pos[0] < c_mem.pos_lim_inf[0]) 
1662   2                  g_refNew.pos[0] = c_mem.pos_lim_inf[0];
1663   2              if (g_refNew.pos[1] < c_mem.pos_lim_inf[1]) 
1664   2                  g_refNew.pos[1] = c_mem.pos_lim_inf[1];
1665   2      
1666   2              if (g_refNew.pos[0] > c_mem.pos_lim_sup[0]) 
1667   2                  g_refNew.pos[0] = c_mem.pos_lim_sup[0];
1668   2              if (g_refNew.pos[1] > c_mem.pos_lim_sup[1]) 
1669   2                  g_refNew.pos[1] = c_mem.pos_lim_sup[1];
1670   2          }
1671   1      }
1672          
1673          void cmd_activate(){
1674   1          
1675   1          // Check type of control mode enabled
1676   1          g_refNew.pos[0] = g_meas.pos[0];
1677   1          g_refNew.pos[1] = g_meas.pos[1];
1678   1      }
1679          
1680          void cmd_get_joystick() {
1681   1      
1682   1          uint8 packet_data[6];
1683   1          
1684   1          packet_data[0] = CMD_GET_JOYSTICK;
1685   1      
1686   1          *((int16 *) &packet_data[1]) = (int16) g_measOld.joystick[0];
1687   1          *((int16 *) &packet_data[3]) = (int16) g_measOld.joystick[1];
1688   1      
1689   1          packet_data[5] = LCRChecksum(packet_data, 5);
1690   1      
1691   1          commWrite(packet_data, 6);
1692   1      }
1693          
1694          void cmd_set_baudrate(){
1695   1          
1696   1          // Set BaudRate
1697   1          c_mem.baud_rate = g_rx.buffer[1];
1698   1          
1699   1          switch(g_rx.buffer[1]){
1700   2              case 13:
1701   2                  CLOCK_UART_SetDividerValue(13);
1702   2                  break;
1703   2              default:
1704   2                  CLOCK_UART_SetDividerValue(3);
1705   2          }
1706   1      }
1707          
1708          void cmd_ping(){
1709   1      
1710   1          uint8 packet_data[2];
1711   1      
1712   1          // Header
1713   1          packet_data[0] = CMD_PING;
1714   1          
1715   1          // Load Payload
1716   1          packet_data[1] = CMD_PING;
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 29  

1717   1      
1718   1          // Send Package to uart
1719   1          commWrite(packet_data, 2);
1720   1      }
1721          
1722          void cmd_get_inputs(){
1723   1      
1724   1          // Packet: header + motor_measure(int16) + crc
1725   1      
1726   1          uint8 packet_data[6]; 
1727   1          
1728   1          //Header package
1729   1      
1730   1          packet_data[0] = CMD_GET_INPUTS;
1731   1          
1732   1          *((int16 *) &packet_data[1]) = (int16) (g_refOld.pos[0]  >> g_mem.res[0]);
1733   1          *((int16 *) &packet_data[3]) = (int16) (g_refOld.pos[1]  >> g_mem.res[1]);
1734   1          
1735   1          // Calculate Checksum and send message to UART 
1736   1      
1737   1          packet_data[5] = LCRChecksum(packet_data, 5);
1738   1      
1739   1          commWrite(packet_data, 6);
1740   1      }
1741          
1742          void cmd_store_params(){
1743   1          
1744   1          // Check input mode enabled
1745   1          uint32 off_1, off_2;
1746   1          float mult_1, mult_2;
1747   1          uint8 CYDATA packet_lenght = 2;
1748   1          uint8 CYDATA packet_data[2];
1749   1          uint8 CYDATA old_id;
1750   1          
1751   1          if( c_mem.input_mode == INPUT_MODE_EXTERNAL ) {
1752   2              off_1 = c_mem.m_off[0];
1753   2              off_2 = c_mem.m_off[1];
1754   2              mult_1 = c_mem.m_mult[0];
1755   2              mult_2 = c_mem.m_mult[1];
1756   2      
1757   2              g_refNew.pos[0] = (int32)((float)g_refNew.pos[0] / mult_1);
1758   2              g_refNew.pos[1] = (int32)((float)g_refNew.pos[1] / mult_2);
1759   2      
1760   2              g_refNew.pos[0] = (int32)((float)g_refNew.pos[0] * g_mem.m_mult[0]);
1761   2              g_refNew.pos[1] = (int32)((float)g_refNew.pos[1] * g_mem.m_mult[1]);
1762   2      
1763   2              g_refNew.pos[0] += (g_mem.m_off[0] - off_1);
1764   2              g_refNew.pos[1] += (g_mem.m_off[1] - off_2);
1765   2              
1766   2              // Check position Limits
1767   2      
1768   2              if (c_mem.pos_lim_flag) {                   // position limiting
1769   3                  if (g_refNew.pos[0] < c_mem.pos_lim_inf[0]) 
1770   3                      g_refNew.pos[0] = c_mem.pos_lim_inf[0];
1771   3                  if (g_refNew.pos[1] < c_mem.pos_lim_inf[1]) 
1772   3                      g_refNew.pos[1] = c_mem.pos_lim_inf[1];
1773   3      
1774   3                  if (g_refNew.pos[0] > c_mem.pos_lim_sup[0]) 
1775   3                      g_refNew.pos[0] = c_mem.pos_lim_sup[0];
1776   3                  if (g_refNew.pos[1] > c_mem.pos_lim_sup[1]) 
1777   3                      g_refNew.pos[1] = c_mem.pos_lim_sup[1];
1778   3              }
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 30  

1779   2          }
1780   1          // Store params 
1781   1      
1782   1          if (c_mem.id != g_mem.id) {     //If a new id is going to be set we will lose communication 
1783   2              old_id = c_mem.id;          //after the memstore(0) and the ACK won't be recognised
1784   2              if(memStore(0)) {
1785   3                  packet_data[0] = ACK_OK;
1786   3                  packet_data[1] = ACK_OK;
1787   3                  commWrite_old_id(packet_data, packet_lenght, old_id);
1788   3              }    
1789   2              else{
1790   3                  packet_data[0] = ACK_ERROR;
1791   3                  packet_data[1] = ACK_ERROR;
1792   3                  commWrite_old_id(packet_data, packet_lenght, old_id);
1793   3              }
1794   2          }    
1795   1          else {
1796   2              if(memStore(0))
1797   2                  sendAcknowledgment(ACK_OK);
1798   2              else
1799   2                  sendAcknowledgment(ACK_ERROR);
1800   2          }
1801   1      }
1802          
1803          void cmd_get_emg(){
1804   1          
1805   1          uint8 packet_data[6];
1806   1      
1807   1          // Header        
1808   1          packet_data[0] = CMD_GET_EMG;
1809   1          
1810   1          *((int16 *) &packet_data[1]) = (int16) g_measOld.emg[0];
1811   1          *((int16 *) &packet_data[3]) = (int16) g_measOld.emg[1];
1812   1      
1813   1          packet_data[5] = LCRChecksum (packet_data, 5);
1814   1      
1815   1          commWrite(packet_data, 6);
1816   1      
1817   1      }
1818          
1819          /* [] END OF FILE */
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 31  

ASSEMBLY LISTING OF GENERATED OBJECT CODE


             ; FUNCTION commProcess (BEGIN)
                                           ; SOURCE LINE # 67
                                           ; SOURCE LINE # 71
0000 900000      E     MOV     DPTR,#g_rx
0003 E0                MOVX    A,@DPTR
0004 F500        R     MOV     rx_cmd,A
                                           ; SOURCE LINE # 75
0006 7B01              MOV     R3,#01H
0008 7A00        E     MOV     R2,#HIGH g_rx
000A 7900        E     MOV     R1,#LOW g_rx
000C 900000      E     MOV     DPTR,#g_rx+080H
000F E0                MOVX    A,@DPTR
0010 A3                INC     DPTR
0011 E0                MOVX    A,@DPTR
0012 14                DEC     A
0013 FD                MOV     R5,A
0014 120000      R     LCALL   _LCRChecksum
0017 900000      E     MOV     DPTR,#g_rx+080H
001A E0                MOVX    A,@DPTR
001B FC                MOV     R4,A
001C A3                INC     DPTR
001D E0                MOVX    A,@DPTR
001E 2400        E     ADD     A,#LOW g_rx+0FFFFH
0020 F582              MOV     DPL,A
0022 7400        E     MOV     A,#HIGH g_rx+0FFFFH
0024 3C                ADDC    A,R4
0025 F583              MOV     DPH,A
0027 E0                MOVX    A,@DPTR
0028 B50703            CJNE    A,AR7,?C0002
002B D3                SETB    C
002C 8001              SJMP    ?C0003
002E         ?C0002:
002E C3                CLR     C
002F         ?C0003:
002F 4006              JC      ?C0001
                                           ; SOURCE LINE # 77
0031 E4                CLR     A
0032 900000      E     MOV     DPTR,#g_rx+084H
0035 F0                MOVX    @DPTR,A
0036 22                RET     
                                           ; SOURCE LINE # 79
0037         ?C0001:
                                           ; SOURCE LINE # 81
0037 E500        R     MOV     A,rx_cmd
0039 120000      E     LCALL   ?C?CCASE
003C 0000        R     DW      ?C0016
003E 00                DB      00H
003F 0000        R     DW      ?C0014
0041 01                DB      01H
0042 0000        R     DW      ?C0017
0044 03                DB      03H
0045 0000        R     DW      ?C0018
0047 04                DB      04H
0048 0000        R     DW      ?C0021
004A 05                DB      05H
004B 0000        R     DW      ?C0013
004D 06                DB      06H
004E 0000        R     DW      ?C0027
0050 09                DB      09H
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 32  

0051 0000        R     DW      ?C0024
0053 0A                DB      0AH
0054 0000        R     DW      ?C0015
0056 0C                DB      0CH
0057 0000        R     DW      ?C0028
0059 0D                DB      0DH
005A 0000        R     DW      ?C0006
005C 80                DB      080H
005D 0000        R     DW      ?C0007
005F 82                DB      082H
0060 0000        R     DW      ?C0012
0062 83                DB      083H
0063 0000        R     DW      ?C0008
0065 84                DB      084H
0066 0000        R     DW      ?C0010
0068 88                DB      088H
0069 0000        R     DW      ?C0011
006B 90                DB      090H
006C 0000        R     DW      ?C0009
006E 92                DB      092H
006F 0000              DW      00H
0071 0000        R     DW      ?C0004
                                           ; SOURCE LINE # 84
0073         ?C0006:
                                           ; SOURCE LINE # 85
0073 120000      R     LCALL   cmd_activate
                                           ; SOURCE LINE # 86
0076 22                RET     
                                           ; SOURCE LINE # 90
0077         ?C0007:
                                           ; SOURCE LINE # 91
0077 120000      R     LCALL   cmd_set_inputs
                                           ; SOURCE LINE # 92
007A 22                RET     
                                           ; SOURCE LINE # 96
007B         ?C0008:
                                           ; SOURCE LINE # 97
007B 120000      R     LCALL   cmd_get_measurements
                                           ; SOURCE LINE # 98
007E 22                RET     
                                           ; SOURCE LINE # 102
007F         ?C0009:
                                           ; SOURCE LINE # 103
007F 120000      R     LCALL   cmd_get_joystick
                                           ; SOURCE LINE # 104
0082 22                RET     
                                           ; SOURCE LINE # 108
0083         ?C0010:
                                           ; SOURCE LINE # 109
0083 120000      R     LCALL   cmd_get_emg
                                           ; SOURCE LINE # 110
0086 22                RET     
                                           ; SOURCE LINE # 114
0087         ?C0011:
                                           ; SOURCE LINE # 115
0087 120000      R     LCALL   cmd_set_baudrate
                                           ; SOURCE LINE # 116
008A 22                RET     
                                           ; SOURCE LINE # 120
008B         ?C0012:
                                           ; SOURCE LINE # 121
008B 120000      R     LCALL   cmd_get_inputs
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 33  

                                           ; SOURCE LINE # 122
008E 22                RET     
                                           ; SOURCE LINE # 126
008F         ?C0013:
                                           ; SOURCE LINE # 127
008F 900000      E     MOV     DPTR,#g_rx+01H
0092 E0                MOVX    A,@DPTR
0093 FE                MOV     R6,A
0094 A3                INC     DPTR
0095 E0                MOVX    A,@DPTR
0096 FF                MOV     R7,A
0097 120000      R     LCALL   _infoGet
                                           ; SOURCE LINE # 128
009A 22                RET     
                                           ; SOURCE LINE # 132
009B         ?C0014:
                                           ; SOURCE LINE # 133
009B 120000      R     LCALL   setZeros
                                           ; SOURCE LINE # 134
009E 22                RET     
                                           ; SOURCE LINE # 138
009F         ?C0015:
                                           ; SOURCE LINE # 139
009F 900000      E     MOV     DPTR,#g_rx+01H
00A2 E0                MOVX    A,@DPTR
00A3 FE                MOV     R6,A
00A4 A3                INC     DPTR
00A5 E0                MOVX    A,@DPTR
00A6 FF                MOV     R7,A
00A7 120000      R     LCALL   _get_param_list
                                           ; SOURCE LINE # 140
00AA 22                RET     
                                           ; SOURCE LINE # 144
00AB         ?C0016:
                                           ; SOURCE LINE # 145
00AB 120000      R     LCALL   cmd_ping
                                           ; SOURCE LINE # 146
00AE 22                RET     
                                           ; SOURCE LINE # 150
00AF         ?C0017:
                                           ; SOURCE LINE # 151
00AF 120000      R     LCALL   cmd_store_params
                                           ; SOURCE LINE # 152
00B2 22                RET     
                                           ; SOURCE LINE # 156
00B3         ?C0018:
                                           ; SOURCE LINE # 157
00B3 7F32              MOV     R7,#032H
00B5 7E00              MOV     R6,#00H
00B7 120000      R     LCALL   _memStore
00BA EF                MOV     A,R7
00BB 6006              JZ      ?C0019
                                           ; SOURCE LINE # 158
00BD 7F01              MOV     R7,#01H
00BF 120000      R     LCALL   _sendAcknowledgment
00C2 22                RET     
00C3         ?C0019:
                                           ; SOURCE LINE # 160
00C3 E4                CLR     A
00C4 FF                MOV     R7,A
00C5 120000      R     LCALL   _sendAcknowledgment
                                           ; SOURCE LINE # 161
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 34  

00C8 22                RET     
                                           ; SOURCE LINE # 165
00C9         ?C0021:
                                           ; SOURCE LINE # 166
00C9 120000      R     LCALL   memRestore
00CC EF                MOV     A,R7
00CD 6006              JZ      ?C0022
                                           ; SOURCE LINE # 167
00CF 7F01              MOV     R7,#01H
00D1 120000      R     LCALL   _sendAcknowledgment
00D4 22                RET     
00D5         ?C0022:
                                           ; SOURCE LINE # 169
00D5 E4                CLR     A
00D6 FF                MOV     R7,A
00D7 120000      R     LCALL   _sendAcknowledgment
                                           ; SOURCE LINE # 170
00DA 22                RET     
                                           ; SOURCE LINE # 174
00DB         ?C0024:
                                           ; SOURCE LINE # 175
00DB 120000      R     LCALL   memInit
00DE EF                MOV     A,R7
00DF 6006              JZ      ?C0025
                                           ; SOURCE LINE # 176
00E1 7F01              MOV     R7,#01H
00E3 120000      R     LCALL   _sendAcknowledgment
00E6 22                RET     
00E7         ?C0025:
                                           ; SOURCE LINE # 178
00E7 E4                CLR     A
00E8 FF                MOV     R7,A
00E9 120000      R     LCALL   _sendAcknowledgment
                                           ; SOURCE LINE # 179
00EC 22                RET     
                                           ; SOURCE LINE # 183
00ED         ?C0027:
                                           ; SOURCE LINE # 185
00ED 7F01              MOV     R7,#01H
00EF 120000      R     LCALL   _sendAcknowledgment
                                           ; SOURCE LINE # 186
00F2 E4                CLR     A
00F3 7FE8              MOV     R7,#0E8H
00F5 7E03              MOV     R6,#03H
00F7 FD                MOV     R5,A
00F8 FC                MOV     R4,A
00F9 120000      E     LCALL   _?CyDelay
                                           ; SOURCE LINE # 187
00FC E4                CLR     A
00FD FF                MOV     R7,A
00FE 120000      E     LCALL   _FTDI_ENABLE_REG_Write
                                           ; SOURCE LINE # 188
0101 E4                CLR     A
0102 7FE8              MOV     R7,#0E8H
0104 7E03              MOV     R6,#03H
0106 FD                MOV     R5,A
0107 FC                MOV     R4,A
0108 120000      E     LCALL   _?CyDelay
                                           ; SOURCE LINE # 189
010B 120000      E     LCALL   Bootloadable_Load
                                           ; SOURCE LINE # 190
010E 22                RET     
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 35  

                                           ; SOURCE LINE # 194
010F         ?C0028:
                                           ; SOURCE LINE # 195
010F 900000      E     MOV     DPTR,#g_rx+01H
0112 E0                MOVX    A,@DPTR
0113 FF                MOV     R7,A
0114 A3                INC     DPTR
0115 E0                MOVX    A,@DPTR
0116 900000      E     MOV     DPTR,#calib+02H
0119 CF                XCH     A,R7
011A F0                MOVX    @DPTR,A
011B A3                INC     DPTR
011C EF                MOV     A,R7
011D F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 196
011E 900000      E     MOV     DPTR,#g_rx+03H
0121 E0                MOVX    A,@DPTR
0122 FF                MOV     R7,A
0123 A3                INC     DPTR
0124 E0                MOVX    A,@DPTR
0125 900000      E     MOV     DPTR,#calib+04H
0128 CF                XCH     A,R7
0129 F0                MOVX    @DPTR,A
012A A3                INC     DPTR
012B EF                MOV     A,R7
012C F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 199
012D 900000      E     MOV     DPTR,#calib+02H
0130 E0                MOVX    A,@DPTR
0131 FE                MOV     R6,A
0132 A3                INC     DPTR
0133 E0                MOVX    A,@DPTR
0134 FF                MOV     R7,A
0135 C3                CLR     C
0136 EE                MOV     A,R6
0137 6480              XRL     A,#080H
0139 9480              SUBB    A,#080H
013B 5009              JNC     ?C0029
                                           ; SOURCE LINE # 200
013D E4                CLR     A
013E 900000      E     MOV     DPTR,#calib+02H
0141 F0                MOVX    @DPTR,A
0142 A3                INC     DPTR
0143 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 201
0144 8014              SJMP    ?C0030
0146         ?C0029:
0146 D3                SETB    C
0147 EF                MOV     A,R7
0148 94C8              SUBB    A,#0C8H
014A EE                MOV     A,R6
014B 6480              XRL     A,#080H
014D 9480              SUBB    A,#080H
014F 4009              JC      ?C0030
                                           ; SOURCE LINE # 202
0151 900000      E     MOV     DPTR,#calib+02H
0154 E4                CLR     A
0155 F0                MOVX    @DPTR,A
0156 A3                INC     DPTR
0157 74C8              MOV     A,#0C8H
0159 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 203
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 36  

015A         ?C0030:
                                           ; SOURCE LINE # 204
015A 900000      E     MOV     DPTR,#calib+04H
015D E0                MOVX    A,@DPTR
015E FE                MOV     R6,A
015F A3                INC     DPTR
0160 E0                MOVX    A,@DPTR
0161 FF                MOV     R7,A
0162 C3                CLR     C
0163 EE                MOV     A,R6
0164 6480              XRL     A,#080H
0166 9480              SUBB    A,#080H
0168 5009              JNC     ?C0032
                                           ; SOURCE LINE # 205
016A E4                CLR     A
016B 900000      E     MOV     DPTR,#calib+04H
016E F0                MOVX    @DPTR,A
016F A3                INC     DPTR
0170 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 206
0171 8015              SJMP    ?C0033
0173         ?C0032:
0173 D3                SETB    C
0174 EF                MOV     A,R7
0175 94FF              SUBB    A,#0FFH
0177 EE                MOV     A,R6
0178 6480              XRL     A,#080H
017A 94FF              SUBB    A,#0FFH
017C 400A              JC      ?C0033
                                           ; SOURCE LINE # 207
017E 900000      E     MOV     DPTR,#calib+04H
0181 747F              MOV     A,#07FH
0183 F0                MOVX    @DPTR,A
0184 A3                INC     DPTR
0185 74FF              MOV     A,#0FFH
0187 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 208
0188         ?C0033:
                                           ; SOURCE LINE # 210
0188 E4                CLR     A
0189 FF                MOV     R7,A
018A FE                MOV     R6,A
018B FD                MOV     R5,A
018C FC                MOV     R4,A
018D 900000      E     MOV     DPTR,#g_refNew
0190 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 211
0193 900000      E     MOV     DPTR,#calib
0196 7401              MOV     A,#01H
0198 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 212
                                           ; SOURCE LINE # 215
                                           ; SOURCE LINE # 216
                                           ; SOURCE LINE # 218
                                           ; SOURCE LINE # 219
0199         ?C0004:
0199 22                RET     
             ; FUNCTION commProcess (END)

             ; FUNCTION infoSend (BEGIN)
                                           ; SOURCE LINE # 226
                                           ; SOURCE LINE # 228
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 37  

0000 7B01              MOV     R3,#01H
0002 7A00        R     MOV     R2,#HIGH packet_string
0004 7900        R     MOV     R1,#LOW packet_string
0006 120000      R     LCALL   _infoPrepare
                                           ; SOURCE LINE # 229
0009 7B01              MOV     R3,#01H
000B 7A00        R     MOV     R2,#HIGH packet_string
000D 7900        R     MOV     R1,#LOW packet_string
000F 120000      E     LCALL   _UART_RS485_PutString
                                           ; SOURCE LINE # 230
0012 22                RET     
             ; FUNCTION infoSend (END)

             ; FUNCTION _infoGet (BEGIN)
                                           ; SOURCE LINE # 237
0000 900000      R     MOV     DPTR,#info_type
0003 EE                MOV     A,R6
0004 F0                MOVX    @DPTR,A
0005 A3                INC     DPTR
0006 EF                MOV     A,R7
0007 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 238
0008 7800        R     MOV     R0,#LOW packet_string
000A 7C00        R     MOV     R4,#HIGH packet_string
000C 7D01              MOV     R5,#01H
000E 7BFF              MOV     R3,#0FFH
0010 7A00        R     MOV     R2,#HIGH _?ix1000
0012 7900        R     MOV     R1,#LOW _?ix1000
0014 7E06              MOV     R6,#06H
0016 7FA4              MOV     R7,#0A4H
0018 120000      E     LCALL   ?C?COPYAMD
                                           ; SOURCE LINE # 242
001B 900000      R     MOV     DPTR,#info_type
001E E0                MOVX    A,@DPTR
001F FE                MOV     R6,A
0020 A3                INC     DPTR
0021 E0                MOVX    A,@DPTR
0022 FF                MOV     R7,A
0023 7015              JNZ     ?C0040
0025 EE                MOV     A,R6
0026 7012              JNZ     ?C0040
                                           ; SOURCE LINE # 243
0028         ?C0038:
                                           ; SOURCE LINE # 244
0028 7B01              MOV     R3,#01H
002A 7A00        R     MOV     R2,#HIGH packet_string
002C 7900        R     MOV     R1,#LOW packet_string
002E 120000      R     LCALL   _infoPrepare
                                           ; SOURCE LINE # 245
0031 7B01              MOV     R3,#01H
0033 7A00        R     MOV     R2,#HIGH packet_string
0035 7900        R     MOV     R1,#LOW packet_string
0037 120000      E     LCALL   _UART_RS485_PutString
                                           ; SOURCE LINE # 246
                                           ; SOURCE LINE # 248
                                           ; SOURCE LINE # 249
                                           ; SOURCE LINE # 250
                                           ; SOURCE LINE # 251
003A         ?C0040:
003A 22                RET     
             ; FUNCTION _infoGet (END)

C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 38  

             ; FUNCTION _get_param_list (BEGIN)
                                           ; SOURCE LINE # 257
0000 900000      R     MOV     DPTR,#index
0003 EE                MOV     A,R6
0004 F0                MOVX    @DPTR,A
0005 A3                INC     DPTR
0006 EF                MOV     A,R7
0007 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 259
0008 7800        R     MOV     R0,#LOW packet_data
000A 7C00        R     MOV     R4,#HIGH packet_data
000C 7D01              MOV     R5,#01H
000E 7BFF              MOV     R3,#0FFH
0010 7A00        R     MOV     R2,#HIGH _?ix1001
0012 7900        R     MOV     R1,#LOW _?ix1001
0014 7E08              MOV     R6,#08H
0016 7F03              MOV     R7,#03H
0018 120000      E     LCALL   ?C?COPYAMD
                                           ; SOURCE LINE # 260
001B 900000      R     MOV     DPTR,#packet_lenght
001E 7408              MOV     A,#08H
0020 F0                MOVX    @DPTR,A
0021 A3                INC     DPTR
0022 7403              MOV     A,#03H
0024 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 269
0025 7800        R     MOV     R0,#LOW id_str
0027 7C00        R     MOV     R4,#HIGH id_str
0029 7D01              MOV     R5,#01H
002B 7BFF              MOV     R3,#0FFH
002D 7A00        R     MOV     R2,#HIGH _?ix1002
002F 7900        R     MOV     R1,#LOW _?ix1002
0031 7E00              MOV     R6,#00H
0033 7F0F              MOV     R7,#0FH
0035 120000      E     LCALL   ?C?COPYAMD
                                           ; SOURCE LINE # 270
0038 7800        R     MOV     R0,#LOW input_str
003A 7C00        R     MOV     R4,#HIGH input_str
003C 7D01              MOV     R5,#01H
003E 7BFF              MOV     R3,#0FFH
0040 7A00        R     MOV     R2,#HIGH _?ix1003
0042 7900        R     MOV     R1,#LOW _?ix1003
0044 7E00              MOV     R6,#00H
0046 7F22              MOV     R7,#022H
0048 120000      E     LCALL   ?C?COPYAMD
                                           ; SOURCE LINE # 271
004B 7800        R     MOV     R0,#LOW res_str
004D 7C00        R     MOV     R4,#HIGH res_str
004F 7D01              MOV     R5,#01H
0051 7BFF              MOV     R3,#0FFH
0053 7A00        R     MOV     R2,#HIGH _?ix1004
0055 7900        R     MOV     R1,#LOW _?ix1004
0057 7E00              MOV     R6,#00H
0059 7F11              MOV     R7,#011H
005B 120000      E     LCALL   ?C?COPYAMD
                                           ; SOURCE LINE # 272
005E 7800        R     MOV     R0,#LOW m_off_str
0060 7C00        R     MOV     R4,#HIGH m_off_str
0062 7D01              MOV     R5,#01H
0064 7BFF              MOV     R3,#0FFH
0066 7A00        R     MOV     R2,#HIGH _?ix1005
0068 7900        R     MOV     R1,#LOW _?ix1005
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 39  

006A 7E00              MOV     R6,#00H
006C 7F19              MOV     R7,#019H
006E 120000      E     LCALL   ?C?COPYAMD
                                           ; SOURCE LINE # 273
0071 7800        R     MOV     R0,#LOW mult_str
0073 7C00        R     MOV     R4,#HIGH mult_str
0075 7D01              MOV     R5,#01H
0077 7BFF              MOV     R3,#0FFH
0079 7A00        R     MOV     R2,#HIGH _?ix1006
007B 7900        R     MOV     R1,#LOW _?ix1006
007D 7E00              MOV     R6,#00H
007F 7F11              MOV     R7,#011H
0081 120000      E     LCALL   ?C?COPYAMD
                                           ; SOURCE LINE # 274
0084 7800        R     MOV     R0,#LOW pos_lim_flag_str
0086 7C00        R     MOV     R4,#HIGH pos_lim_flag_str
0088 7D01              MOV     R5,#01H
008A 7BFF              MOV     R3,#0FFH
008C 7A00        R     MOV     R2,#HIGH _?ix1007
008E 7900        R     MOV     R1,#LOW _?ix1007
0090 7E00              MOV     R6,#00H
0092 7F1B              MOV     R7,#01BH
0094 120000      E     LCALL   ?C?COPYAMD
                                           ; SOURCE LINE # 275
0097 7800        R     MOV     R0,#LOW pos_lim_str
0099 7C00        R     MOV     R4,#HIGH pos_lim_str
009B 7D01              MOV     R5,#01H
009D 7BFF              MOV     R3,#0FFH
009F 7A00        R     MOV     R2,#HIGH _?ix1008
00A1 7900        R     MOV     R1,#LOW _?ix1008
00A3 7E00              MOV     R6,#00H
00A5 7F1C              MOV     R7,#01CH
00A7 120000      E     LCALL   ?C?COPYAMD
                                           ; SOURCE LINE # 276
00AA 7800        R     MOV     R0,#LOW max_step_str
00AC 7C00        R     MOV     R4,#HIGH max_step_str
00AE 7D01              MOV     R5,#01H
00B0 7BFF              MOV     R3,#0FFH
00B2 7A00        R     MOV     R2,#HIGH _?ix1009
00B4 7900        R     MOV     R1,#LOW _?ix1009
00B6 7E00              MOV     R6,#00H
00B8 7F1A              MOV     R7,#01AH
00BA 120000      E     LCALL   ?C?COPYAMD
                                           ; SOURCE LINE # 277
00BD 7800        R     MOV     R0,#LOW emg_flag_str
00BF 7C00        R     MOV     R4,#HIGH emg_flag_str
00C1 7D01              MOV     R5,#01H
00C3 7BFF              MOV     R3,#0FFH
00C5 7A00        R     MOV     R2,#HIGH _?ix1010
00C7 7900        R     MOV     R1,#LOW _?ix1010
00C9 7E00              MOV     R6,#00H
00CB 7F24              MOV     R7,#024H
00CD 120000      E     LCALL   ?C?COPYAMD
                                           ; SOURCE LINE # 278
00D0 7800        R     MOV     R0,#LOW emg_thr_str
00D2 7C00        R     MOV     R4,#HIGH emg_thr_str
00D4 7D01              MOV     R5,#01H
00D6 7BFF              MOV     R3,#0FFH
00D8 7A00        R     MOV     R2,#HIGH _?ix1011
00DA 7900        R     MOV     R1,#LOW _?ix1011
00DC 7E00              MOV     R6,#00H
00DE 7F15              MOV     R7,#015H
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 40  

00E0 120000      E     LCALL   ?C?COPYAMD
                                           ; SOURCE LINE # 279
00E3 7800        R     MOV     R0,#LOW emg_max_val_str
00E5 7C00        R     MOV     R4,#HIGH emg_max_val_str
00E7 7D01              MOV     R5,#01H
00E9 7BFF              MOV     R3,#0FFH
00EB 7A00        R     MOV     R2,#HIGH _?ix1012
00ED 7900        R     MOV     R1,#LOW _?ix1012
00EF 7E00              MOV     R6,#00H
00F1 7F15              MOV     R7,#015H
00F3 120000      E     LCALL   ?C?COPYAMD
                                           ; SOURCE LINE # 280
00F6 7800        R     MOV     R0,#LOW emg_max_speed_str
00F8 7C00        R     MOV     R4,#HIGH emg_max_speed_str
00FA 7D01              MOV     R5,#01H
00FC 7BFF              MOV     R3,#0FFH
00FE 7A00        R     MOV     R2,#HIGH _?ix1013
0100 7900        R     MOV     R1,#LOW _?ix1013
0102 7E00              MOV     R6,#00H
0104 7F14              MOV     R7,#014H
0106 120000      E     LCALL   ?C?COPYAMD
                                           ; SOURCE LINE # 281
0109 7800        R     MOV     R0,#LOW handle_ratio_str
010B 7C00        R     MOV     R4,#HIGH handle_ratio_str
010D 7D01              MOV     R5,#01H
010F 7BFF              MOV     R3,#0FFH
0111 7A00        R     MOV     R2,#HIGH _?ix1014
0113 7900        R     MOV     R1,#LOW _?ix1014
0115 7E00              MOV     R6,#00H
0117 7F19              MOV     R7,#019H
0119 120000      E     LCALL   ?C?COPYAMD
                                           ; SOURCE LINE # 282
011C 7800        R     MOV     R0,#LOW joystick_closure_speed_str
011E 7C00        R     MOV     R4,#HIGH joystick_closure_speed_str
0120 7D01              MOV     R5,#01H
0122 7BFF              MOV     R3,#0FFH
0124 7A00        R     MOV     R2,#HIGH _?ix1015
0126 7900        R     MOV     R1,#LOW _?ix1015
0128 7E00              MOV     R6,#00H
012A 7F1D              MOV     R7,#01DH
012C 120000      E     LCALL   ?C?COPYAMD
                                           ; SOURCE LINE # 283
012F 7800        R     MOV     R0,#LOW joystick_gains_str
0131 7C00        R     MOV     R4,#HIGH joystick_gains_str
0133 7D01              MOV     R5,#01H
0135 7BFF              MOV     R3,#0FFH
0137 7A00        R     MOV     R2,#HIGH _?ix1016
0139 7900        R     MOV     R1,#LOW _?ix1016
013B 7E00              MOV     R6,#00H
013D 7F14              MOV     R7,#014H
013F 120000      E     LCALL   ?C?COPYAMD
                                           ; SOURCE LINE # 284
0142 7800        R     MOV     R0,#LOW myo2_master_str
0144 7C00        R     MOV     R4,#HIGH myo2_master_str
0146 7D01              MOV     R5,#01H
0148 7BFF              MOV     R3,#0FFH
014A 7A00        R     MOV     R2,#HIGH _?ix1017
014C 7900        R     MOV     R1,#LOW _?ix1017
014E 7E00              MOV     R6,#00H
0150 7F24              MOV     R7,#024H
0152 120000      E     LCALL   ?C?COPYAMD
                                           ; SOURCE LINE # 285
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 41  

0155 7800        R     MOV     R0,#LOW rest_pos_flag_str
0157 7C00        R     MOV     R4,#HIGH rest_pos_flag_str
0159 7D01              MOV     R5,#01H
015B 7BFF              MOV     R3,#0FFH
015D 7A00        R     MOV     R2,#HIGH _?ix1018
015F 7900        R     MOV     R1,#LOW _?ix1018
0161 7E00              MOV     R6,#00H
0163 7F1D              MOV     R7,#01DH
0165 120000      E     LCALL   ?C?COPYAMD
                                           ; SOURCE LINE # 286
0168 7800        R     MOV     R0,#LOW rest_pos_str
016A 7C00        R     MOV     R4,#HIGH rest_pos_str
016C 7D01              MOV     R5,#01H
016E 7BFF              MOV     R3,#0FFH
0170 7A00        R     MOV     R2,#HIGH _?ix1019
0172 7900        R     MOV     R1,#LOW _?ix1019
0174 7E00              MOV     R6,#00H
0176 7F14              MOV     R7,#014H
0178 120000      E     LCALL   ?C?COPYAMD
                                           ; SOURCE LINE # 287
017B 7800        R     MOV     R0,#LOW rest_pos_delay_str
017D 7C00        R     MOV     R4,#HIGH rest_pos_delay_str
017F 7D01              MOV     R5,#01H
0181 7BFF              MOV     R3,#0FFH
0183 7A00        R     MOV     R2,#HIGH _?ix1020
0185 7900        R     MOV     R1,#LOW _?ix1020
0187 7E00              MOV     R6,#00H
0189 7F28              MOV     R7,#028H
018B 120000      E     LCALL   ?C?COPYAMD
                                           ; SOURCE LINE # 288
018E 7800        R     MOV     R0,#LOW rest_vel_str
0190 7C00        R     MOV     R4,#HIGH rest_vel_str
0192 7D01              MOV     R5,#01H
0194 7BFF              MOV     R3,#0FFH
0196 7A00        R     MOV     R2,#HIGH _?ix1021
0198 7900        R     MOV     R1,#LOW _?ix1021
019A 7E00              MOV     R6,#00H
019C 7F23              MOV     R7,#023H
019E 120000      E     LCALL   ?C?COPYAMD
                                           ; SOURCE LINE # 289
01A1 7800        R     MOV     R0,#LOW curr_prop_gain_str
01A3 7C00        R     MOV     R4,#HIGH curr_prop_gain_str
01A5 7D01              MOV     R5,#01H
01A7 7BFF              MOV     R3,#0FFH
01A9 7A00        R     MOV     R2,#HIGH _?ix1022
01AB 7900        R     MOV     R1,#LOW _?ix1022
01AD 7E00              MOV     R6,#00H
01AF 7F28              MOV     R7,#028H
01B1 120000      E     LCALL   ?C?COPYAMD
                                           ; SOURCE LINE # 290
01B4 7800        R     MOV     R0,#LOW curr_sat_str
01B6 7C00        R     MOV     R4,#HIGH curr_sat_str
01B8 7D01              MOV     R5,#01H
01BA 7BFF              MOV     R3,#0FFH
01BC 7A00        R     MOV     R2,#HIGH _?ix1023
01BE 7900        R     MOV     R1,#LOW _?ix1023
01C0 7E00              MOV     R6,#00H
01C2 7F2C              MOV     R7,#02CH
01C4 120000      E     LCALL   ?C?COPYAMD
                                           ; SOURCE LINE # 291
01C7 7800        R     MOV     R0,#LOW curr_dead_zone_str
01C9 7C00        R     MOV     R4,#HIGH curr_dead_zone_str
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 42  

01CB 7D01              MOV     R5,#01H
01CD 7BFF              MOV     R3,#0FFH
01CF 7A00        R     MOV     R2,#HIGH _?ix1024
01D1 7900        R     MOV     R1,#LOW _?ix1024
01D3 7E00              MOV     R6,#00H
01D5 7F20              MOV     R7,#020H
01D7 120000      E     LCALL   ?C?COPYAMD
                                           ; SOURCE LINE # 292
01DA 7800        R     MOV     R0,#LOW max_slide_str
01DC 7C00        R     MOV     R4,#HIGH max_slide_str
01DE 7D01              MOV     R5,#01H
01E0 7BFF              MOV     R3,#0FFH
01E2 7A00        R     MOV     R2,#HIGH _?ix1025
01E4 7900        R     MOV     R1,#LOW _?ix1025
01E6 7E00              MOV     R6,#00H
01E8 7F23              MOV     R7,#023H
01EA 120000      E     LCALL   ?C?COPYAMD
                                           ; SOURCE LINE # 293
01ED 7800        R     MOV     R0,#LOW max_SH_pos_str
01EF 7C00        R     MOV     R4,#HIGH max_SH_pos_str
01F1 7D01              MOV     R5,#01H
01F3 7BFF              MOV     R3,#0FFH
01F5 7A00        R     MOV     R2,#HIGH _?ix1026
01F7 7900        R     MOV     R1,#LOW _?ix1026
01F9 7E00              MOV     R6,#00H
01FB 7F25              MOV     R7,#025H
01FD 120000      E     LCALL   ?C?COPYAMD
                                           ; SOURCE LINE # 294
0200 7800        R     MOV     R0,#LOW master_mode_force_str
0202 7C00        R     MOV     R4,#HIGH master_mode_force_str
0204 7D01              MOV     R5,#01H
0206 7BFF              MOV     R3,#0FFH
0208 7A00        R     MOV     R2,#HIGH _?ix1027
020A 7900        R     MOV     R1,#LOW _?ix1027
020C 7E00              MOV     R6,#00H
020E 7F23              MOV     R7,#023H
0210 120000      E     LCALL   ?C?COPYAMD
                                           ; SOURCE LINE # 295
0213 7800        R     MOV     R0,#LOW master_mode_proprio_str
0215 7C00        R     MOV     R4,#HIGH master_mode_proprio_str
0217 7D01              MOV     R5,#01H
0219 7BFF              MOV     R3,#0FFH
021B 7A00        R     MOV     R2,#HIGH _?ix1028
021D 7900        R     MOV     R1,#LOW _?ix1028
021F 7E00              MOV     R6,#00H
0221 7F27              MOV     R7,#027H
0223 120000      E     LCALL   ?C?COPYAMD
                                           ; SOURCE LINE # 296
0226 7800        R     MOV     R0,#LOW SH_ID_str
0228 7C00        R     MOV     R4,#HIGH SH_ID_str
022A 7D01              MOV     R5,#01H
022C 7BFF              MOV     R3,#0FFH
022E 7A00        R     MOV     R2,#HIGH _?ix1029
0230 7900        R     MOV     R1,#LOW _?ix1029
0232 7E00              MOV     R6,#00H
0234 7F12              MOV     R7,#012H
0236 120000      E     LCALL   ?C?COPYAMD
                                           ; SOURCE LINE # 297
0239 7800        R     MOV     R0,#LOW FF_ID_str
023B 7C00        R     MOV     R4,#HIGH FF_ID_str
023D 7D01              MOV     R5,#01H
023F 7BFF              MOV     R3,#0FFH
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 43  

0241 7A00        R     MOV     R2,#HIGH _?ix1030
0243 7900        R     MOV     R1,#LOW _?ix1030
0245 7E00              MOV     R6,#00H
0247 7F16              MOV     R7,#016H
0249 120000      E     LCALL   ?C?COPYAMD
                                           ; SOURCE LINE # 298
024C 7800        R     MOV     R0,#LOW PF_ID_str
024E 7C00        R     MOV     R4,#HIGH PF_ID_str
0250 7D01              MOV     R5,#01H
0252 7BFF              MOV     R3,#0FFH
0254 7A00        R     MOV     R2,#HIGH _?ix1031
0256 7900        R     MOV     R1,#LOW _?ix1031
0258 7E00              MOV     R6,#00H
025A 7F1F              MOV     R7,#01FH
025C 120000      E     LCALL   ?C?COPYAMD
                                           ; SOURCE LINE # 299
025F 7800        R     MOV     R0,#LOW F_right_left_par_str
0261 7C00        R     MOV     R4,#HIGH F_right_left_par_str
0263 7D01              MOV     R5,#01H
0265 7BFF              MOV     R3,#0FFH
0267 7A00        R     MOV     R2,#HIGH _?ix1032
0269 7900        R     MOV     R1,#LOW _?ix1032
026B 7E00              MOV     R6,#00H
026D 7F15              MOV     R7,#015H
026F 120000      E     LCALL   ?C?COPYAMD
                                           ; SOURCE LINE # 302
0272 7800        R     MOV     R0,#LOW input_mode_menu
0274 7C00        R     MOV     R4,#HIGH input_mode_menu
0276 7D01              MOV     R5,#01H
0278 7BFF              MOV     R3,#0FFH
027A 7A00        R     MOV     R2,#HIGH _?ix1033
027C 7900        R     MOV     R1,#LOW _?ix1033
027E 7E00              MOV     R6,#00H
0280 7F64              MOV     R7,#064H
0282 120000      E     LCALL   ?C?COPYAMD
                                           ; SOURCE LINE # 303
0285 7800        R     MOV     R0,#LOW F_right_left_menu
0287 7C00        R     MOV     R4,#HIGH F_right_left_menu
0289 7D01              MOV     R5,#01H
028B 7BFF              MOV     R3,#0FFH
028D 7A00        R     MOV     R2,#HIGH _?ix1034
028F 7900        R     MOV     R1,#LOW _?ix1034
0291 7E00              MOV     R6,#00H
0293 7F16              MOV     R7,#016H
0295 120000      E     LCALL   ?C?COPYAMD
                                           ; SOURCE LINE # 304
0298 7800        R     MOV     R0,#LOW yes_no_menu
029A 7C00        R     MOV     R4,#HIGH yes_no_menu
029C 7D01              MOV     R5,#01H
029E 7BFF              MOV     R3,#0FFH
02A0 7A00        R     MOV     R2,#HIGH _?ix1035
02A2 7900        R     MOV     R1,#LOW _?ix1035
02A4 7E00              MOV     R6,#00H
02A6 7F2A              MOV     R7,#02AH
02A8 120000      E     LCALL   ?C?COPYAMD
                                           ; SOURCE LINE # 308
02AB 7B01              MOV     R3,#01H
02AD 7A00        R     MOV     R2,#HIGH id_str
02AF 7900        R     MOV     R1,#LOW id_str
02B1 120000      E     LCALL   _strlen
02B4 8F00        R     MOV     id_str_len,R7
                                           ; SOURCE LINE # 309
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 44  

02B6 7B01              MOV     R3,#01H
02B8 7A00        R     MOV     R2,#HIGH res_str
02BA 7900        R     MOV     R1,#LOW res_str
02BC 120000      E     LCALL   _strlen
02BF 8F00        R     MOV     res_str_len,R7
                                           ; SOURCE LINE # 310
02C1 7B01              MOV     R3,#01H
02C3 7A00        R     MOV     R2,#HIGH m_off_str
02C5 7900        R     MOV     R1,#LOW m_off_str
02C7 120000      E     LCALL   _strlen
02CA 8F00        R     MOV     m_off_str_len,R7
                                           ; SOURCE LINE # 311
02CC 7B01              MOV     R3,#01H
02CE 7A00        R     MOV     R2,#HIGH mult_str
02D0 7900        R     MOV     R1,#LOW mult_str
02D2 120000      E     LCALL   _strlen
02D5 8F00        R     MOV     mult_str_len,R7
                                           ; SOURCE LINE # 312
02D7 7B01              MOV     R3,#01H
02D9 7A00        R     MOV     R2,#HIGH pos_lim_str
02DB 7900        R     MOV     R1,#LOW pos_lim_str
02DD 120000      E     LCALL   _strlen
02E0 8F00        R     MOV     pos_lim_str_len,R7
                                           ; SOURCE LINE # 313
02E2 7B01              MOV     R3,#01H
02E4 7A00        R     MOV     R2,#HIGH max_step_str
02E6 7900        R     MOV     R1,#LOW max_step_str
02E8 120000      E     LCALL   _strlen
02EB 8F00        R     MOV     max_step_str_len,R7
                                           ; SOURCE LINE # 314
02ED 7B01              MOV     R3,#01H
02EF 7A00        R     MOV     R2,#HIGH emg_thr_str
02F1 7900        R     MOV     R1,#LOW emg_thr_str
02F3 120000      E     LCALL   _strlen
02F6 8F00        R     MOV     emg_thr_str_len,R7
                                           ; SOURCE LINE # 315
02F8 7B01              MOV     R3,#01H
02FA 7A00        R     MOV     R2,#HIGH emg_max_val_str
02FC 7900        R     MOV     R1,#LOW emg_max_val_str
02FE 120000      E     LCALL   _strlen
0301 8F00        R     MOV     emg_max_val_str_len,R7
                                           ; SOURCE LINE # 316
0303 7B01              MOV     R3,#01H
0305 7A00        R     MOV     R2,#HIGH emg_max_speed_str
0307 7900        R     MOV     R1,#LOW emg_max_speed_str
0309 120000      E     LCALL   _strlen
030C 8F00        R     MOV     emg_max_speed_str_len,R7
                                           ; SOURCE LINE # 317
030E 7B01              MOV     R3,#01H
0310 7A00        R     MOV     R2,#HIGH handle_ratio_str
0312 7900        R     MOV     R1,#LOW handle_ratio_str
0314 120000      E     LCALL   _strlen
0317 8F00        R     MOV     handle_ratio_str_len,R7
                                           ; SOURCE LINE # 318
0319 7B01              MOV     R3,#01H
031B 7A00        R     MOV     R2,#HIGH joystick_closure_speed_str
031D 7900        R     MOV     R1,#LOW joystick_closure_speed_str
031F 120000      E     LCALL   _strlen
0322 8F00        R     MOV     joystick_closure_speed_str_len,R7
                                           ; SOURCE LINE # 319
0324 7B01              MOV     R3,#01H
0326 7A00        R     MOV     R2,#HIGH joystick_gains_str
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 45  

0328 7900        R     MOV     R1,#LOW joystick_gains_str
032A 120000      E     LCALL   _strlen
032D 8F00        R     MOV     joystick_gains_str_len,R7
                                           ; SOURCE LINE # 320
032F 7B01              MOV     R3,#01H
0331 7A00        R     MOV     R2,#HIGH rest_pos_str
0333 7900        R     MOV     R1,#LOW rest_pos_str
0335 120000      E     LCALL   _strlen
0338 8F00        R     MOV     rest_pos_str_len,R7
                                           ; SOURCE LINE # 321
033A 7B01              MOV     R3,#01H
033C 7A00        R     MOV     R2,#HIGH rest_pos_delay_str
033E 7900        R     MOV     R1,#LOW rest_pos_delay_str
0340 120000      E     LCALL   _strlen
0343 8F00        R     MOV     rest_pos_delay_str_len,R7
                                           ; SOURCE LINE # 322
0345 7B01              MOV     R3,#01H
0347 7A00        R     MOV     R2,#HIGH rest_vel_str
0349 7900        R     MOV     R1,#LOW rest_vel_str
034B 120000      E     LCALL   _strlen
034E 8F00        R     MOV     rest_vel_str_len,R7
                                           ; SOURCE LINE # 323
0350 7B01              MOV     R3,#01H
0352 7A00        R     MOV     R2,#HIGH curr_prop_gain_str
0354 7900        R     MOV     R1,#LOW curr_prop_gain_str
0356 120000      E     LCALL   _strlen
0359 8F00        R     MOV     curr_prop_gain_str_len,R7
                                           ; SOURCE LINE # 324
035B 7B01              MOV     R3,#01H
035D 7A00        R     MOV     R2,#HIGH curr_sat_str
035F 7900        R     MOV     R1,#LOW curr_sat_str
0361 120000      E     LCALL   _strlen
0364 8F00        R     MOV     curr_sat_str_len,R7
                                           ; SOURCE LINE # 325
0366 7B01              MOV     R3,#01H
0368 7A00        R     MOV     R2,#HIGH curr_dead_zone_str
036A 7900        R     MOV     R1,#LOW curr_dead_zone_str
036C 120000      E     LCALL   _strlen
036F 8F00        R     MOV     curr_dead_zone_str_len,R7
                                           ; SOURCE LINE # 326
0371 7B01              MOV     R3,#01H
0373 7A00        R     MOV     R2,#HIGH max_slide_str
0375 7900        R     MOV     R1,#LOW max_slide_str
0377 120000      E     LCALL   _strlen
037A 8F00        R     MOV     max_slide_str_len,R7
                                           ; SOURCE LINE # 327
037C 7B01              MOV     R3,#01H
037E 7A00        R     MOV     R2,#HIGH max_SH_pos_str
0380 7900        R     MOV     R1,#LOW max_SH_pos_str
0382 120000      E     LCALL   _strlen
0385 8F00        R     MOV     max_SH_pos_str_len,R7
                                           ; SOURCE LINE # 328
0387 7B01              MOV     R3,#01H
0389 7A00        R     MOV     R2,#HIGH SH_ID_str
038B 7900        R     MOV     R1,#LOW SH_ID_str
038D 120000      E     LCALL   _strlen
0390 8F00        R     MOV     SH_ID_str_len,R7
                                           ; SOURCE LINE # 329
0392 7B01              MOV     R3,#01H
0394 7A00        R     MOV     R2,#HIGH FF_ID_str
0396 7900        R     MOV     R1,#LOW FF_ID_str
0398 120000      E     LCALL   _strlen
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 46  

039B 8F00        R     MOV     FF_ID_str_len,R7
                                           ; SOURCE LINE # 330
039D 7B01              MOV     R3,#01H
039F 7A00        R     MOV     R2,#HIGH PF_ID_str
03A1 7900        R     MOV     R1,#LOW PF_ID_str
03A3 120000      E     LCALL   _strlen
03A6 8F00        R     MOV     PF_ID_str_len,R7
                                           ; SOURCE LINE # 332
03A8 7B01              MOV     R3,#01H
03AA 7A00        R     MOV     R2,#HIGH input_mode_menu
03AC 7900        R     MOV     R1,#LOW input_mode_menu
03AE 120000      E     LCALL   _strlen
03B1 8F00        R     MOV     input_mode_menu_len,R7
                                           ; SOURCE LINE # 333
03B3 7B01              MOV     R3,#01H
03B5 7A00        R     MOV     R2,#HIGH F_right_left_menu
03B7 7900        R     MOV     R1,#LOW F_right_left_menu
03B9 120000      E     LCALL   _strlen
03BC 8F00        R     MOV     F_right_left_menu_len,R7
                                           ; SOURCE LINE # 334
03BE 7B01              MOV     R3,#01H
03C0 7A00        R     MOV     R2,#HIGH yes_no_menu
03C2 7900        R     MOV     R1,#LOW yes_no_menu
03C4 120000      E     LCALL   _strlen
03C7 8F00        R     MOV     yes_no_menu_len,R7
                                           ; SOURCE LINE # 336
03C9 900000      R     MOV     DPTR,#packet_data
03CC 740C              MOV     A,#0CH
03CE F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 337
03CF A3                INC     DPTR
03D0 741F              MOV     A,#01FH
03D2 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 339
03D3 900000      R     MOV     DPTR,#index
03D6 E0                MOVX    A,@DPTR
03D7 FE                MOV     R6,A
03D8 A3                INC     DPTR
03D9 E0                MOVX    A,@DPTR
03DA FF                MOV     R7,A
03DB EE                MOV     A,R6
03DC 6003              JZ      $ + 5H
03DE 020000      R     LJMP    ?C0231
03E1 EF                MOV     A,R7
03E2 B42000            CJNE    A,#020H,?C0378
03E5         ?C0378:
03E5 4003              JC      $ + 5H
03E7 020000      R     LJMP    ?C0231
03EA 900000      R     MOV     DPTR,#?C0379
03ED F8                MOV     R0,A
03EE 28                ADD     A,R0
03EF 28                ADD     A,R0
03F0 73                JMP     @A+DPTR
03F1         ?C0379:
03F1 020000      R     LJMP    ?C0042
03F4 020000      R     LJMP    ?C0179
03F7 020000      R     LJMP    ?C0180
03FA 020000      R     LJMP    ?C0181
03FD 020000      R     LJMP    ?C0185
0400 020000      R     LJMP    ?C0189
0403 020000      R     LJMP    ?C0193
0406 020000      R     LJMP    ?C0194
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 47  

0409 020000      R     LJMP    ?C0198
040C 020000      R     LJMP    ?C0201
040F 020000      R     LJMP    ?C0202
0412 020000      R     LJMP    ?C0203
0415 020000      R     LJMP    ?C0204
0418 020000      R     LJMP    ?C0205
041B 020000      R     LJMP    ?C0206
041E 020000      R     LJMP    ?C0207
0421 020000      R     LJMP    ?C0208
0424 020000      R     LJMP    ?C0211
0427 020000      R     LJMP    ?C0212
042A 020000      R     LJMP    ?C0213
042D 020000      R     LJMP    ?C0215
0430 020000      R     LJMP    ?C0216
0433 020000      R     LJMP    ?C0217
0436 020000      R     LJMP    ?C0218
0439 020000      R     LJMP    ?C0219
043C 020000      R     LJMP    ?C0220
043F 020000      R     LJMP    ?C0221
0442 020000      R     LJMP    ?C0224
0445 020000      R     LJMP    ?C0227
0448 020000      R     LJMP    ?C0228
044B 020000      R     LJMP    ?C0229
044E 020000      R     LJMP    ?C0230
                                           ; SOURCE LINE # 340
0451         ?C0042:
                                           ; SOURCE LINE # 343
0451 900000      R     MOV     DPTR,#packet_data+02H
0454 7402              MOV     A,#02H
0456 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 344
0457 A3                INC     DPTR
0458 14                DEC     A
0459 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 345
045A 900000      E     MOV     DPTR,#c_mem+01H
045D E0                MOVX    A,@DPTR
045E 900000      R     MOV     DPTR,#packet_data+04H
0461 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 346
0462 850000      R     MOV     i,id_str_len
0465         ?C0043:
0465 E500        R     MOV     A,i
0467 6032              JZ      ?C0044
                                           ; SOURCE LINE # 347
0469 FF                MOV     R7,A
046A C3                CLR     C
046B E500        R     MOV     A,id_str_len
046D 9F                SUBB    A,R7
046E FF                MOV     R7,A
046F E4                CLR     A
0470 9400              SUBB    A,#00H
0472 FE                MOV     R6,A
0473 7400        R     MOV     A,#LOW id_str
0475 2F                ADD     A,R7
0476 F582              MOV     DPL,A
0478 7400        R     MOV     A,#HIGH id_str
047A 3E                ADDC    A,R6
047B F583              MOV     DPH,A
047D E0                MOVX    A,@DPTR
047E FF                MOV     R7,A
047F E500        R     MOV     A,i
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 48  

0481 FD                MOV     R5,A
0482 E500        R     MOV     A,id_str_len
0484 C3                CLR     C
0485 9D                SUBB    A,R5
0486 FD                MOV     R5,A
0487 E4                CLR     A
0488 9400              SUBB    A,#00H
048A FC                MOV     R4,A
048B 7400        R     MOV     A,#LOW packet_data+05H
048D 2D                ADD     A,R5
048E F582              MOV     DPL,A
0490 7400        R     MOV     A,#HIGH packet_data+05H
0492 3C                ADDC    A,R4
0493 F583              MOV     DPH,A
0495 EF                MOV     A,R7
0496 F0                MOVX    @DPTR,A
0497 1500        R     DEC     i
0499 80CA              SJMP    ?C0043
049B         ?C0044:
                                           ; SOURCE LINE # 351
049B E4                CLR     A
049C 900000      R     MOV     DPTR,#packet_data+034H
049F F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 352
04A0 A3                INC     DPTR
04A1 04                INC     A
04A2 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 353
04A3 900000      E     MOV     DPTR,#c_mem+02H
04A6 E0                MOVX    A,@DPTR
04A7 900000      R     MOV     DPTR,#packet_data+036H
04AA F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 354
04AB 900000      E     MOV     DPTR,#c_mem+02H
04AE B40700            CJNE    A,#07H,?C0380
04B1         ?C0380:
04B1 4003              JC      $ + 5H
04B3 020000      R     LJMP    ?C0046
04B6 900000      R     MOV     DPTR,#?C0381
04B9 F8                MOV     R0,A
04BA 28                ADD     A,R0
04BB 28                ADD     A,R0
04BC 73                JMP     @A+DPTR
04BD         ?C0381:
04BD 020000      R     LJMP    ?C0047
04C0 020000      R     LJMP    ?C0048
04C3 020000      R     LJMP    ?C0049
04C6 020000      R     LJMP    ?C0050
04C9 020000      R     LJMP    ?C0051
04CC 020000      R     LJMP    ?C0052
04CF 020000      R     LJMP    ?C0053
                                           ; SOURCE LINE # 355
04D2         ?C0047:
                                           ; SOURCE LINE # 356
04D2 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
04D5 74FF              MOV     A,#0FFH
04D7 F0                MOVX    @DPTR,A
04D8 A3                INC     DPTR
04D9 7400        R     MOV     A,#HIGH ?SC_0
04DB F0                MOVX    @DPTR,A
04DC A3                INC     DPTR
04DD 7400        R     MOV     A,#LOW ?SC_0
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 49  

04DF F0                MOVX    @DPTR,A
04E0 7B01              MOV     R3,#01H
04E2 7A00        R     MOV     R2,#HIGH input_str
04E4 7900        R     MOV     R1,#LOW input_str
04E6 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 357
04E9 750014      R     MOV     string_lenght,#014H
                                           ; SOURCE LINE # 358
04EC 020000      R     LJMP    ?C0046
                                           ; SOURCE LINE # 359
04EF         ?C0048:
                                           ; SOURCE LINE # 360
04EF 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
04F2 74FF              MOV     A,#0FFH
04F4 F0                MOVX    @DPTR,A
04F5 A3                INC     DPTR
04F6 7400        R     MOV     A,#HIGH ?SC_6
04F8 F0                MOVX    @DPTR,A
04F9 A3                INC     DPTR
04FA 7400        R     MOV     A,#LOW ?SC_6
04FC F0                MOVX    @DPTR,A
04FD 7B01              MOV     R3,#01H
04FF 7A00        R     MOV     R2,#HIGH input_str
0501 7900        R     MOV     R1,#LOW input_str
0503 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 361
0506 750017      R     MOV     string_lenght,#017H
                                           ; SOURCE LINE # 362
0509 020000      R     LJMP    ?C0046
                                           ; SOURCE LINE # 363
050C         ?C0049:
                                           ; SOURCE LINE # 364
050C 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
050F 74FF              MOV     A,#0FFH
0511 F0                MOVX    @DPTR,A
0512 A3                INC     DPTR
0513 7400        R     MOV     A,#HIGH ?SC_15
0515 F0                MOVX    @DPTR,A
0516 A3                INC     DPTR
0517 7400        R     MOV     A,#LOW ?SC_15
0519 F0                MOVX    @DPTR,A
051A 7B01              MOV     R3,#01H
051C 7A00        R     MOV     R2,#HIGH input_str
051E 7900        R     MOV     R1,#LOW input_str
0520 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 365
0523 750021      R     MOV     string_lenght,#021H
                                           ; SOURCE LINE # 366
0526 806E              SJMP    ?C0046
                                           ; SOURCE LINE # 367
0528         ?C0050:
                                           ; SOURCE LINE # 368
0528 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
052B 74FF              MOV     A,#0FFH
052D F0                MOVX    @DPTR,A
052E A3                INC     DPTR
052F 7400        R     MOV     A,#HIGH ?SC_34
0531 F0                MOVX    @DPTR,A
0532 A3                INC     DPTR
0533 7400        R     MOV     A,#LOW ?SC_34
0535 F0                MOVX    @DPTR,A
0536 7B01              MOV     R3,#01H
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 50  

0538 7A00        R     MOV     R2,#HIGH input_str
053A 7900        R     MOV     R1,#LOW input_str
053C 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 369
053F 75001D      R     MOV     string_lenght,#01DH
                                           ; SOURCE LINE # 370
0542 8052              SJMP    ?C0046
                                           ; SOURCE LINE # 371
0544         ?C0051:
                                           ; SOURCE LINE # 372
0544 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0547 74FF              MOV     A,#0FFH
0549 F0                MOVX    @DPTR,A
054A A3                INC     DPTR
054B 7400        R     MOV     A,#HIGH ?SC_49
054D F0                MOVX    @DPTR,A
054E A3                INC     DPTR
054F 7400        R     MOV     A,#LOW ?SC_49
0551 F0                MOVX    @DPTR,A
0552 7B01              MOV     R3,#01H
0554 7A00        R     MOV     R2,#HIGH input_str
0556 7900        R     MOV     R1,#LOW input_str
0558 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 373
055B 750019      R     MOV     string_lenght,#019H
                                           ; SOURCE LINE # 374
055E 8036              SJMP    ?C0046
                                           ; SOURCE LINE # 375
0560         ?C0052:
                                           ; SOURCE LINE # 376
0560 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0563 74FF              MOV     A,#0FFH
0565 F0                MOVX    @DPTR,A
0566 A3                INC     DPTR
0567 7400        R     MOV     A,#HIGH ?SC_60
0569 F0                MOVX    @DPTR,A
056A A3                INC     DPTR
056B 7400        R     MOV     A,#LOW ?SC_60
056D F0                MOVX    @DPTR,A
056E 7B01              MOV     R3,#01H
0570 7A00        R     MOV     R2,#HIGH input_str
0572 7900        R     MOV     R1,#LOW input_str
0574 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 377
0577 750022      R     MOV     string_lenght,#022H
                                           ; SOURCE LINE # 378
057A 801A              SJMP    ?C0046
                                           ; SOURCE LINE # 379
057C         ?C0053:
                                           ; SOURCE LINE # 380
057C 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
057F 74FF              MOV     A,#0FFH
0581 F0                MOVX    @DPTR,A
0582 A3                INC     DPTR
0583 7400        R     MOV     A,#HIGH ?SC_80
0585 F0                MOVX    @DPTR,A
0586 A3                INC     DPTR
0587 7400        R     MOV     A,#LOW ?SC_80
0589 F0                MOVX    @DPTR,A
058A 7B01              MOV     R3,#01H
058C 7A00        R     MOV     R2,#HIGH input_str
058E 7900        R     MOV     R1,#LOW input_str
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 51  

0590 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 381
0593 750019      R     MOV     string_lenght,#019H
                                           ; SOURCE LINE # 382
                                           ; SOURCE LINE # 383
0596         ?C0046:
                                           ; SOURCE LINE # 384
0596 850000      R     MOV     i,string_lenght
0599         ?C0054:
0599 E500        R     MOV     A,i
059B 6032              JZ      ?C0055
                                           ; SOURCE LINE # 385
059D FF                MOV     R7,A
059E C3                CLR     C
059F E500        R     MOV     A,string_lenght
05A1 9F                SUBB    A,R7
05A2 FF                MOV     R7,A
05A3 E4                CLR     A
05A4 9400              SUBB    A,#00H
05A6 FE                MOV     R6,A
05A7 7400        R     MOV     A,#LOW input_str
05A9 2F                ADD     A,R7
05AA F582              MOV     DPL,A
05AC 7400        R     MOV     A,#HIGH input_str
05AE 3E                ADDC    A,R6
05AF F583              MOV     DPH,A
05B1 E0                MOVX    A,@DPTR
05B2 FF                MOV     R7,A
05B3 E500        R     MOV     A,i
05B5 FD                MOV     R5,A
05B6 E500        R     MOV     A,string_lenght
05B8 C3                CLR     C
05B9 9D                SUBB    A,R5
05BA FD                MOV     R5,A
05BB E4                CLR     A
05BC 9400              SUBB    A,#00H
05BE FC                MOV     R4,A
05BF 7400        R     MOV     A,#LOW packet_data+037H
05C1 2D                ADD     A,R5
05C2 F582              MOV     DPL,A
05C4 7400        R     MOV     A,#HIGH packet_data+037H
05C6 3C                ADDC    A,R4
05C7 F583              MOV     DPH,A
05C9 EF                MOV     A,R7
05CA F0                MOVX    @DPTR,A
05CB 1500        R     DEC     i
05CD 80CA              SJMP    ?C0054
05CF         ?C0055:
                                           ; SOURCE LINE # 387
05CF 7400        R     MOV     A,#LOW packet_data+037H
05D1 2500        R     ADD     A,string_lenght
05D3 F582              MOV     DPL,A
05D5 E4                CLR     A
05D6 3400        R     ADDC    A,#HIGH packet_data+037H
05D8 F583              MOV     DPH,A
05DA 7401              MOV     A,#01H
05DC F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 391
05DD 900000      R     MOV     DPTR,#packet_data+066H
05E0 04                INC     A
05E1 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 392
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 52  

05E2 A3                INC     DPTR
05E3 04                INC     A
05E4 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 393
05E5 E4                CLR     A
05E6 F500        R     MOV     i,A
05E8         ?C0057:
05E8 E500        R     MOV     A,i
05EA C3                CLR     C
05EB 9403              SUBB    A,#03H
05ED 501E              JNC     ?C0058
                                           ; SOURCE LINE # 394
05EF 7400        E     MOV     A,#LOW c_mem+03H
05F1 2500        R     ADD     A,i
05F3 F582              MOV     DPL,A
05F5 E4                CLR     A
05F6 3400        E     ADDC    A,#HIGH c_mem+03H
05F8 F583              MOV     DPH,A
05FA E0                MOVX    A,@DPTR
05FB FF                MOV     R7,A
05FC 7400        R     MOV     A,#LOW packet_data+068H
05FE 2500        R     ADD     A,i
0600 F582              MOV     DPL,A
0602 E4                CLR     A
0603 3400        R     ADDC    A,#HIGH packet_data+068H
0605 F583              MOV     DPH,A
0607 EF                MOV     A,R7
0608 F0                MOVX    @DPTR,A
0609 0500        R     INC     i
060B 80DB              SJMP    ?C0057
060D         ?C0058:
                                           ; SOURCE LINE # 395
060D 850000      R     MOV     i,res_str_len
0610         ?C0060:
0610 E500        R     MOV     A,i
0612 6032              JZ      ?C0061
                                           ; SOURCE LINE # 396
0614 FF                MOV     R7,A
0615 C3                CLR     C
0616 E500        R     MOV     A,res_str_len
0618 9F                SUBB    A,R7
0619 FF                MOV     R7,A
061A E4                CLR     A
061B 9400              SUBB    A,#00H
061D FE                MOV     R6,A
061E 7400        R     MOV     A,#LOW res_str
0620 2F                ADD     A,R7
0621 F582              MOV     DPL,A
0623 7400        R     MOV     A,#HIGH res_str
0625 3E                ADDC    A,R6
0626 F583              MOV     DPH,A
0628 E0                MOVX    A,@DPTR
0629 FF                MOV     R7,A
062A E500        R     MOV     A,i
062C FD                MOV     R5,A
062D E500        R     MOV     A,res_str_len
062F C3                CLR     C
0630 9D                SUBB    A,R5
0631 FD                MOV     R5,A
0632 E4                CLR     A
0633 9400              SUBB    A,#00H
0635 FC                MOV     R4,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 53  

0636 7400        R     MOV     A,#LOW packet_data+06BH
0638 2D                ADD     A,R5
0639 F582              MOV     DPL,A
063B 7400        R     MOV     A,#HIGH packet_data+06BH
063D 3C                ADDC    A,R4
063E F583              MOV     DPH,A
0640 EF                MOV     A,R7
0641 F0                MOVX    @DPTR,A
0642 1500        R     DEC     i
0644 80CA              SJMP    ?C0060
0646         ?C0061:
                                           ; SOURCE LINE # 400
0646 900000      R     MOV     DPTR,#packet_data+098H
0649 7403              MOV     A,#03H
064B F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 401
064C A3                INC     DPTR
064D F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 402
064E E4                CLR     A
064F F500        R     MOV     i,A
0651         ?C0063:
0651 E500        R     MOV     A,i
0653 C3                CLR     C
0654 9403              SUBB    A,#03H
0656 5044              JNC     ?C0064
                                           ; SOURCE LINE # 403
0658 E500        R     MOV     A,i
065A 25E0              ADD     A,ACC
065C 25E0              ADD     A,ACC
065E 2400        E     ADD     A,#LOW c_mem+06H
0660 F582              MOV     DPL,A
0662 E4                CLR     A
0663 3400        E     ADDC    A,#HIGH c_mem+06H
0665 F583              MOV     DPH,A
0667 E0                MOVX    A,@DPTR
0668 FC                MOV     R4,A
0669 A3                INC     DPTR
066A E0                MOVX    A,@DPTR
066B FD                MOV     R5,A
066C A3                INC     DPTR
066D E0                MOVX    A,@DPTR
066E FE                MOV     R6,A
066F A3                INC     DPTR
0670 E0                MOVX    A,@DPTR
0671 FF                MOV     R7,A
0672 7400        E     MOV     A,#LOW c_mem+03H
0674 2500        R     ADD     A,i
0676 F582              MOV     DPL,A
0678 E4                CLR     A
0679 3400        E     ADDC    A,#HIGH c_mem+03H
067B F583              MOV     DPH,A
067D E0                MOVX    A,@DPTR
067E F9                MOV     R1,A
067F F8                MOV     R0,A
0680 120000      E     LCALL   ?C?SLSHR
0683 75F002            MOV     B,#02H
0686 E500        R     MOV     A,i
0688 A4                MUL     AB
0689 2400        R     ADD     A,#LOW packet_data+09AH
068B F582              MOV     DPL,A
068D E5F0              MOV     A,B
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 54  

068F 3400        R     ADDC    A,#HIGH packet_data+09AH
0691 F583              MOV     DPH,A
0693 EE                MOV     A,R6
0694 F0                MOVX    @DPTR,A
0695 A3                INC     DPTR
0696 EF                MOV     A,R7
0697 F0                MOVX    @DPTR,A
0698 0500        R     INC     i
069A 80B5              SJMP    ?C0063
069C         ?C0064:
                                           ; SOURCE LINE # 404
069C 850000      R     MOV     i,m_off_str_len
069F         ?C0066:
069F E500        R     MOV     A,i
06A1 6032              JZ      ?C0067
                                           ; SOURCE LINE # 405
06A3 FF                MOV     R7,A
06A4 C3                CLR     C
06A5 E500        R     MOV     A,m_off_str_len
06A7 9F                SUBB    A,R7
06A8 FF                MOV     R7,A
06A9 E4                CLR     A
06AA 9400              SUBB    A,#00H
06AC FE                MOV     R6,A
06AD 7400        R     MOV     A,#LOW m_off_str
06AF 2F                ADD     A,R7
06B0 F582              MOV     DPL,A
06B2 7400        R     MOV     A,#HIGH m_off_str
06B4 3E                ADDC    A,R6
06B5 F583              MOV     DPH,A
06B7 E0                MOVX    A,@DPTR
06B8 FF                MOV     R7,A
06B9 E500        R     MOV     A,i
06BB FD                MOV     R5,A
06BC E500        R     MOV     A,m_off_str_len
06BE C3                CLR     C
06BF 9D                SUBB    A,R5
06C0 FD                MOV     R5,A
06C1 E4                CLR     A
06C2 9400              SUBB    A,#00H
06C4 FC                MOV     R4,A
06C5 7400        R     MOV     A,#LOW packet_data+0A0H
06C7 2D                ADD     A,R5
06C8 F582              MOV     DPL,A
06CA 7400        R     MOV     A,#HIGH packet_data+0A0H
06CC 3C                ADDC    A,R4
06CD F583              MOV     DPH,A
06CF EF                MOV     A,R7
06D0 F0                MOVX    @DPTR,A
06D1 1500        R     DEC     i
06D3 80CA              SJMP    ?C0066
06D5         ?C0067:
                                           ; SOURCE LINE # 409
06D5 900000      R     MOV     DPTR,#packet_data+0CAH
06D8 7407              MOV     A,#07H
06DA F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 410
06DB A3                INC     DPTR
06DC 7403              MOV     A,#03H
06DE F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 411
06DF E4                CLR     A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 55  

06E0 F500        R     MOV     i,A
06E2         ?C0069:
06E2 E500        R     MOV     A,i
06E4 C3                CLR     C
06E5 9403              SUBB    A,#03H
06E7 5031              JNC     ?C0070
                                           ; SOURCE LINE # 412
06E9 E500        R     MOV     A,i
06EB 25E0              ADD     A,ACC
06ED 25E0              ADD     A,ACC
06EF 2400        E     ADD     A,#LOW c_mem+012H
06F1 F582              MOV     DPL,A
06F3 E4                CLR     A
06F4 3400        E     ADDC    A,#HIGH c_mem+012H
06F6 F583              MOV     DPH,A
06F8 E0                MOVX    A,@DPTR
06F9 FC                MOV     R4,A
06FA A3                INC     DPTR
06FB E0                MOVX    A,@DPTR
06FC FD                MOV     R5,A
06FD A3                INC     DPTR
06FE E0                MOVX    A,@DPTR
06FF FE                MOV     R6,A
0700 A3                INC     DPTR
0701 E0                MOVX    A,@DPTR
0702 FF                MOV     R7,A
0703 75F004            MOV     B,#04H
0706 E500        R     MOV     A,i
0708 A4                MUL     AB
0709 2400        R     ADD     A,#LOW packet_data+0CCH
070B F582              MOV     DPL,A
070D E5F0              MOV     A,B
070F 3400        R     ADDC    A,#HIGH packet_data+0CCH
0711 F583              MOV     DPH,A
0713 120000      E     LCALL   ?C?LSTXDATA
0716 0500        R     INC     i
0718 80C8              SJMP    ?C0069
071A         ?C0070:
                                           ; SOURCE LINE # 413
071A 850000      R     MOV     i,mult_str_len
071D         ?C0072:
071D E500        R     MOV     A,i
071F 6032              JZ      ?C0073
                                           ; SOURCE LINE # 414
0721 FF                MOV     R7,A
0722 C3                CLR     C
0723 E500        R     MOV     A,mult_str_len
0725 9F                SUBB    A,R7
0726 FF                MOV     R7,A
0727 E4                CLR     A
0728 9400              SUBB    A,#00H
072A FE                MOV     R6,A
072B 7400        R     MOV     A,#LOW mult_str
072D 2F                ADD     A,R7
072E F582              MOV     DPL,A
0730 7400        R     MOV     A,#HIGH mult_str
0732 3E                ADDC    A,R6
0733 F583              MOV     DPH,A
0735 E0                MOVX    A,@DPTR
0736 FF                MOV     R7,A
0737 E500        R     MOV     A,i
0739 FD                MOV     R5,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 56  

073A E500        R     MOV     A,mult_str_len
073C C3                CLR     C
073D 9D                SUBB    A,R5
073E FD                MOV     R5,A
073F E4                CLR     A
0740 9400              SUBB    A,#00H
0742 FC                MOV     R4,A
0743 7400        R     MOV     A,#LOW packet_data+0D8H
0745 2D                ADD     A,R5
0746 F582              MOV     DPL,A
0748 7400        R     MOV     A,#HIGH packet_data+0D8H
074A 3C                ADDC    A,R4
074B F583              MOV     DPH,A
074D EF                MOV     A,R7
074E F0                MOVX    @DPTR,A
074F 1500        R     DEC     i
0751 80CA              SJMP    ?C0072
0753         ?C0073:
                                           ; SOURCE LINE # 418
0753 E4                CLR     A
0754 900000      R     MOV     DPTR,#packet_data+0FCH
0757 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 419
0758 A3                INC     DPTR
0759 04                INC     A
075A F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 420
075B 900000      E     MOV     DPTR,#c_mem+01EH
075E E0                MOVX    A,@DPTR
075F 900000      R     MOV     DPTR,#packet_data+0FEH
0762 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 421
0763 900000      E     MOV     DPTR,#c_mem+01EH
0766 601C              JZ      ?C0075
                                           ; SOURCE LINE # 422
0768 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
076B 74FF              MOV     A,#0FFH
076D F0                MOVX    @DPTR,A
076E A3                INC     DPTR
076F 7400        R     MOV     A,#HIGH ?SC_91
0771 F0                MOVX    @DPTR,A
0772 A3                INC     DPTR
0773 7400        R     MOV     A,#LOW ?SC_91
0775 F0                MOVX    @DPTR,A
0776 7B01              MOV     R3,#01H
0778 7A00        R     MOV     R2,#HIGH pos_lim_flag_str
077A 7900        R     MOV     R1,#LOW pos_lim_flag_str
077C 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 423
077F 75001B      R     MOV     string_lenght,#01BH
                                           ; SOURCE LINE # 424
0782 801A              SJMP    ?C0076
0784         ?C0075:
                                           ; SOURCE LINE # 425
                                           ; SOURCE LINE # 426
0784 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0787 74FF              MOV     A,#0FFH
0789 F0                MOVX    @DPTR,A
078A A3                INC     DPTR
078B 7400        R     MOV     A,#HIGH ?SC_97
078D F0                MOVX    @DPTR,A
078E A3                INC     DPTR
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 57  

078F 7400        R     MOV     A,#LOW ?SC_97
0791 F0                MOVX    @DPTR,A
0792 7B01              MOV     R3,#01H
0794 7A00        R     MOV     R2,#HIGH pos_lim_flag_str
0796 7900        R     MOV     R1,#LOW pos_lim_flag_str
0798 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 427
079B 75001A      R     MOV     string_lenght,#01AH
                                           ; SOURCE LINE # 428
079E         ?C0076:
                                           ; SOURCE LINE # 429
079E 850000      R     MOV     i,string_lenght
07A1         ?C0077:
07A1 E500        R     MOV     A,i
07A3 6032              JZ      ?C0078
                                           ; SOURCE LINE # 430
07A5 FF                MOV     R7,A
07A6 C3                CLR     C
07A7 E500        R     MOV     A,string_lenght
07A9 9F                SUBB    A,R7
07AA FF                MOV     R7,A
07AB E4                CLR     A
07AC 9400              SUBB    A,#00H
07AE FE                MOV     R6,A
07AF 7400        R     MOV     A,#LOW pos_lim_flag_str
07B1 2F                ADD     A,R7
07B2 F582              MOV     DPL,A
07B4 7400        R     MOV     A,#HIGH pos_lim_flag_str
07B6 3E                ADDC    A,R6
07B7 F583              MOV     DPH,A
07B9 E0                MOVX    A,@DPTR
07BA FF                MOV     R7,A
07BB E500        R     MOV     A,i
07BD FD                MOV     R5,A
07BE E500        R     MOV     A,string_lenght
07C0 C3                CLR     C
07C1 9D                SUBB    A,R5
07C2 FD                MOV     R5,A
07C3 E4                CLR     A
07C4 9400              SUBB    A,#00H
07C6 FC                MOV     R4,A
07C7 7400        R     MOV     A,#LOW packet_data+0FFH
07C9 2D                ADD     A,R5
07CA F582              MOV     DPL,A
07CC 7400        R     MOV     A,#HIGH packet_data+0FFH
07CE 3C                ADDC    A,R4
07CF F583              MOV     DPH,A
07D1 EF                MOV     A,R7
07D2 F0                MOVX    @DPTR,A
07D3 1500        R     DEC     i
07D5 80CA              SJMP    ?C0077
07D7         ?C0078:
                                           ; SOURCE LINE # 432
07D7 7400        R     MOV     A,#LOW packet_data+0FFH
07D9 2500        R     ADD     A,string_lenght
07DB F582              MOV     DPL,A
07DD E4                CLR     A
07DE 3400        R     ADDC    A,#HIGH packet_data+0FFH
07E0 F583              MOV     DPH,A
07E2 7403              MOV     A,#03H
07E4 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 436
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 58  

07E5 900000      R     MOV     DPTR,#packet_data+012EH
07E8 7405              MOV     A,#05H
07EA F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 437
07EB A3                INC     DPTR
07EC 7402              MOV     A,#02H
07EE F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 438
07EF E4                CLR     A
07F0 F500        R     MOV     i,A
07F2         ?C0080:
07F2 E500        R     MOV     A,i
07F4 C3                CLR     C
07F5 9401              SUBB    A,#01H
07F7 4003              JC      $ + 5H
07F9 020000      R     LJMP    ?C0081
                                           ; SOURCE LINE # 439
07FC E500        R     MOV     A,i
07FE 25E0              ADD     A,ACC
0800 25E0              ADD     A,ACC
0802 2400        E     ADD     A,#LOW c_mem+01FH
0804 F582              MOV     DPL,A
0806 E4                CLR     A
0807 3400        E     ADDC    A,#HIGH c_mem+01FH
0809 F583              MOV     DPH,A
080B E0                MOVX    A,@DPTR
080C FC                MOV     R4,A
080D A3                INC     DPTR
080E E0                MOVX    A,@DPTR
080F FD                MOV     R5,A
0810 A3                INC     DPTR
0811 E0                MOVX    A,@DPTR
0812 FE                MOV     R6,A
0813 A3                INC     DPTR
0814 E0                MOVX    A,@DPTR
0815 FF                MOV     R7,A
0816 7400        E     MOV     A,#LOW c_mem+03H
0818 2500        R     ADD     A,i
081A F582              MOV     DPL,A
081C E4                CLR     A
081D 3400        E     ADDC    A,#HIGH c_mem+03H
081F F583              MOV     DPH,A
0821 E0                MOVX    A,@DPTR
0822 F9                MOV     R1,A
0823 F8                MOV     R0,A
0824 120000      E     LCALL   ?C?SLSHR
0827 75F008            MOV     B,#08H
082A E500        R     MOV     A,i
082C A4                MUL     AB
082D 2400        R     ADD     A,#LOW packet_data+0130H
082F F582              MOV     DPL,A
0831 E5F0              MOV     A,B
0833 3400        R     ADDC    A,#HIGH packet_data+0130H
0835 F583              MOV     DPH,A
0837 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 440
083A E500        R     MOV     A,i
083C 25E0              ADD     A,ACC
083E 25E0              ADD     A,ACC
0840 2400        E     ADD     A,#LOW c_mem+027H
0842 F582              MOV     DPL,A
0844 E4                CLR     A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 59  

0845 3400        E     ADDC    A,#HIGH c_mem+027H
0847 F583              MOV     DPH,A
0849 E0                MOVX    A,@DPTR
084A FC                MOV     R4,A
084B A3                INC     DPTR
084C E0                MOVX    A,@DPTR
084D FD                MOV     R5,A
084E A3                INC     DPTR
084F E0                MOVX    A,@DPTR
0850 FE                MOV     R6,A
0851 A3                INC     DPTR
0852 E0                MOVX    A,@DPTR
0853 FF                MOV     R7,A
0854 7400        E     MOV     A,#LOW c_mem+03H
0856 2500        R     ADD     A,i
0858 F582              MOV     DPL,A
085A E4                CLR     A
085B 3400        E     ADDC    A,#HIGH c_mem+03H
085D F583              MOV     DPH,A
085F E0                MOVX    A,@DPTR
0860 F9                MOV     R1,A
0861 F8                MOV     R0,A
0862 120000      E     LCALL   ?C?SLSHR
0865 75F008            MOV     B,#08H
0868 E500        R     MOV     A,i
086A A4                MUL     AB
086B 2400        R     ADD     A,#LOW packet_data+0134H
086D F582              MOV     DPL,A
086F E5F0              MOV     A,B
0871 3400        R     ADDC    A,#HIGH packet_data+0134H
0873 F583              MOV     DPH,A
0875 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 441
0878 0500        R     INC     i
087A 020000      R     LJMP    ?C0080
087D         ?C0081:
                                           ; SOURCE LINE # 442
087D 850000      R     MOV     i,pos_lim_str_len
0880         ?C0083:
0880 E500        R     MOV     A,i
0882 6032              JZ      ?C0084
                                           ; SOURCE LINE # 443
0884 FF                MOV     R7,A
0885 C3                CLR     C
0886 E500        R     MOV     A,pos_lim_str_len
0888 9F                SUBB    A,R7
0889 FF                MOV     R7,A
088A E4                CLR     A
088B 9400              SUBB    A,#00H
088D FE                MOV     R6,A
088E 7400        R     MOV     A,#LOW pos_lim_str
0890 2F                ADD     A,R7
0891 F582              MOV     DPL,A
0893 7400        R     MOV     A,#HIGH pos_lim_str
0895 3E                ADDC    A,R6
0896 F583              MOV     DPH,A
0898 E0                MOVX    A,@DPTR
0899 FF                MOV     R7,A
089A E500        R     MOV     A,i
089C FD                MOV     R5,A
089D E500        R     MOV     A,pos_lim_str_len
089F C3                CLR     C
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 60  

08A0 9D                SUBB    A,R5
08A1 FD                MOV     R5,A
08A2 E4                CLR     A
08A3 9400              SUBB    A,#00H
08A5 FC                MOV     R4,A
08A6 7400        R     MOV     A,#LOW packet_data+0138H
08A8 2D                ADD     A,R5
08A9 F582              MOV     DPL,A
08AB 7400        R     MOV     A,#HIGH packet_data+0138H
08AD 3C                ADDC    A,R4
08AE F583              MOV     DPH,A
08B0 EF                MOV     A,R7
08B1 F0                MOVX    @DPTR,A
08B2 1500        R     DEC     i
08B4 80CA              SJMP    ?C0083
08B6         ?C0084:
                                           ; SOURCE LINE # 447
08B6 900000      R     MOV     DPTR,#packet_data+0160H
08B9 7405              MOV     A,#05H
08BB F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 448
08BC A3                INC     DPTR
08BD 7402              MOV     A,#02H
08BF F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 449
08C0 900000      E     MOV     DPTR,#c_mem+033H
08C3 E0                MOVX    A,@DPTR
08C4 FC                MOV     R4,A
08C5 A3                INC     DPTR
08C6 E0                MOVX    A,@DPTR
08C7 FD                MOV     R5,A
08C8 A3                INC     DPTR
08C9 E0                MOVX    A,@DPTR
08CA FE                MOV     R6,A
08CB A3                INC     DPTR
08CC E0                MOVX    A,@DPTR
08CD FF                MOV     R7,A
08CE 900000      R     MOV     DPTR,#packet_data+0162H
08D1 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 450
08D4 900000      E     MOV     DPTR,#c_mem+02FH
08D7 E0                MOVX    A,@DPTR
08D8 FC                MOV     R4,A
08D9 A3                INC     DPTR
08DA E0                MOVX    A,@DPTR
08DB FD                MOV     R5,A
08DC A3                INC     DPTR
08DD E0                MOVX    A,@DPTR
08DE FE                MOV     R6,A
08DF A3                INC     DPTR
08E0 E0                MOVX    A,@DPTR
08E1 FF                MOV     R7,A
08E2 900000      R     MOV     DPTR,#packet_data+0166H
08E5 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 451
08E8 850000      R     MOV     i,max_step_str_len
08EB         ?C0086:
08EB E500        R     MOV     A,i
08ED 6032              JZ      ?C0087
                                           ; SOURCE LINE # 452
08EF FF                MOV     R7,A
08F0 C3                CLR     C
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 61  

08F1 E500        R     MOV     A,max_step_str_len
08F3 9F                SUBB    A,R7
08F4 FF                MOV     R7,A
08F5 E4                CLR     A
08F6 9400              SUBB    A,#00H
08F8 FE                MOV     R6,A
08F9 7400        R     MOV     A,#LOW max_step_str
08FB 2F                ADD     A,R7
08FC F582              MOV     DPL,A
08FE 7400        R     MOV     A,#HIGH max_step_str
0900 3E                ADDC    A,R6
0901 F583              MOV     DPH,A
0903 E0                MOVX    A,@DPTR
0904 FF                MOV     R7,A
0905 E500        R     MOV     A,i
0907 FD                MOV     R5,A
0908 E500        R     MOV     A,max_step_str_len
090A C3                CLR     C
090B 9D                SUBB    A,R5
090C FD                MOV     R5,A
090D E4                CLR     A
090E 9400              SUBB    A,#00H
0910 FC                MOV     R4,A
0911 7400        R     MOV     A,#LOW packet_data+016AH
0913 2D                ADD     A,R5
0914 F582              MOV     DPL,A
0916 7400        R     MOV     A,#HIGH packet_data+016AH
0918 3C                ADDC    A,R4
0919 F583              MOV     DPH,A
091B EF                MOV     A,R7
091C F0                MOVX    @DPTR,A
091D 1500        R     DEC     i
091F 80CA              SJMP    ?C0086
0921         ?C0087:
                                           ; SOURCE LINE # 456
0921 E4                CLR     A
0922 900000      R     MOV     DPTR,#packet_data+0192H
0925 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 457
0926 A3                INC     DPTR
0927 04                INC     A
0928 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 458
0929 900000      E     MOV     DPTR,#c_mem+03BH
092C E0                MOVX    A,@DPTR
092D 900000      R     MOV     DPTR,#packet_data+0194H
0930 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 459
0931 900000      E     MOV     DPTR,#c_mem+03BH
0934 601C              JZ      ?C0089
                                           ; SOURCE LINE # 460
0936 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0939 74FF              MOV     A,#0FFH
093B F0                MOVX    @DPTR,A
093C A3                INC     DPTR
093D 7400        R     MOV     A,#HIGH ?SC_91
093F F0                MOVX    @DPTR,A
0940 A3                INC     DPTR
0941 7400        R     MOV     A,#LOW ?SC_91
0943 F0                MOVX    @DPTR,A
0944 7B01              MOV     R3,#01H
0946 7A00        R     MOV     R2,#HIGH emg_flag_str
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 62  

0948 7900        R     MOV     R1,#LOW emg_flag_str
094A 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 461
094D 750024      R     MOV     string_lenght,#024H
                                           ; SOURCE LINE # 462
0950 801A              SJMP    ?C0090
0952         ?C0089:
                                           ; SOURCE LINE # 463
                                           ; SOURCE LINE # 464
0952 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0955 74FF              MOV     A,#0FFH
0957 F0                MOVX    @DPTR,A
0958 A3                INC     DPTR
0959 7400        R     MOV     A,#HIGH ?SC_97
095B F0                MOVX    @DPTR,A
095C A3                INC     DPTR
095D 7400        R     MOV     A,#LOW ?SC_97
095F F0                MOVX    @DPTR,A
0960 7B01              MOV     R3,#01H
0962 7A00        R     MOV     R2,#HIGH emg_flag_str
0964 7900        R     MOV     R1,#LOW emg_flag_str
0966 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 465
0969 750023      R     MOV     string_lenght,#023H
                                           ; SOURCE LINE # 466
096C         ?C0090:
                                           ; SOURCE LINE # 467
096C 850000      R     MOV     i,string_lenght
096F         ?C0091:
096F E500        R     MOV     A,i
0971 6032              JZ      ?C0092
                                           ; SOURCE LINE # 468
0973 FF                MOV     R7,A
0974 C3                CLR     C
0975 E500        R     MOV     A,string_lenght
0977 9F                SUBB    A,R7
0978 FF                MOV     R7,A
0979 E4                CLR     A
097A 9400              SUBB    A,#00H
097C FE                MOV     R6,A
097D 7400        R     MOV     A,#LOW emg_flag_str
097F 2F                ADD     A,R7
0980 F582              MOV     DPL,A
0982 7400        R     MOV     A,#HIGH emg_flag_str
0984 3E                ADDC    A,R6
0985 F583              MOV     DPH,A
0987 E0                MOVX    A,@DPTR
0988 FF                MOV     R7,A
0989 E500        R     MOV     A,i
098B FD                MOV     R5,A
098C E500        R     MOV     A,string_lenght
098E C3                CLR     C
098F 9D                SUBB    A,R5
0990 FD                MOV     R5,A
0991 E4                CLR     A
0992 9400              SUBB    A,#00H
0994 FC                MOV     R4,A
0995 7400        R     MOV     A,#LOW packet_data+0195H
0997 2D                ADD     A,R5
0998 F582              MOV     DPL,A
099A 7400        R     MOV     A,#HIGH packet_data+0195H
099C 3C                ADDC    A,R4
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 63  

099D F583              MOV     DPH,A
099F EF                MOV     A,R7
09A0 F0                MOVX    @DPTR,A
09A1 1500        R     DEC     i
09A3 80CA              SJMP    ?C0091
09A5         ?C0092:
                                           ; SOURCE LINE # 470
09A5 7400        R     MOV     A,#LOW packet_data+0195H
09A7 2500        R     ADD     A,string_lenght
09A9 F582              MOV     DPL,A
09AB E4                CLR     A
09AC 3400        R     ADDC    A,#HIGH packet_data+0195H
09AE F583              MOV     DPH,A
09B0 7403              MOV     A,#03H
09B2 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 474
09B3 900000      R     MOV     DPTR,#packet_data+01C4H
09B6 04                INC     A
09B7 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 475
09B8 A3                INC     DPTR
09B9 7402              MOV     A,#02H
09BB F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 476
09BC 900000      E     MOV     DPTR,#c_mem+037H
09BF E0                MOVX    A,@DPTR
09C0 FF                MOV     R7,A
09C1 A3                INC     DPTR
09C2 E0                MOVX    A,@DPTR
09C3 900000      R     MOV     DPTR,#packet_data+01C6H
09C6 CF                XCH     A,R7
09C7 F0                MOVX    @DPTR,A
09C8 A3                INC     DPTR
09C9 EF                MOV     A,R7
09CA F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 477
09CB 900000      E     MOV     DPTR,#c_mem+039H
09CE E0                MOVX    A,@DPTR
09CF FF                MOV     R7,A
09D0 A3                INC     DPTR
09D1 E0                MOVX    A,@DPTR
09D2 900000      R     MOV     DPTR,#packet_data+01C8H
09D5 CF                XCH     A,R7
09D6 F0                MOVX    @DPTR,A
09D7 A3                INC     DPTR
09D8 EF                MOV     A,R7
09D9 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 478
09DA 850000      R     MOV     i,emg_thr_str_len
09DD         ?C0094:
09DD E500        R     MOV     A,i
09DF 6032              JZ      ?C0095
                                           ; SOURCE LINE # 479
09E1 FF                MOV     R7,A
09E2 C3                CLR     C
09E3 E500        R     MOV     A,emg_thr_str_len
09E5 9F                SUBB    A,R7
09E6 FF                MOV     R7,A
09E7 E4                CLR     A
09E8 9400              SUBB    A,#00H
09EA FE                MOV     R6,A
09EB 7400        R     MOV     A,#LOW emg_thr_str
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 64  

09ED 2F                ADD     A,R7
09EE F582              MOV     DPL,A
09F0 7400        R     MOV     A,#HIGH emg_thr_str
09F2 3E                ADDC    A,R6
09F3 F583              MOV     DPH,A
09F5 E0                MOVX    A,@DPTR
09F6 FF                MOV     R7,A
09F7 E500        R     MOV     A,i
09F9 FD                MOV     R5,A
09FA E500        R     MOV     A,emg_thr_str_len
09FC C3                CLR     C
09FD 9D                SUBB    A,R5
09FE FD                MOV     R5,A
09FF E4                CLR     A
0A00 9400              SUBB    A,#00H
0A02 FC                MOV     R4,A
0A03 7400        R     MOV     A,#LOW packet_data+01CAH
0A05 2D                ADD     A,R5
0A06 F582              MOV     DPL,A
0A08 7400        R     MOV     A,#HIGH packet_data+01CAH
0A0A 3C                ADDC    A,R4
0A0B F583              MOV     DPH,A
0A0D EF                MOV     A,R7
0A0E F0                MOVX    @DPTR,A
0A0F 1500        R     DEC     i
0A11 80CA              SJMP    ?C0094
0A13         ?C0095:
                                           ; SOURCE LINE # 483
0A13 900000      R     MOV     DPTR,#packet_data+01F6H
0A16 7406              MOV     A,#06H
0A18 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 484
0A19 A3                INC     DPTR
0A1A 7402              MOV     A,#02H
0A1C F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 485
0A1D 900000      E     MOV     DPTR,#c_mem+03CH
0A20 E0                MOVX    A,@DPTR
0A21 FC                MOV     R4,A
0A22 A3                INC     DPTR
0A23 E0                MOVX    A,@DPTR
0A24 FD                MOV     R5,A
0A25 A3                INC     DPTR
0A26 E0                MOVX    A,@DPTR
0A27 FE                MOV     R6,A
0A28 A3                INC     DPTR
0A29 E0                MOVX    A,@DPTR
0A2A FF                MOV     R7,A
0A2B 900000      R     MOV     DPTR,#packet_data+01F8H
0A2E 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 486
0A31 900000      E     MOV     DPTR,#c_mem+040H
0A34 E0                MOVX    A,@DPTR
0A35 FC                MOV     R4,A
0A36 A3                INC     DPTR
0A37 E0                MOVX    A,@DPTR
0A38 FD                MOV     R5,A
0A39 A3                INC     DPTR
0A3A E0                MOVX    A,@DPTR
0A3B FE                MOV     R6,A
0A3C A3                INC     DPTR
0A3D E0                MOVX    A,@DPTR
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 65  

0A3E FF                MOV     R7,A
0A3F 900000      R     MOV     DPTR,#packet_data+01FCH
0A42 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 487
0A45 850000      R     MOV     i,emg_max_val_str_len
0A48         ?C0097:
0A48 E500        R     MOV     A,i
0A4A 6032              JZ      ?C0098
                                           ; SOURCE LINE # 488
0A4C FF                MOV     R7,A
0A4D C3                CLR     C
0A4E E500        R     MOV     A,emg_max_val_str_len
0A50 9F                SUBB    A,R7
0A51 FF                MOV     R7,A
0A52 E4                CLR     A
0A53 9400              SUBB    A,#00H
0A55 FE                MOV     R6,A
0A56 7400        R     MOV     A,#LOW emg_max_val_str
0A58 2F                ADD     A,R7
0A59 F582              MOV     DPL,A
0A5B 7400        R     MOV     A,#HIGH emg_max_val_str
0A5D 3E                ADDC    A,R6
0A5E F583              MOV     DPH,A
0A60 E0                MOVX    A,@DPTR
0A61 FF                MOV     R7,A
0A62 E500        R     MOV     A,i
0A64 FD                MOV     R5,A
0A65 E500        R     MOV     A,emg_max_val_str_len
0A67 C3                CLR     C
0A68 9D                SUBB    A,R5
0A69 FD                MOV     R5,A
0A6A E4                CLR     A
0A6B 9400              SUBB    A,#00H
0A6D FC                MOV     R4,A
0A6E 7400        R     MOV     A,#LOW packet_data+0200H
0A70 2D                ADD     A,R5
0A71 F582              MOV     DPL,A
0A73 7400        R     MOV     A,#HIGH packet_data+0200H
0A75 3C                ADDC    A,R4
0A76 F583              MOV     DPH,A
0A78 EF                MOV     A,R7
0A79 F0                MOVX    @DPTR,A
0A7A 1500        R     DEC     i
0A7C 80CA              SJMP    ?C0097
0A7E         ?C0098:
                                           ; SOURCE LINE # 492
0A7E 900000      R     MOV     DPTR,#packet_data+0228H
0A81 7402              MOV     A,#02H
0A83 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 493
0A84 A3                INC     DPTR
0A85 14                DEC     A
0A86 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 494
0A87 900000      E     MOV     DPTR,#c_mem+044H
0A8A E0                MOVX    A,@DPTR
0A8B 900000      R     MOV     DPTR,#packet_data+022AH
0A8E F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 495
0A8F 850000      R     MOV     i,emg_max_speed_str_len
0A92         ?C0100:
0A92 E500        R     MOV     A,i
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 66  

0A94 6032              JZ      ?C0101
                                           ; SOURCE LINE # 496
0A96 FF                MOV     R7,A
0A97 C3                CLR     C
0A98 E500        R     MOV     A,emg_max_speed_str_len
0A9A 9F                SUBB    A,R7
0A9B FF                MOV     R7,A
0A9C E4                CLR     A
0A9D 9400              SUBB    A,#00H
0A9F FE                MOV     R6,A
0AA0 7400        R     MOV     A,#LOW emg_max_speed_str
0AA2 2F                ADD     A,R7
0AA3 F582              MOV     DPL,A
0AA5 7400        R     MOV     A,#HIGH emg_max_speed_str
0AA7 3E                ADDC    A,R6
0AA8 F583              MOV     DPH,A
0AAA E0                MOVX    A,@DPTR
0AAB FF                MOV     R7,A
0AAC E500        R     MOV     A,i
0AAE FD                MOV     R5,A
0AAF E500        R     MOV     A,emg_max_speed_str_len
0AB1 C3                CLR     C
0AB2 9D                SUBB    A,R5
0AB3 FD                MOV     R5,A
0AB4 E4                CLR     A
0AB5 9400              SUBB    A,#00H
0AB7 FC                MOV     R4,A
0AB8 7400        R     MOV     A,#LOW packet_data+022BH
0ABA 2D                ADD     A,R5
0ABB F582              MOV     DPL,A
0ABD 7400        R     MOV     A,#HIGH packet_data+022BH
0ABF 3C                ADDC    A,R4
0AC0 F583              MOV     DPH,A
0AC2 EF                MOV     A,R7
0AC3 F0                MOVX    @DPTR,A
0AC4 1500        R     DEC     i
0AC6 80CA              SJMP    ?C0100
0AC8         ?C0101:
                                           ; SOURCE LINE # 500
0AC8 900000      R     MOV     DPTR,#packet_data+025AH
0ACB 7401              MOV     A,#01H
0ACD F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 501
0ACE A3                INC     DPTR
0ACF F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 502
0AD0 900000      E     MOV     DPTR,#c_mem+045H
0AD3 E0                MOVX    A,@DPTR
0AD4 900000      R     MOV     DPTR,#packet_data+025CH
0AD7 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 503
0AD8 850000      R     MOV     i,handle_ratio_str_len
0ADB         ?C0103:
0ADB E500        R     MOV     A,i
0ADD 6032              JZ      ?C0104
                                           ; SOURCE LINE # 504
0ADF FF                MOV     R7,A
0AE0 C3                CLR     C
0AE1 E500        R     MOV     A,handle_ratio_str_len
0AE3 9F                SUBB    A,R7
0AE4 FF                MOV     R7,A
0AE5 E4                CLR     A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 67  

0AE6 9400              SUBB    A,#00H
0AE8 FE                MOV     R6,A
0AE9 7400        R     MOV     A,#LOW handle_ratio_str
0AEB 2F                ADD     A,R7
0AEC F582              MOV     DPL,A
0AEE 7400        R     MOV     A,#HIGH handle_ratio_str
0AF0 3E                ADDC    A,R6
0AF1 F583              MOV     DPH,A
0AF3 E0                MOVX    A,@DPTR
0AF4 FF                MOV     R7,A
0AF5 E500        R     MOV     A,i
0AF7 FD                MOV     R5,A
0AF8 E500        R     MOV     A,handle_ratio_str_len
0AFA C3                CLR     C
0AFB 9D                SUBB    A,R5
0AFC FD                MOV     R5,A
0AFD E4                CLR     A
0AFE 9400              SUBB    A,#00H
0B00 FC                MOV     R4,A
0B01 7400        R     MOV     A,#LOW packet_data+025DH
0B03 2D                ADD     A,R5
0B04 F582              MOV     DPL,A
0B06 7400        R     MOV     A,#HIGH packet_data+025DH
0B08 3C                ADDC    A,R4
0B09 F583              MOV     DPH,A
0B0B EF                MOV     A,R7
0B0C F0                MOVX    @DPTR,A
0B0D 1500        R     DEC     i
0B0F 80CA              SJMP    ?C0103
0B11         ?C0104:
                                           ; SOURCE LINE # 508
0B11 900000      R     MOV     DPTR,#packet_data+028CH
0B14 7404              MOV     A,#04H
0B16 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 509
0B17 A3                INC     DPTR
0B18 7401              MOV     A,#01H
0B1A F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 510
0B1B 900000      E     MOV     DPTR,#c_mem+06BH
0B1E E0                MOVX    A,@DPTR
0B1F FF                MOV     R7,A
0B20 A3                INC     DPTR
0B21 E0                MOVX    A,@DPTR
0B22 900000      R     MOV     DPTR,#packet_data+028EH
0B25 CF                XCH     A,R7
0B26 F0                MOVX    @DPTR,A
0B27 A3                INC     DPTR
0B28 EF                MOV     A,R7
0B29 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 511
0B2A 850000      R     MOV     i,joystick_closure_speed_str_len
0B2D         ?C0106:
0B2D E500        R     MOV     A,i
0B2F 6032              JZ      ?C0107
                                           ; SOURCE LINE # 512
0B31 FF                MOV     R7,A
0B32 C3                CLR     C
0B33 E500        R     MOV     A,joystick_closure_speed_str_len
0B35 9F                SUBB    A,R7
0B36 FF                MOV     R7,A
0B37 E4                CLR     A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 68  

0B38 9400              SUBB    A,#00H
0B3A FE                MOV     R6,A
0B3B 7400        R     MOV     A,#LOW joystick_closure_speed_str
0B3D 2F                ADD     A,R7
0B3E F582              MOV     DPL,A
0B40 7400        R     MOV     A,#HIGH joystick_closure_speed_str
0B42 3E                ADDC    A,R6
0B43 F583              MOV     DPH,A
0B45 E0                MOVX    A,@DPTR
0B46 FF                MOV     R7,A
0B47 E500        R     MOV     A,i
0B49 FD                MOV     R5,A
0B4A E500        R     MOV     A,joystick_closure_speed_str_len
0B4C C3                CLR     C
0B4D 9D                SUBB    A,R5
0B4E FD                MOV     R5,A
0B4F E4                CLR     A
0B50 9400              SUBB    A,#00H
0B52 FC                MOV     R4,A
0B53 7400        R     MOV     A,#LOW packet_data+0290H
0B55 2D                ADD     A,R5
0B56 F582              MOV     DPL,A
0B58 7400        R     MOV     A,#HIGH packet_data+0290H
0B5A 3C                ADDC    A,R4
0B5B F583              MOV     DPH,A
0B5D EF                MOV     A,R7
0B5E F0                MOVX    @DPTR,A
0B5F 1500        R     DEC     i
0B61 80CA              SJMP    ?C0106
0B63         ?C0107:
                                           ; SOURCE LINE # 516
0B63 900000      R     MOV     DPTR,#packet_data+02BEH
0B66 7404              MOV     A,#04H
0B68 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 517
0B69 A3                INC     DPTR
0B6A 7401              MOV     A,#01H
0B6C F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 518
0B6D 900000      E     MOV     DPTR,#c_mem+06DH
0B70 E0                MOVX    A,@DPTR
0B71 FF                MOV     R7,A
0B72 A3                INC     DPTR
0B73 E0                MOVX    A,@DPTR
0B74 900000      R     MOV     DPTR,#packet_data+02C0H
0B77 CF                XCH     A,R7
0B78 F0                MOVX    @DPTR,A
0B79 A3                INC     DPTR
0B7A EF                MOV     A,R7
0B7B F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 519
0B7C 850000      R     MOV     i,joystick_gains_str_len
0B7F         ?C0109:
0B7F E500        R     MOV     A,i
0B81 6032              JZ      ?C0110
                                           ; SOURCE LINE # 520
0B83 FF                MOV     R7,A
0B84 C3                CLR     C
0B85 E500        R     MOV     A,joystick_gains_str_len
0B87 9F                SUBB    A,R7
0B88 FF                MOV     R7,A
0B89 E4                CLR     A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 69  

0B8A 9400              SUBB    A,#00H
0B8C FE                MOV     R6,A
0B8D 7400        R     MOV     A,#LOW joystick_gains_str
0B8F 2F                ADD     A,R7
0B90 F582              MOV     DPL,A
0B92 7400        R     MOV     A,#HIGH joystick_gains_str
0B94 3E                ADDC    A,R6
0B95 F583              MOV     DPH,A
0B97 E0                MOVX    A,@DPTR
0B98 FF                MOV     R7,A
0B99 E500        R     MOV     A,i
0B9B FD                MOV     R5,A
0B9C E500        R     MOV     A,joystick_gains_str_len
0B9E C3                CLR     C
0B9F 9D                SUBB    A,R5
0BA0 FD                MOV     R5,A
0BA1 E4                CLR     A
0BA2 9400              SUBB    A,#00H
0BA4 FC                MOV     R4,A
0BA5 7400        R     MOV     A,#LOW packet_data+02C2H
0BA7 2D                ADD     A,R5
0BA8 F582              MOV     DPL,A
0BAA 7400        R     MOV     A,#HIGH packet_data+02C2H
0BAC 3C                ADDC    A,R4
0BAD F583              MOV     DPH,A
0BAF EF                MOV     A,R7
0BB0 F0                MOVX    @DPTR,A
0BB1 1500        R     DEC     i
0BB3 80CA              SJMP    ?C0109
0BB5         ?C0110:
                                           ; SOURCE LINE # 524
0BB5 E4                CLR     A
0BB6 900000      R     MOV     DPTR,#packet_data+02F0H
0BB9 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 525
0BBA A3                INC     DPTR
0BBB 04                INC     A
0BBC F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 526
0BBD 900000      E     MOV     DPTR,#c_mem+056H
0BC0 E0                MOVX    A,@DPTR
0BC1 900000      R     MOV     DPTR,#packet_data+02F2H
0BC4 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 527
0BC5 900000      E     MOV     DPTR,#c_mem+056H
0BC8 601C              JZ      ?C0112
                                           ; SOURCE LINE # 528
0BCA 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0BCD 74FF              MOV     A,#0FFH
0BCF F0                MOVX    @DPTR,A
0BD0 A3                INC     DPTR
0BD1 7400        R     MOV     A,#HIGH ?SC_91
0BD3 F0                MOVX    @DPTR,A
0BD4 A3                INC     DPTR
0BD5 7400        R     MOV     A,#LOW ?SC_91
0BD7 F0                MOVX    @DPTR,A
0BD8 7B01              MOV     R3,#01H
0BDA 7A00        R     MOV     R2,#HIGH myo2_master_str
0BDC 7900        R     MOV     R1,#LOW myo2_master_str
0BDE 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 529
0BE1 750024      R     MOV     string_lenght,#024H
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 70  

                                           ; SOURCE LINE # 530
0BE4 801A              SJMP    ?C0113
0BE6         ?C0112:
                                           ; SOURCE LINE # 531
                                           ; SOURCE LINE # 532
0BE6 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0BE9 74FF              MOV     A,#0FFH
0BEB F0                MOVX    @DPTR,A
0BEC A3                INC     DPTR
0BED 7400        R     MOV     A,#HIGH ?SC_97
0BEF F0                MOVX    @DPTR,A
0BF0 A3                INC     DPTR
0BF1 7400        R     MOV     A,#LOW ?SC_97
0BF3 F0                MOVX    @DPTR,A
0BF4 7B01              MOV     R3,#01H
0BF6 7A00        R     MOV     R2,#HIGH myo2_master_str
0BF8 7900        R     MOV     R1,#LOW myo2_master_str
0BFA 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 533
0BFD 750023      R     MOV     string_lenght,#023H
                                           ; SOURCE LINE # 534
0C00         ?C0113:
                                           ; SOURCE LINE # 535
0C00 850000      R     MOV     i,string_lenght
0C03         ?C0114:
0C03 E500        R     MOV     A,i
0C05 6032              JZ      ?C0115
                                           ; SOURCE LINE # 536
0C07 FF                MOV     R7,A
0C08 C3                CLR     C
0C09 E500        R     MOV     A,string_lenght
0C0B 9F                SUBB    A,R7
0C0C FF                MOV     R7,A
0C0D E4                CLR     A
0C0E 9400              SUBB    A,#00H
0C10 FE                MOV     R6,A
0C11 7400        R     MOV     A,#LOW myo2_master_str
0C13 2F                ADD     A,R7
0C14 F582              MOV     DPL,A
0C16 7400        R     MOV     A,#HIGH myo2_master_str
0C18 3E                ADDC    A,R6
0C19 F583              MOV     DPH,A
0C1B E0                MOVX    A,@DPTR
0C1C FF                MOV     R7,A
0C1D E500        R     MOV     A,i
0C1F FD                MOV     R5,A
0C20 E500        R     MOV     A,string_lenght
0C22 C3                CLR     C
0C23 9D                SUBB    A,R5
0C24 FD                MOV     R5,A
0C25 E4                CLR     A
0C26 9400              SUBB    A,#00H
0C28 FC                MOV     R4,A
0C29 7400        R     MOV     A,#LOW packet_data+02F3H
0C2B 2D                ADD     A,R5
0C2C F582              MOV     DPL,A
0C2E 7400        R     MOV     A,#HIGH packet_data+02F3H
0C30 3C                ADDC    A,R4
0C31 F583              MOV     DPH,A
0C33 EF                MOV     A,R7
0C34 F0                MOVX    @DPTR,A
0C35 1500        R     DEC     i
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 71  

0C37 80CA              SJMP    ?C0114
0C39         ?C0115:
                                           ; SOURCE LINE # 538
0C39 7400        R     MOV     A,#LOW packet_data+02F3H
0C3B 2500        R     ADD     A,string_lenght
0C3D F582              MOV     DPL,A
0C3F E4                CLR     A
0C40 3400        R     ADDC    A,#HIGH packet_data+02F3H
0C42 F583              MOV     DPH,A
0C44 7403              MOV     A,#03H
0C46 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 542
0C47 E4                CLR     A
0C48 900000      R     MOV     DPTR,#packet_data+0322H
0C4B F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 543
0C4C A3                INC     DPTR
0C4D 04                INC     A
0C4E F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 544
0C4F 900000      E     MOV     DPTR,#c_mem+047H
0C52 E0                MOVX    A,@DPTR
0C53 900000      R     MOV     DPTR,#packet_data+0324H
0C56 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 545
0C57 900000      E     MOV     DPTR,#c_mem+047H
0C5A 601C              JZ      ?C0117
                                           ; SOURCE LINE # 546
0C5C 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0C5F 74FF              MOV     A,#0FFH
0C61 F0                MOVX    @DPTR,A
0C62 A3                INC     DPTR
0C63 7400        R     MOV     A,#HIGH ?SC_91
0C65 F0                MOVX    @DPTR,A
0C66 A3                INC     DPTR
0C67 7400        R     MOV     A,#LOW ?SC_91
0C69 F0                MOVX    @DPTR,A
0C6A 7B01              MOV     R3,#01H
0C6C 7A00        R     MOV     R2,#HIGH rest_pos_flag_str
0C6E 7900        R     MOV     R1,#LOW rest_pos_flag_str
0C70 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 547
0C73 75001D      R     MOV     string_lenght,#01DH
                                           ; SOURCE LINE # 548
0C76 801A              SJMP    ?C0118
0C78         ?C0117:
                                           ; SOURCE LINE # 549
                                           ; SOURCE LINE # 550
0C78 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0C7B 74FF              MOV     A,#0FFH
0C7D F0                MOVX    @DPTR,A
0C7E A3                INC     DPTR
0C7F 7400        R     MOV     A,#HIGH ?SC_97
0C81 F0                MOVX    @DPTR,A
0C82 A3                INC     DPTR
0C83 7400        R     MOV     A,#LOW ?SC_97
0C85 F0                MOVX    @DPTR,A
0C86 7B01              MOV     R3,#01H
0C88 7A00        R     MOV     R2,#HIGH rest_pos_flag_str
0C8A 7900        R     MOV     R1,#LOW rest_pos_flag_str
0C8C 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 551
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 72  

0C8F 75001C      R     MOV     string_lenght,#01CH
                                           ; SOURCE LINE # 552
0C92         ?C0118:
                                           ; SOURCE LINE # 553
0C92 850000      R     MOV     i,string_lenght
0C95         ?C0119:
0C95 E500        R     MOV     A,i
0C97 6032              JZ      ?C0120
                                           ; SOURCE LINE # 554
0C99 FF                MOV     R7,A
0C9A C3                CLR     C
0C9B E500        R     MOV     A,string_lenght
0C9D 9F                SUBB    A,R7
0C9E FF                MOV     R7,A
0C9F E4                CLR     A
0CA0 9400              SUBB    A,#00H
0CA2 FE                MOV     R6,A
0CA3 7400        R     MOV     A,#LOW rest_pos_flag_str
0CA5 2F                ADD     A,R7
0CA6 F582              MOV     DPL,A
0CA8 7400        R     MOV     A,#HIGH rest_pos_flag_str
0CAA 3E                ADDC    A,R6
0CAB F583              MOV     DPH,A
0CAD E0                MOVX    A,@DPTR
0CAE FF                MOV     R7,A
0CAF E500        R     MOV     A,i
0CB1 FD                MOV     R5,A
0CB2 E500        R     MOV     A,string_lenght
0CB4 C3                CLR     C
0CB5 9D                SUBB    A,R5
0CB6 FD                MOV     R5,A
0CB7 E4                CLR     A
0CB8 9400              SUBB    A,#00H
0CBA FC                MOV     R4,A
0CBB 7400        R     MOV     A,#LOW packet_data+0325H
0CBD 2D                ADD     A,R5
0CBE F582              MOV     DPL,A
0CC0 7400        R     MOV     A,#HIGH packet_data+0325H
0CC2 3C                ADDC    A,R4
0CC3 F583              MOV     DPH,A
0CC5 EF                MOV     A,R7
0CC6 F0                MOVX    @DPTR,A
0CC7 1500        R     DEC     i
0CC9 80CA              SJMP    ?C0119
0CCB         ?C0120:
                                           ; SOURCE LINE # 556
0CCB 7400        R     MOV     A,#LOW packet_data+0325H
0CCD 2500        R     ADD     A,string_lenght
0CCF F582              MOV     DPL,A
0CD1 E4                CLR     A
0CD2 3400        R     ADDC    A,#HIGH packet_data+0325H
0CD4 F583              MOV     DPH,A
0CD6 7403              MOV     A,#03H
0CD8 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 560
0CD9 900000      R     MOV     DPTR,#packet_data+0354H
0CDC 7405              MOV     A,#05H
0CDE F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 561
0CDF A3                INC     DPTR
0CE0 7401              MOV     A,#01H
0CE2 F0                MOVX    @DPTR,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 73  

                                           ; SOURCE LINE # 562
0CE3 900000      E     MOV     DPTR,#c_mem+048H
0CE6 E0                MOVX    A,@DPTR
0CE7 FC                MOV     R4,A
0CE8 A3                INC     DPTR
0CE9 E0                MOVX    A,@DPTR
0CEA FD                MOV     R5,A
0CEB A3                INC     DPTR
0CEC E0                MOVX    A,@DPTR
0CED FE                MOV     R6,A
0CEE A3                INC     DPTR
0CEF E0                MOVX    A,@DPTR
0CF0 FF                MOV     R7,A
0CF1 900000      E     MOV     DPTR,#c_mem+03H
0CF4 E0                MOVX    A,@DPTR
0CF5 F9                MOV     R1,A
0CF6 F8                MOV     R0,A
0CF7 120000      E     LCALL   ?C?SLSHR
0CFA 900000      R     MOV     DPTR,#packet_data+0356H
0CFD 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 563
0D00 850000      R     MOV     i,rest_pos_str_len
0D03         ?C0122:
0D03 E500        R     MOV     A,i
0D05 6032              JZ      ?C0123
                                           ; SOURCE LINE # 564
0D07 FF                MOV     R7,A
0D08 C3                CLR     C
0D09 E500        R     MOV     A,rest_pos_str_len
0D0B 9F                SUBB    A,R7
0D0C FF                MOV     R7,A
0D0D E4                CLR     A
0D0E 9400              SUBB    A,#00H
0D10 FE                MOV     R6,A
0D11 7400        R     MOV     A,#LOW rest_pos_str
0D13 2F                ADD     A,R7
0D14 F582              MOV     DPL,A
0D16 7400        R     MOV     A,#HIGH rest_pos_str
0D18 3E                ADDC    A,R6
0D19 F583              MOV     DPH,A
0D1B E0                MOVX    A,@DPTR
0D1C FF                MOV     R7,A
0D1D E500        R     MOV     A,i
0D1F FD                MOV     R5,A
0D20 E500        R     MOV     A,rest_pos_str_len
0D22 C3                CLR     C
0D23 9D                SUBB    A,R5
0D24 FD                MOV     R5,A
0D25 E4                CLR     A
0D26 9400              SUBB    A,#00H
0D28 FC                MOV     R4,A
0D29 7400        R     MOV     A,#LOW packet_data+035AH
0D2B 2D                ADD     A,R5
0D2C F582              MOV     DPL,A
0D2E 7400        R     MOV     A,#HIGH packet_data+035AH
0D30 3C                ADDC    A,R4
0D31 F583              MOV     DPH,A
0D33 EF                MOV     A,R7
0D34 F0                MOVX    @DPTR,A
0D35 1500        R     DEC     i
0D37 80CA              SJMP    ?C0122
0D39         ?C0123:
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 74  

                                           ; SOURCE LINE # 568
0D39 900000      R     MOV     DPTR,#packet_data+0386H
0D3C 7405              MOV     A,#05H
0D3E F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 569
0D3F A3                INC     DPTR
0D40 7401              MOV     A,#01H
0D42 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 570
0D43 900000      E     MOV     DPTR,#c_mem+04CH
0D46 E0                MOVX    A,@DPTR
0D47 FC                MOV     R4,A
0D48 A3                INC     DPTR
0D49 E0                MOVX    A,@DPTR
0D4A FD                MOV     R5,A
0D4B A3                INC     DPTR
0D4C E0                MOVX    A,@DPTR
0D4D FE                MOV     R6,A
0D4E A3                INC     DPTR
0D4F E0                MOVX    A,@DPTR
0D50 FF                MOV     R7,A
0D51 900000      R     MOV     DPTR,#packet_data+0388H
0D54 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 571
0D57 850000      R     MOV     i,rest_pos_delay_str_len
0D5A         ?C0125:
0D5A E500        R     MOV     A,i
0D5C 6032              JZ      ?C0126
                                           ; SOURCE LINE # 572
0D5E FF                MOV     R7,A
0D5F C3                CLR     C
0D60 E500        R     MOV     A,rest_pos_delay_str_len
0D62 9F                SUBB    A,R7
0D63 FF                MOV     R7,A
0D64 E4                CLR     A
0D65 9400              SUBB    A,#00H
0D67 FE                MOV     R6,A
0D68 7400        R     MOV     A,#LOW rest_pos_delay_str
0D6A 2F                ADD     A,R7
0D6B F582              MOV     DPL,A
0D6D 7400        R     MOV     A,#HIGH rest_pos_delay_str
0D6F 3E                ADDC    A,R6
0D70 F583              MOV     DPH,A
0D72 E0                MOVX    A,@DPTR
0D73 FF                MOV     R7,A
0D74 E500        R     MOV     A,i
0D76 FD                MOV     R5,A
0D77 E500        R     MOV     A,rest_pos_delay_str_len
0D79 C3                CLR     C
0D7A 9D                SUBB    A,R5
0D7B FD                MOV     R5,A
0D7C E4                CLR     A
0D7D 9400              SUBB    A,#00H
0D7F FC                MOV     R4,A
0D80 7400        R     MOV     A,#LOW packet_data+038CH
0D82 2D                ADD     A,R5
0D83 F582              MOV     DPL,A
0D85 7400        R     MOV     A,#HIGH packet_data+038CH
0D87 3C                ADDC    A,R4
0D88 F583              MOV     DPH,A
0D8A EF                MOV     A,R7
0D8B F0                MOVX    @DPTR,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 75  

0D8C 1500        R     DEC     i
0D8E 80CA              SJMP    ?C0125
0D90         ?C0126:
                                           ; SOURCE LINE # 576
0D90 900000      R     MOV     DPTR,#packet_data+03B8H
0D93 7405              MOV     A,#05H
0D95 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 577
0D96 A3                INC     DPTR
0D97 7401              MOV     A,#01H
0D99 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 578
0D9A 900000      E     MOV     DPTR,#c_mem+050H
0D9D E0                MOVX    A,@DPTR
0D9E FC                MOV     R4,A
0D9F A3                INC     DPTR
0DA0 E0                MOVX    A,@DPTR
0DA1 FD                MOV     R5,A
0DA2 A3                INC     DPTR
0DA3 E0                MOVX    A,@DPTR
0DA4 FE                MOV     R6,A
0DA5 A3                INC     DPTR
0DA6 E0                MOVX    A,@DPTR
0DA7 FF                MOV     R7,A
0DA8 900000      R     MOV     DPTR,#packet_data+03BAH
0DAB 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 579
0DAE 850000      R     MOV     i,rest_vel_str_len
0DB1         ?C0128:
0DB1 E500        R     MOV     A,i
0DB3 6032              JZ      ?C0129
                                           ; SOURCE LINE # 580
0DB5 FF                MOV     R7,A
0DB6 C3                CLR     C
0DB7 E500        R     MOV     A,rest_vel_str_len
0DB9 9F                SUBB    A,R7
0DBA FF                MOV     R7,A
0DBB E4                CLR     A
0DBC 9400              SUBB    A,#00H
0DBE FE                MOV     R6,A
0DBF 7400        R     MOV     A,#LOW rest_vel_str
0DC1 2F                ADD     A,R7
0DC2 F582              MOV     DPL,A
0DC4 7400        R     MOV     A,#HIGH rest_vel_str
0DC6 3E                ADDC    A,R6
0DC7 F583              MOV     DPH,A
0DC9 E0                MOVX    A,@DPTR
0DCA FF                MOV     R7,A
0DCB E500        R     MOV     A,i
0DCD FD                MOV     R5,A
0DCE E500        R     MOV     A,rest_vel_str_len
0DD0 C3                CLR     C
0DD1 9D                SUBB    A,R5
0DD2 FD                MOV     R5,A
0DD3 E4                CLR     A
0DD4 9400              SUBB    A,#00H
0DD6 FC                MOV     R4,A
0DD7 7400        R     MOV     A,#LOW packet_data+03BEH
0DD9 2D                ADD     A,R5
0DDA F582              MOV     DPL,A
0DDC 7400        R     MOV     A,#HIGH packet_data+03BEH
0DDE 3C                ADDC    A,R4
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 76  

0DDF F583              MOV     DPH,A
0DE1 EF                MOV     A,R7
0DE2 F0                MOVX    @DPTR,A
0DE3 1500        R     DEC     i
0DE5 80CA              SJMP    ?C0128
0DE7         ?C0129:
                                           ; SOURCE LINE # 584
0DE7 900000      R     MOV     DPTR,#packet_data+03EAH
0DEA 7407              MOV     A,#07H
0DEC F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 585
0DED A3                INC     DPTR
0DEE 7401              MOV     A,#01H
0DF0 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 586
0DF1 900000      E     MOV     DPTR,#c_mem+057H
0DF4 E0                MOVX    A,@DPTR
0DF5 FC                MOV     R4,A
0DF6 A3                INC     DPTR
0DF7 E0                MOVX    A,@DPTR
0DF8 FD                MOV     R5,A
0DF9 A3                INC     DPTR
0DFA E0                MOVX    A,@DPTR
0DFB FE                MOV     R6,A
0DFC A3                INC     DPTR
0DFD E0                MOVX    A,@DPTR
0DFE FF                MOV     R7,A
0DFF 900000      R     MOV     DPTR,#packet_data+03ECH
0E02 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 587
0E05 850000      R     MOV     i,curr_prop_gain_str_len
0E08         ?C0131:
0E08 E500        R     MOV     A,i
0E0A 6032              JZ      ?C0132
                                           ; SOURCE LINE # 588
0E0C FF                MOV     R7,A
0E0D C3                CLR     C
0E0E E500        R     MOV     A,curr_prop_gain_str_len
0E10 9F                SUBB    A,R7
0E11 FF                MOV     R7,A
0E12 E4                CLR     A
0E13 9400              SUBB    A,#00H
0E15 FE                MOV     R6,A
0E16 7400        R     MOV     A,#LOW curr_prop_gain_str
0E18 2F                ADD     A,R7
0E19 F582              MOV     DPL,A
0E1B 7400        R     MOV     A,#HIGH curr_prop_gain_str
0E1D 3E                ADDC    A,R6
0E1E F583              MOV     DPH,A
0E20 E0                MOVX    A,@DPTR
0E21 FF                MOV     R7,A
0E22 E500        R     MOV     A,i
0E24 FD                MOV     R5,A
0E25 E500        R     MOV     A,curr_prop_gain_str_len
0E27 C3                CLR     C
0E28 9D                SUBB    A,R5
0E29 FD                MOV     R5,A
0E2A E4                CLR     A
0E2B 9400              SUBB    A,#00H
0E2D FC                MOV     R4,A
0E2E 7400        R     MOV     A,#LOW packet_data+03F0H
0E30 2D                ADD     A,R5
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 77  

0E31 F582              MOV     DPL,A
0E33 7400        R     MOV     A,#HIGH packet_data+03F0H
0E35 3C                ADDC    A,R4
0E36 F583              MOV     DPH,A
0E38 EF                MOV     A,R7
0E39 F0                MOVX    @DPTR,A
0E3A 1500        R     DEC     i
0E3C 80CA              SJMP    ?C0131
0E3E         ?C0132:
                                           ; SOURCE LINE # 592
0E3E 900000      R     MOV     DPTR,#packet_data+041CH
0E41 7403              MOV     A,#03H
0E43 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 593
0E44 A3                INC     DPTR
0E45 7401              MOV     A,#01H
0E47 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 594
0E48 900000      E     MOV     DPTR,#c_mem+05BH
0E4B E0                MOVX    A,@DPTR
0E4C FF                MOV     R7,A
0E4D A3                INC     DPTR
0E4E E0                MOVX    A,@DPTR
0E4F 900000      R     MOV     DPTR,#packet_data+041EH
0E52 CF                XCH     A,R7
0E53 F0                MOVX    @DPTR,A
0E54 A3                INC     DPTR
0E55 EF                MOV     A,R7
0E56 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 595
0E57 850000      R     MOV     i,curr_sat_str_len
0E5A         ?C0134:
0E5A E500        R     MOV     A,i
0E5C 6032              JZ      ?C0135
                                           ; SOURCE LINE # 596
0E5E FF                MOV     R7,A
0E5F C3                CLR     C
0E60 E500        R     MOV     A,curr_sat_str_len
0E62 9F                SUBB    A,R7
0E63 FF                MOV     R7,A
0E64 E4                CLR     A
0E65 9400              SUBB    A,#00H
0E67 FE                MOV     R6,A
0E68 7400        R     MOV     A,#LOW curr_sat_str
0E6A 2F                ADD     A,R7
0E6B F582              MOV     DPL,A
0E6D 7400        R     MOV     A,#HIGH curr_sat_str
0E6F 3E                ADDC    A,R6
0E70 F583              MOV     DPH,A
0E72 E0                MOVX    A,@DPTR
0E73 FF                MOV     R7,A
0E74 E500        R     MOV     A,i
0E76 FD                MOV     R5,A
0E77 E500        R     MOV     A,curr_sat_str_len
0E79 C3                CLR     C
0E7A 9D                SUBB    A,R5
0E7B FD                MOV     R5,A
0E7C E4                CLR     A
0E7D 9400              SUBB    A,#00H
0E7F FC                MOV     R4,A
0E80 7400        R     MOV     A,#LOW packet_data+0420H
0E82 2D                ADD     A,R5
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 78  

0E83 F582              MOV     DPL,A
0E85 7400        R     MOV     A,#HIGH packet_data+0420H
0E87 3C                ADDC    A,R4
0E88 F583              MOV     DPH,A
0E8A EF                MOV     A,R7
0E8B F0                MOVX    @DPTR,A
0E8C 1500        R     DEC     i
0E8E 80CA              SJMP    ?C0134
0E90         ?C0135:
                                           ; SOURCE LINE # 600
0E90 900000      R     MOV     DPTR,#packet_data+044EH
0E93 7403              MOV     A,#03H
0E95 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 601
0E96 A3                INC     DPTR
0E97 7401              MOV     A,#01H
0E99 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 602
0E9A 900000      E     MOV     DPTR,#c_mem+05DH
0E9D E0                MOVX    A,@DPTR
0E9E FF                MOV     R7,A
0E9F A3                INC     DPTR
0EA0 E0                MOVX    A,@DPTR
0EA1 900000      R     MOV     DPTR,#packet_data+0450H
0EA4 CF                XCH     A,R7
0EA5 F0                MOVX    @DPTR,A
0EA6 A3                INC     DPTR
0EA7 EF                MOV     A,R7
0EA8 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 603
0EA9 850000      R     MOV     i,curr_dead_zone_str_len
0EAC         ?C0137:
0EAC E500        R     MOV     A,i
0EAE 6032              JZ      ?C0138
                                           ; SOURCE LINE # 604
0EB0 FF                MOV     R7,A
0EB1 C3                CLR     C
0EB2 E500        R     MOV     A,curr_dead_zone_str_len
0EB4 9F                SUBB    A,R7
0EB5 FF                MOV     R7,A
0EB6 E4                CLR     A
0EB7 9400              SUBB    A,#00H
0EB9 FE                MOV     R6,A
0EBA 7400        R     MOV     A,#LOW curr_dead_zone_str
0EBC 2F                ADD     A,R7
0EBD F582              MOV     DPL,A
0EBF 7400        R     MOV     A,#HIGH curr_dead_zone_str
0EC1 3E                ADDC    A,R6
0EC2 F583              MOV     DPH,A
0EC4 E0                MOVX    A,@DPTR
0EC5 FF                MOV     R7,A
0EC6 E500        R     MOV     A,i
0EC8 FD                MOV     R5,A
0EC9 E500        R     MOV     A,curr_dead_zone_str_len
0ECB C3                CLR     C
0ECC 9D                SUBB    A,R5
0ECD FD                MOV     R5,A
0ECE E4                CLR     A
0ECF 9400              SUBB    A,#00H
0ED1 FC                MOV     R4,A
0ED2 7400        R     MOV     A,#LOW packet_data+0452H
0ED4 2D                ADD     A,R5
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 79  

0ED5 F582              MOV     DPL,A
0ED7 7400        R     MOV     A,#HIGH packet_data+0452H
0ED9 3C                ADDC    A,R4
0EDA F583              MOV     DPH,A
0EDC EF                MOV     A,R7
0EDD F0                MOVX    @DPTR,A
0EDE 1500        R     DEC     i
0EE0 80CA              SJMP    ?C0137
0EE2         ?C0138:
                                           ; SOURCE LINE # 608
0EE2 900000      R     MOV     DPTR,#packet_data+0480H
0EE5 7405              MOV     A,#05H
0EE7 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 609
0EE8 A3                INC     DPTR
0EE9 7401              MOV     A,#01H
0EEB F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 610
0EEC 900000      E     MOV     DPTR,#c_mem+05FH
0EEF E0                MOVX    A,@DPTR
0EF0 FC                MOV     R4,A
0EF1 A3                INC     DPTR
0EF2 E0                MOVX    A,@DPTR
0EF3 FD                MOV     R5,A
0EF4 A3                INC     DPTR
0EF5 E0                MOVX    A,@DPTR
0EF6 FE                MOV     R6,A
0EF7 A3                INC     DPTR
0EF8 E0                MOVX    A,@DPTR
0EF9 FF                MOV     R7,A
0EFA 900000      R     MOV     DPTR,#packet_data+0482H
0EFD 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 611
0F00 850000      R     MOV     i,max_slide_str_len
0F03         ?C0140:
0F03 E500        R     MOV     A,i
0F05 6032              JZ      ?C0141
                                           ; SOURCE LINE # 612
0F07 FF                MOV     R7,A
0F08 C3                CLR     C
0F09 E500        R     MOV     A,max_slide_str_len
0F0B 9F                SUBB    A,R7
0F0C FF                MOV     R7,A
0F0D E4                CLR     A
0F0E 9400              SUBB    A,#00H
0F10 FE                MOV     R6,A
0F11 7400        R     MOV     A,#LOW max_slide_str
0F13 2F                ADD     A,R7
0F14 F582              MOV     DPL,A
0F16 7400        R     MOV     A,#HIGH max_slide_str
0F18 3E                ADDC    A,R6
0F19 F583              MOV     DPH,A
0F1B E0                MOVX    A,@DPTR
0F1C FF                MOV     R7,A
0F1D E500        R     MOV     A,i
0F1F FD                MOV     R5,A
0F20 E500        R     MOV     A,max_slide_str_len
0F22 C3                CLR     C
0F23 9D                SUBB    A,R5
0F24 FD                MOV     R5,A
0F25 E4                CLR     A
0F26 9400              SUBB    A,#00H
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 80  

0F28 FC                MOV     R4,A
0F29 7400        R     MOV     A,#LOW packet_data+0486H
0F2B 2D                ADD     A,R5
0F2C F582              MOV     DPL,A
0F2E 7400        R     MOV     A,#HIGH packet_data+0486H
0F30 3C                ADDC    A,R4
0F31 F583              MOV     DPH,A
0F33 EF                MOV     A,R7
0F34 F0                MOVX    @DPTR,A
0F35 1500        R     DEC     i
0F37 80CA              SJMP    ?C0140
0F39         ?C0141:
                                           ; SOURCE LINE # 616
0F39 900000      R     MOV     DPTR,#packet_data+04B2H
0F3C 7405              MOV     A,#05H
0F3E F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 617
0F3F A3                INC     DPTR
0F40 7401              MOV     A,#01H
0F42 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 618
0F43 900000      E     MOV     DPTR,#c_mem+063H
0F46 E0                MOVX    A,@DPTR
0F47 FC                MOV     R4,A
0F48 A3                INC     DPTR
0F49 E0                MOVX    A,@DPTR
0F4A FD                MOV     R5,A
0F4B A3                INC     DPTR
0F4C E0                MOVX    A,@DPTR
0F4D FE                MOV     R6,A
0F4E A3                INC     DPTR
0F4F E0                MOVX    A,@DPTR
0F50 FF                MOV     R7,A
0F51 900000      R     MOV     DPTR,#packet_data+04B4H
0F54 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 619
0F57 850000      R     MOV     i,max_SH_pos_str_len
0F5A         ?C0143:
0F5A E500        R     MOV     A,i
0F5C 6032              JZ      ?C0144
                                           ; SOURCE LINE # 620
0F5E FF                MOV     R7,A
0F5F C3                CLR     C
0F60 E500        R     MOV     A,max_SH_pos_str_len
0F62 9F                SUBB    A,R7
0F63 FF                MOV     R7,A
0F64 E4                CLR     A
0F65 9400              SUBB    A,#00H
0F67 FE                MOV     R6,A
0F68 7400        R     MOV     A,#LOW max_SH_pos_str
0F6A 2F                ADD     A,R7
0F6B F582              MOV     DPL,A
0F6D 7400        R     MOV     A,#HIGH max_SH_pos_str
0F6F 3E                ADDC    A,R6
0F70 F583              MOV     DPH,A
0F72 E0                MOVX    A,@DPTR
0F73 FF                MOV     R7,A
0F74 E500        R     MOV     A,i
0F76 FD                MOV     R5,A
0F77 E500        R     MOV     A,max_SH_pos_str_len
0F79 C3                CLR     C
0F7A 9D                SUBB    A,R5
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 81  

0F7B FD                MOV     R5,A
0F7C E4                CLR     A
0F7D 9400              SUBB    A,#00H
0F7F FC                MOV     R4,A
0F80 7400        R     MOV     A,#LOW packet_data+04B8H
0F82 2D                ADD     A,R5
0F83 F582              MOV     DPL,A
0F85 7400        R     MOV     A,#HIGH packet_data+04B8H
0F87 3C                ADDC    A,R4
0F88 F583              MOV     DPH,A
0F8A EF                MOV     A,R7
0F8B F0                MOVX    @DPTR,A
0F8C 1500        R     DEC     i
0F8E 80CA              SJMP    ?C0143
0F90         ?C0144:
                                           ; SOURCE LINE # 624
0F90 E4                CLR     A
0F91 900000      R     MOV     DPTR,#packet_data+04E4H
0F94 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 625
0F95 A3                INC     DPTR
0F96 04                INC     A
0F97 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 626
0F98 900000      E     MOV     DPTR,#c_mem+054H
0F9B E0                MOVX    A,@DPTR
0F9C 900000      R     MOV     DPTR,#packet_data+04E6H
0F9F F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 627
0FA0 900000      E     MOV     DPTR,#c_mem+054H
0FA3 601C              JZ      ?C0146
                                           ; SOURCE LINE # 628
0FA5 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0FA8 74FF              MOV     A,#0FFH
0FAA F0                MOVX    @DPTR,A
0FAB A3                INC     DPTR
0FAC 7400        R     MOV     A,#HIGH ?SC_91
0FAE F0                MOVX    @DPTR,A
0FAF A3                INC     DPTR
0FB0 7400        R     MOV     A,#LOW ?SC_91
0FB2 F0                MOVX    @DPTR,A
0FB3 7B01              MOV     R3,#01H
0FB5 7A00        R     MOV     R2,#HIGH master_mode_force_str
0FB7 7900        R     MOV     R1,#LOW master_mode_force_str
0FB9 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 629
0FBC 750023      R     MOV     string_lenght,#023H
                                           ; SOURCE LINE # 630
0FBF 801A              SJMP    ?C0147
0FC1         ?C0146:
                                           ; SOURCE LINE # 631
                                           ; SOURCE LINE # 632
0FC1 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0FC4 74FF              MOV     A,#0FFH
0FC6 F0                MOVX    @DPTR,A
0FC7 A3                INC     DPTR
0FC8 7400        R     MOV     A,#HIGH ?SC_97
0FCA F0                MOVX    @DPTR,A
0FCB A3                INC     DPTR
0FCC 7400        R     MOV     A,#LOW ?SC_97
0FCE F0                MOVX    @DPTR,A
0FCF 7B01              MOV     R3,#01H
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 82  

0FD1 7A00        R     MOV     R2,#HIGH master_mode_force_str
0FD3 7900        R     MOV     R1,#LOW master_mode_force_str
0FD5 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 633
0FD8 750022      R     MOV     string_lenght,#022H
                                           ; SOURCE LINE # 634
0FDB         ?C0147:
                                           ; SOURCE LINE # 635
0FDB 850000      R     MOV     i,string_lenght
0FDE         ?C0148:
0FDE E500        R     MOV     A,i
0FE0 6032              JZ      ?C0149
                                           ; SOURCE LINE # 636
0FE2 FF                MOV     R7,A
0FE3 C3                CLR     C
0FE4 E500        R     MOV     A,string_lenght
0FE6 9F                SUBB    A,R7
0FE7 FF                MOV     R7,A
0FE8 E4                CLR     A
0FE9 9400              SUBB    A,#00H
0FEB FE                MOV     R6,A
0FEC 7400        R     MOV     A,#LOW master_mode_force_str
0FEE 2F                ADD     A,R7
0FEF F582              MOV     DPL,A
0FF1 7400        R     MOV     A,#HIGH master_mode_force_str
0FF3 3E                ADDC    A,R6
0FF4 F583              MOV     DPH,A
0FF6 E0                MOVX    A,@DPTR
0FF7 FF                MOV     R7,A
0FF8 E500        R     MOV     A,i
0FFA FD                MOV     R5,A
0FFB E500        R     MOV     A,string_lenght
0FFD C3                CLR     C
0FFE 9D                SUBB    A,R5
0FFF FD                MOV     R5,A
1000 E4                CLR     A
1001 9400              SUBB    A,#00H
1003 FC                MOV     R4,A
1004 7400        R     MOV     A,#LOW packet_data+04E7H
1006 2D                ADD     A,R5
1007 F582              MOV     DPL,A
1009 7400        R     MOV     A,#HIGH packet_data+04E7H
100B 3C                ADDC    A,R4
100C F583              MOV     DPH,A
100E EF                MOV     A,R7
100F F0                MOVX    @DPTR,A
1010 1500        R     DEC     i
1012 80CA              SJMP    ?C0148
1014         ?C0149:
                                           ; SOURCE LINE # 638
1014 7400        R     MOV     A,#LOW packet_data+04E7H
1016 2500        R     ADD     A,string_lenght
1018 F582              MOV     DPL,A
101A E4                CLR     A
101B 3400        R     ADDC    A,#HIGH packet_data+04E7H
101D F583              MOV     DPH,A
101F 7403              MOV     A,#03H
1021 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 642
1022 E4                CLR     A
1023 900000      R     MOV     DPTR,#packet_data+0516H
1026 F0                MOVX    @DPTR,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 83  

                                           ; SOURCE LINE # 643
1027 A3                INC     DPTR
1028 04                INC     A
1029 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 644
102A 900000      E     MOV     DPTR,#c_mem+055H
102D E0                MOVX    A,@DPTR
102E 900000      R     MOV     DPTR,#packet_data+0518H
1031 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 645
1032 900000      E     MOV     DPTR,#c_mem+055H
1035 601C              JZ      ?C0151
                                           ; SOURCE LINE # 646
1037 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
103A 74FF              MOV     A,#0FFH
103C F0                MOVX    @DPTR,A
103D A3                INC     DPTR
103E 7400        R     MOV     A,#HIGH ?SC_91
1040 F0                MOVX    @DPTR,A
1041 A3                INC     DPTR
1042 7400        R     MOV     A,#LOW ?SC_91
1044 F0                MOVX    @DPTR,A
1045 7B01              MOV     R3,#01H
1047 7A00        R     MOV     R2,#HIGH master_mode_proprio_str
1049 7900        R     MOV     R1,#LOW master_mode_proprio_str
104B 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 647
104E 750027      R     MOV     string_lenght,#027H
                                           ; SOURCE LINE # 648
1051 801A              SJMP    ?C0152
1053         ?C0151:
                                           ; SOURCE LINE # 649
                                           ; SOURCE LINE # 650
1053 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
1056 74FF              MOV     A,#0FFH
1058 F0                MOVX    @DPTR,A
1059 A3                INC     DPTR
105A 7400        R     MOV     A,#HIGH ?SC_97
105C F0                MOVX    @DPTR,A
105D A3                INC     DPTR
105E 7400        R     MOV     A,#LOW ?SC_97
1060 F0                MOVX    @DPTR,A
1061 7B01              MOV     R3,#01H
1063 7A00        R     MOV     R2,#HIGH master_mode_proprio_str
1065 7900        R     MOV     R1,#LOW master_mode_proprio_str
1067 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 651
106A 750026      R     MOV     string_lenght,#026H
                                           ; SOURCE LINE # 652
106D         ?C0152:
                                           ; SOURCE LINE # 653
106D 850000      R     MOV     i,string_lenght
1070         ?C0153:
1070 E500        R     MOV     A,i
1072 6032              JZ      ?C0154
                                           ; SOURCE LINE # 654
1074 FF                MOV     R7,A
1075 C3                CLR     C
1076 E500        R     MOV     A,string_lenght
1078 9F                SUBB    A,R7
1079 FF                MOV     R7,A
107A E4                CLR     A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 84  

107B 9400              SUBB    A,#00H
107D FE                MOV     R6,A
107E 7400        R     MOV     A,#LOW master_mode_proprio_str
1080 2F                ADD     A,R7
1081 F582              MOV     DPL,A
1083 7400        R     MOV     A,#HIGH master_mode_proprio_str
1085 3E                ADDC    A,R6
1086 F583              MOV     DPH,A
1088 E0                MOVX    A,@DPTR
1089 FF                MOV     R7,A
108A E500        R     MOV     A,i
108C FD                MOV     R5,A
108D E500        R     MOV     A,string_lenght
108F C3                CLR     C
1090 9D                SUBB    A,R5
1091 FD                MOV     R5,A
1092 E4                CLR     A
1093 9400              SUBB    A,#00H
1095 FC                MOV     R4,A
1096 7400        R     MOV     A,#LOW packet_data+0519H
1098 2D                ADD     A,R5
1099 F582              MOV     DPL,A
109B 7400        R     MOV     A,#HIGH packet_data+0519H
109D 3C                ADDC    A,R4
109E F583              MOV     DPH,A
10A0 EF                MOV     A,R7
10A1 F0                MOVX    @DPTR,A
10A2 1500        R     DEC     i
10A4 80CA              SJMP    ?C0153
10A6         ?C0154:
                                           ; SOURCE LINE # 656
10A6 7400        R     MOV     A,#LOW packet_data+0519H
10A8 2500        R     ADD     A,string_lenght
10AA F582              MOV     DPL,A
10AC E4                CLR     A
10AD 3400        R     ADDC    A,#HIGH packet_data+0519H
10AF F583              MOV     DPH,A
10B1 7403              MOV     A,#03H
10B3 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 660
10B4 900000      R     MOV     DPTR,#packet_data+0548H
10B7 14                DEC     A
10B8 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 661
10B9 A3                INC     DPTR
10BA 14                DEC     A
10BB F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 662
10BC 900000      E     MOV     DPTR,#c_mem+067H
10BF E0                MOVX    A,@DPTR
10C0 900000      R     MOV     DPTR,#packet_data+054AH
10C3 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 663
10C4 850000      R     MOV     i,SH_ID_str_len
10C7         ?C0156:
10C7 E500        R     MOV     A,i
10C9 6032              JZ      ?C0157
                                           ; SOURCE LINE # 664
10CB FF                MOV     R7,A
10CC C3                CLR     C
10CD E500        R     MOV     A,SH_ID_str_len
10CF 9F                SUBB    A,R7
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 85  

10D0 FF                MOV     R7,A
10D1 E4                CLR     A
10D2 9400              SUBB    A,#00H
10D4 FE                MOV     R6,A
10D5 7400        R     MOV     A,#LOW SH_ID_str
10D7 2F                ADD     A,R7
10D8 F582              MOV     DPL,A
10DA 7400        R     MOV     A,#HIGH SH_ID_str
10DC 3E                ADDC    A,R6
10DD F583              MOV     DPH,A
10DF E0                MOVX    A,@DPTR
10E0 FF                MOV     R7,A
10E1 E500        R     MOV     A,i
10E3 FD                MOV     R5,A
10E4 E500        R     MOV     A,SH_ID_str_len
10E6 C3                CLR     C
10E7 9D                SUBB    A,R5
10E8 FD                MOV     R5,A
10E9 E4                CLR     A
10EA 9400              SUBB    A,#00H
10EC FC                MOV     R4,A
10ED 7400        R     MOV     A,#LOW packet_data+054BH
10EF 2D                ADD     A,R5
10F0 F582              MOV     DPL,A
10F2 7400        R     MOV     A,#HIGH packet_data+054BH
10F4 3C                ADDC    A,R4
10F5 F583              MOV     DPH,A
10F7 EF                MOV     A,R7
10F8 F0                MOVX    @DPTR,A
10F9 1500        R     DEC     i
10FB 80CA              SJMP    ?C0156
10FD         ?C0157:
                                           ; SOURCE LINE # 668
10FD 900000      R     MOV     DPTR,#packet_data+057AH
1100 7402              MOV     A,#02H
1102 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 669
1103 A3                INC     DPTR
1104 14                DEC     A
1105 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 670
1106 900000      E     MOV     DPTR,#c_mem+068H
1109 E0                MOVX    A,@DPTR
110A 900000      R     MOV     DPTR,#packet_data+057CH
110D F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 671
110E 850000      R     MOV     i,FF_ID_str_len
1111         ?C0159:
1111 E500        R     MOV     A,i
1113 6032              JZ      ?C0160
                                           ; SOURCE LINE # 672
1115 FF                MOV     R7,A
1116 C3                CLR     C
1117 E500        R     MOV     A,FF_ID_str_len
1119 9F                SUBB    A,R7
111A FF                MOV     R7,A
111B E4                CLR     A
111C 9400              SUBB    A,#00H
111E FE                MOV     R6,A
111F 7400        R     MOV     A,#LOW FF_ID_str
1121 2F                ADD     A,R7
1122 F582              MOV     DPL,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 86  

1124 7400        R     MOV     A,#HIGH FF_ID_str
1126 3E                ADDC    A,R6
1127 F583              MOV     DPH,A
1129 E0                MOVX    A,@DPTR
112A FF                MOV     R7,A
112B E500        R     MOV     A,i
112D FD                MOV     R5,A
112E E500        R     MOV     A,FF_ID_str_len
1130 C3                CLR     C
1131 9D                SUBB    A,R5
1132 FD                MOV     R5,A
1133 E4                CLR     A
1134 9400              SUBB    A,#00H
1136 FC                MOV     R4,A
1137 7400        R     MOV     A,#LOW packet_data+057DH
1139 2D                ADD     A,R5
113A F582              MOV     DPL,A
113C 7400        R     MOV     A,#HIGH packet_data+057DH
113E 3C                ADDC    A,R4
113F F583              MOV     DPH,A
1141 EF                MOV     A,R7
1142 F0                MOVX    @DPTR,A
1143 1500        R     DEC     i
1145 80CA              SJMP    ?C0159
1147         ?C0160:
                                           ; SOURCE LINE # 676
1147 900000      R     MOV     DPTR,#packet_data+05ACH
114A 7402              MOV     A,#02H
114C F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 677
114D A3                INC     DPTR
114E 14                DEC     A
114F F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 678
1150 900000      E     MOV     DPTR,#c_mem+069H
1153 E0                MOVX    A,@DPTR
1154 900000      R     MOV     DPTR,#packet_data+05AEH
1157 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 679
1158 850000      R     MOV     i,PF_ID_str_len
115B         ?C0162:
115B E500        R     MOV     A,i
115D 6032              JZ      ?C0163
                                           ; SOURCE LINE # 680
115F FF                MOV     R7,A
1160 C3                CLR     C
1161 E500        R     MOV     A,PF_ID_str_len
1163 9F                SUBB    A,R7
1164 FF                MOV     R7,A
1165 E4                CLR     A
1166 9400              SUBB    A,#00H
1168 FE                MOV     R6,A
1169 7400        R     MOV     A,#LOW PF_ID_str
116B 2F                ADD     A,R7
116C F582              MOV     DPL,A
116E 7400        R     MOV     A,#HIGH PF_ID_str
1170 3E                ADDC    A,R6
1171 F583              MOV     DPH,A
1173 E0                MOVX    A,@DPTR
1174 FF                MOV     R7,A
1175 E500        R     MOV     A,i
1177 FD                MOV     R5,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 87  

1178 E500        R     MOV     A,PF_ID_str_len
117A C3                CLR     C
117B 9D                SUBB    A,R5
117C FD                MOV     R5,A
117D E4                CLR     A
117E 9400              SUBB    A,#00H
1180 FC                MOV     R4,A
1181 7400        R     MOV     A,#LOW packet_data+05AFH
1183 2D                ADD     A,R5
1184 F582              MOV     DPL,A
1186 7400        R     MOV     A,#HIGH packet_data+05AFH
1188 3C                ADDC    A,R4
1189 F583              MOV     DPH,A
118B EF                MOV     A,R7
118C F0                MOVX    @DPTR,A
118D 1500        R     DEC     i
118F 80CA              SJMP    ?C0162
1191         ?C0163:
                                           ; SOURCE LINE # 684
1191 E4                CLR     A
1192 900000      R     MOV     DPTR,#packet_data+05DEH
1195 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 685
1196 A3                INC     DPTR
1197 04                INC     A
1198 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 686
1199 900000      E     MOV     DPTR,#c_mem+06AH
119C E0                MOVX    A,@DPTR
119D 900000      R     MOV     DPTR,#packet_data+05E0H
11A0 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 687
11A1 900000      E     MOV     DPTR,#c_mem+06AH
11A4 601C              JZ      ?C0165
                                           ; SOURCE LINE # 688
11A6 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
11A9 74FF              MOV     A,#0FFH
11AB F0                MOVX    @DPTR,A
11AC A3                INC     DPTR
11AD 7400        R     MOV     A,#HIGH ?SC_102
11AF F0                MOVX    @DPTR,A
11B0 A3                INC     DPTR
11B1 7400        R     MOV     A,#LOW ?SC_102
11B3 F0                MOVX    @DPTR,A
11B4 7B01              MOV     R3,#01H
11B6 7A00        R     MOV     R2,#HIGH F_right_left_par_str
11B8 7900        R     MOV     R1,#LOW F_right_left_par_str
11BA 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 689
11BD 750014      R     MOV     string_lenght,#014H
                                           ; SOURCE LINE # 690
11C0 801A              SJMP    ?C0166
11C2         ?C0165:
                                           ; SOURCE LINE # 691
                                           ; SOURCE LINE # 692
11C2 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
11C5 74FF              MOV     A,#0FFH
11C7 F0                MOVX    @DPTR,A
11C8 A3                INC     DPTR
11C9 7400        R     MOV     A,#HIGH ?SC_109
11CB F0                MOVX    @DPTR,A
11CC A3                INC     DPTR
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 88  

11CD 7400        R     MOV     A,#LOW ?SC_109
11CF F0                MOVX    @DPTR,A
11D0 7B01              MOV     R3,#01H
11D2 7A00        R     MOV     R2,#HIGH F_right_left_par_str
11D4 7900        R     MOV     R1,#LOW F_right_left_par_str
11D6 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 693
11D9 750015      R     MOV     string_lenght,#015H
                                           ; SOURCE LINE # 694
11DC         ?C0166:
                                           ; SOURCE LINE # 695
11DC 850000      R     MOV     i,string_lenght
11DF         ?C0167:
11DF E500        R     MOV     A,i
11E1 6032              JZ      ?C0168
                                           ; SOURCE LINE # 696
11E3 FF                MOV     R7,A
11E4 C3                CLR     C
11E5 E500        R     MOV     A,string_lenght
11E7 9F                SUBB    A,R7
11E8 FF                MOV     R7,A
11E9 E4                CLR     A
11EA 9400              SUBB    A,#00H
11EC FE                MOV     R6,A
11ED 7400        R     MOV     A,#LOW F_right_left_par_str
11EF 2F                ADD     A,R7
11F0 F582              MOV     DPL,A
11F2 7400        R     MOV     A,#HIGH F_right_left_par_str
11F4 3E                ADDC    A,R6
11F5 F583              MOV     DPH,A
11F7 E0                MOVX    A,@DPTR
11F8 FF                MOV     R7,A
11F9 E500        R     MOV     A,i
11FB FD                MOV     R5,A
11FC E500        R     MOV     A,string_lenght
11FE C3                CLR     C
11FF 9D                SUBB    A,R5
1200 FD                MOV     R5,A
1201 E4                CLR     A
1202 9400              SUBB    A,#00H
1204 FC                MOV     R4,A
1205 7400        R     MOV     A,#LOW packet_data+05E1H
1207 2D                ADD     A,R5
1208 F582              MOV     DPL,A
120A 7400        R     MOV     A,#HIGH packet_data+05E1H
120C 3C                ADDC    A,R4
120D F583              MOV     DPH,A
120F EF                MOV     A,R7
1210 F0                MOVX    @DPTR,A
1211 1500        R     DEC     i
1213 80CA              SJMP    ?C0167
1215         ?C0168:
                                           ; SOURCE LINE # 698
1215 7400        R     MOV     A,#LOW packet_data+05E1H
1217 2500        R     ADD     A,string_lenght
1219 F582              MOV     DPL,A
121B E4                CLR     A
121C 3400        R     ADDC    A,#HIGH packet_data+05E1H
121E F583              MOV     DPH,A
1220 7402              MOV     A,#02H
1222 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 702
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 89  

1223 850000      R     MOV     i,input_mode_menu_len
1226         ?C0170:
1226 E500        R     MOV     A,i
1228 6032              JZ      ?C0171
                                           ; SOURCE LINE # 703
122A FF                MOV     R7,A
122B C3                CLR     C
122C E500        R     MOV     A,input_mode_menu_len
122E 9F                SUBB    A,R7
122F FF                MOV     R7,A
1230 E4                CLR     A
1231 9400              SUBB    A,#00H
1233 FE                MOV     R6,A
1234 7400        R     MOV     A,#LOW input_mode_menu
1236 2F                ADD     A,R7
1237 F582              MOV     DPL,A
1239 7400        R     MOV     A,#HIGH input_mode_menu
123B 3E                ADDC    A,R6
123C F583              MOV     DPH,A
123E E0                MOVX    A,@DPTR
123F FF                MOV     R7,A
1240 E500        R     MOV     A,i
1242 FD                MOV     R5,A
1243 E500        R     MOV     A,input_mode_menu_len
1245 C3                CLR     C
1246 9D                SUBB    A,R5
1247 FD                MOV     R5,A
1248 E4                CLR     A
1249 9400              SUBB    A,#00H
124B FC                MOV     R4,A
124C 7400        R     MOV     A,#LOW packet_data+0610H
124E 2D                ADD     A,R5
124F F582              MOV     DPL,A
1251 7400        R     MOV     A,#HIGH packet_data+0610H
1253 3C                ADDC    A,R4
1254 F583              MOV     DPH,A
1256 EF                MOV     A,R7
1257 F0                MOVX    @DPTR,A
1258 1500        R     DEC     i
125A 80CA              SJMP    ?C0170
125C         ?C0171:
                                           ; SOURCE LINE # 705
125C 850000      R     MOV     i,F_right_left_menu_len
125F         ?C0173:
125F E500        R     MOV     A,i
1261 6032              JZ      ?C0174
                                           ; SOURCE LINE # 706
1263 FF                MOV     R7,A
1264 C3                CLR     C
1265 E500        R     MOV     A,F_right_left_menu_len
1267 9F                SUBB    A,R7
1268 FF                MOV     R7,A
1269 E4                CLR     A
126A 9400              SUBB    A,#00H
126C FE                MOV     R6,A
126D 7400        R     MOV     A,#LOW F_right_left_menu
126F 2F                ADD     A,R7
1270 F582              MOV     DPL,A
1272 7400        R     MOV     A,#HIGH F_right_left_menu
1274 3E                ADDC    A,R6
1275 F583              MOV     DPH,A
1277 E0                MOVX    A,@DPTR
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 90  

1278 FF                MOV     R7,A
1279 E500        R     MOV     A,i
127B FD                MOV     R5,A
127C E500        R     MOV     A,F_right_left_menu_len
127E C3                CLR     C
127F 9D                SUBB    A,R5
1280 FD                MOV     R5,A
1281 E4                CLR     A
1282 9400              SUBB    A,#00H
1284 FC                MOV     R4,A
1285 7400        R     MOV     A,#LOW packet_data+06A6H
1287 2D                ADD     A,R5
1288 F582              MOV     DPL,A
128A 7400        R     MOV     A,#HIGH packet_data+06A6H
128C 3C                ADDC    A,R4
128D F583              MOV     DPH,A
128F EF                MOV     A,R7
1290 F0                MOVX    @DPTR,A
1291 1500        R     DEC     i
1293 80CA              SJMP    ?C0173
1295         ?C0174:
                                           ; SOURCE LINE # 708
1295 850000      R     MOV     i,yes_no_menu_len
1298         ?C0176:
1298 E500        R     MOV     A,i
129A 6032              JZ      ?C0177
                                           ; SOURCE LINE # 709
129C FF                MOV     R7,A
129D C3                CLR     C
129E E500        R     MOV     A,yes_no_menu_len
12A0 9F                SUBB    A,R7
12A1 FF                MOV     R7,A
12A2 E4                CLR     A
12A3 9400              SUBB    A,#00H
12A5 FE                MOV     R6,A
12A6 7400        R     MOV     A,#LOW yes_no_menu
12A8 2F                ADD     A,R7
12A9 F582              MOV     DPL,A
12AB 7400        R     MOV     A,#HIGH yes_no_menu
12AD 3E                ADDC    A,R6
12AE F583              MOV     DPH,A
12B0 E0                MOVX    A,@DPTR
12B1 FF                MOV     R7,A
12B2 E500        R     MOV     A,i
12B4 FD                MOV     R5,A
12B5 E500        R     MOV     A,yes_no_menu_len
12B7 C3                CLR     C
12B8 9D                SUBB    A,R5
12B9 FD                MOV     R5,A
12BA E4                CLR     A
12BB 9400              SUBB    A,#00H
12BD FC                MOV     R4,A
12BE 7400        R     MOV     A,#LOW packet_data+073CH
12C0 2D                ADD     A,R5
12C1 F582              MOV     DPL,A
12C3 7400        R     MOV     A,#HIGH packet_data+073CH
12C5 3C                ADDC    A,R4
12C6 F583              MOV     DPH,A
12C8 EF                MOV     A,R7
12C9 F0                MOVX    @DPTR,A
12CA 1500        R     DEC     i
12CC 80CA              SJMP    ?C0176
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 91  

12CE         ?C0177:
                                           ; SOURCE LINE # 711
12CE 7B01              MOV     R3,#01H
12D0 7A00        R     MOV     R2,#HIGH packet_data
12D2 7900        R     MOV     R1,#LOW packet_data
12D4 900000      R     MOV     DPTR,#packet_lenght
12D7 E0                MOVX    A,@DPTR
12D8 A3                INC     DPTR
12D9 E0                MOVX    A,@DPTR
12DA 14                DEC     A
12DB FD                MOV     R5,A
12DC 120000      R     LCALL   _LCRChecksum
12DF 900000      R     MOV     DPTR,#packet_lenght
12E2 E0                MOVX    A,@DPTR
12E3 FC                MOV     R4,A
12E4 A3                INC     DPTR
12E5 E0                MOVX    A,@DPTR
12E6 FD                MOV     R5,A
12E7 2400        R     ADD     A,#LOW packet_data+0FFFFH
12E9 F582              MOV     DPL,A
12EB 7400        R     MOV     A,#HIGH packet_data+0FFFFH
12ED 3C                ADDC    A,R4
12EE F583              MOV     DPH,A
12F0 EF                MOV     A,R7
12F1 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 712
12F2 7B01              MOV     R3,#01H
12F4 7A00        R     MOV     R2,#HIGH packet_data
12F6 7900        R     MOV     R1,#LOW packet_data
12F8 120000      R     LCALL   _commWrite
                                           ; SOURCE LINE # 713
12FB 22                RET     
                                           ; SOURCE LINE # 716
12FC         ?C0179:
                                           ; SOURCE LINE # 717
12FC 900000      E     MOV     DPTR,#g_rx+03H
12FF E0                MOVX    A,@DPTR
1300 900000      E     MOV     DPTR,#g_mem+01H
1303 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 718
1304 22                RET     
                                           ; SOURCE LINE # 721
1305         ?C0180:
                                           ; SOURCE LINE # 722
1305 900000      E     MOV     DPTR,#g_rx+03H
1308 E0                MOVX    A,@DPTR
1309 900000      E     MOV     DPTR,#g_mem+02H
130C F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 723
130D 22                RET     
                                           ; SOURCE LINE # 726
130E         ?C0181:
                                           ; SOURCE LINE # 727
130E E4                CLR     A
130F F500        R     MOV     i,A
1311         ?C0182:
1311 E500        R     MOV     A,i
1313 C3                CLR     C
1314 9403              SUBB    A,#03H
1316 4003              JC      $ + 5H
1318 020000      R     LJMP    ?C0231
                                           ; SOURCE LINE # 728
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 92  

131B 7400        E     MOV     A,#LOW g_rx+03H
131D 2500        R     ADD     A,i
131F F582              MOV     DPL,A
1321 E4                CLR     A
1322 3400        E     ADDC    A,#HIGH g_rx+03H
1324 F583              MOV     DPH,A
1326 E0                MOVX    A,@DPTR
1327 FF                MOV     R7,A
1328 7400        E     MOV     A,#LOW g_mem+03H
132A 2500        R     ADD     A,i
132C F582              MOV     DPL,A
132E E4                CLR     A
132F 3400        E     ADDC    A,#HIGH g_mem+03H
1331 F583              MOV     DPH,A
1333 EF                MOV     A,R7
1334 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 729
1335 0500        R     INC     i
1337 80D8              SJMP    ?C0182
                                           ; SOURCE LINE # 730
                                           ; SOURCE LINE # 733
1339         ?C0185:
                                           ; SOURCE LINE # 734
1339 E4                CLR     A
133A F500        R     MOV     i,A
133C         ?C0186:
133C E500        R     MOV     A,i
133E C3                CLR     C
133F 9403              SUBB    A,#03H
1341 5071              JNC     ?C0187
                                           ; SOURCE LINE # 735
1343 E500        R     MOV     A,i
1345 25E0              ADD     A,ACC
1347 2400        E     ADD     A,#LOW g_rx+03H
1349 F582              MOV     DPL,A
134B E4                CLR     A
134C 3400        E     ADDC    A,#HIGH g_rx+03H
134E F583              MOV     DPH,A
1350 E0                MOVX    A,@DPTR
1351 FE                MOV     R6,A
1352 A3                INC     DPTR
1353 E0                MOVX    A,@DPTR
1354 FF                MOV     R7,A
1355 EE                MOV     A,R6
1356 33                RLC     A
1357 95E0              SUBB    A,ACC
1359 FD                MOV     R5,A
135A FC                MOV     R4,A
135B E500        R     MOV     A,i
135D 25E0              ADD     A,ACC
135F 25E0              ADD     A,ACC
1361 2400        E     ADD     A,#LOW g_mem+06H
1363 F582              MOV     DPL,A
1365 E4                CLR     A
1366 3400        E     ADDC    A,#HIGH g_mem+06H
1368 F583              MOV     DPH,A
136A 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 736
136D E500        R     MOV     A,i
136F 25E0              ADD     A,ACC
1371 25E0              ADD     A,ACC
1373 2400        E     ADD     A,#LOW g_mem+06H
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 93  

1375 F582              MOV     DPL,A
1377 E4                CLR     A
1378 3400        E     ADDC    A,#HIGH g_mem+06H
137A F583              MOV     DPH,A
137C C083              PUSH    DPH
137E C082              PUSH    DPL
1380 E0                MOVX    A,@DPTR
1381 FC                MOV     R4,A
1382 A3                INC     DPTR
1383 E0                MOVX    A,@DPTR
1384 FD                MOV     R5,A
1385 A3                INC     DPTR
1386 E0                MOVX    A,@DPTR
1387 FE                MOV     R6,A
1388 A3                INC     DPTR
1389 E0                MOVX    A,@DPTR
138A FF                MOV     R7,A
138B 7400        E     MOV     A,#LOW g_mem+03H
138D 2500        R     ADD     A,i
138F F582              MOV     DPL,A
1391 E4                CLR     A
1392 3400        E     ADDC    A,#HIGH g_mem+03H
1394 F583              MOV     DPH,A
1396 E0                MOVX    A,@DPTR
1397 F9                MOV     R1,A
1398 F8                MOV     R0,A
1399 120000      E     LCALL   ?C?LSHL
139C D082              POP     DPL
139E D083              POP     DPH
13A0 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 738
13A3 7400        E     MOV     A,#LOW g_meas+0CH
13A5 2500        R     ADD     A,i
13A7 F582              MOV     DPL,A
13A9 E4                CLR     A
13AA 3400        E     ADDC    A,#HIGH g_meas+0CH
13AC F583              MOV     DPH,A
13AE E4                CLR     A
13AF F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 739
13B0 0500        R     INC     i
13B2 8088              SJMP    ?C0186
13B4         ?C0187:
                                           ; SOURCE LINE # 740
13B4 D200        E     SETB    reset_last_value_flag
                                           ; SOURCE LINE # 741
13B6 22                RET     
                                           ; SOURCE LINE # 744
13B7         ?C0189:
                                           ; SOURCE LINE # 745
13B7 E4                CLR     A
13B8 F500        R     MOV     i,A
13BA         ?C0190:
13BA E500        R     MOV     A,i
13BC C3                CLR     C
13BD 9403              SUBB    A,#03H
13BF 4003              JC      $ + 5H
13C1 020000      R     LJMP    ?C0231
                                           ; SOURCE LINE # 746
13C4 E500        R     MOV     A,i
13C6 25E0              ADD     A,ACC
13C8 25E0              ADD     A,ACC
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 94  

13CA 2400        E     ADD     A,#LOW g_rx+03H
13CC F582              MOV     DPL,A
13CE E4                CLR     A
13CF 3400        E     ADDC    A,#HIGH g_rx+03H
13D1 F583              MOV     DPH,A
13D3 E0                MOVX    A,@DPTR
13D4 FC                MOV     R4,A
13D5 A3                INC     DPTR
13D6 E0                MOVX    A,@DPTR
13D7 FD                MOV     R5,A
13D8 A3                INC     DPTR
13D9 E0                MOVX    A,@DPTR
13DA FE                MOV     R6,A
13DB A3                INC     DPTR
13DC E0                MOVX    A,@DPTR
13DD FF                MOV     R7,A
13DE E500        R     MOV     A,i
13E0 25E0              ADD     A,ACC
13E2 25E0              ADD     A,ACC
13E4 2400        E     ADD     A,#LOW g_mem+012H
13E6 F582              MOV     DPL,A
13E8 E4                CLR     A
13E9 3400        E     ADDC    A,#HIGH g_mem+012H
13EB F583              MOV     DPH,A
13ED 120000      E     LCALL   ?C?LSTXDATA
13F0 0500        R     INC     i
13F2 80C6              SJMP    ?C0190
                                           ; SOURCE LINE # 747
                                           ; SOURCE LINE # 750
13F4         ?C0193:
                                           ; SOURCE LINE # 751
13F4 900000      E     MOV     DPTR,#g_rx+03H
13F7 E0                MOVX    A,@DPTR
13F8 900000      E     MOV     DPTR,#g_mem+01EH
13FB F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 752
13FC 22                RET     
                                           ; SOURCE LINE # 755
13FD         ?C0194:
                                           ; SOURCE LINE # 756
13FD E4                CLR     A
13FE F500        R     MOV     i,A
1400         ?C0195:
1400 E500        R     MOV     A,i
1402 C3                CLR     C
1403 9402              SUBB    A,#02H
1405 4003              JC      $ + 5H
1407 020000      R     LJMP    ?C0231
                                           ; SOURCE LINE # 757
140A E500        R     MOV     A,i
140C 75F008            MOV     B,#08H
140F A4                MUL     AB
1410 2400        E     ADD     A,#LOW g_rx+03H
1412 F582              MOV     DPL,A
1414 E4                CLR     A
1415 3400        E     ADDC    A,#HIGH g_rx+03H
1417 F583              MOV     DPH,A
1419 E0                MOVX    A,@DPTR
141A FC                MOV     R4,A
141B A3                INC     DPTR
141C E0                MOVX    A,@DPTR
141D FD                MOV     R5,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 95  

141E A3                INC     DPTR
141F E0                MOVX    A,@DPTR
1420 FE                MOV     R6,A
1421 A3                INC     DPTR
1422 E0                MOVX    A,@DPTR
1423 FF                MOV     R7,A
1424 E500        R     MOV     A,i
1426 25E0              ADD     A,ACC
1428 25E0              ADD     A,ACC
142A 2400        E     ADD     A,#LOW g_mem+01FH
142C F582              MOV     DPL,A
142E E4                CLR     A
142F 3400        E     ADDC    A,#HIGH g_mem+01FH
1431 F583              MOV     DPH,A
1433 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 758
1436 E500        R     MOV     A,i
1438 75F008            MOV     B,#08H
143B A4                MUL     AB
143C 2400        E     ADD     A,#LOW g_rx+07H
143E F582              MOV     DPL,A
1440 E4                CLR     A
1441 3400        E     ADDC    A,#HIGH g_rx+07H
1443 F583              MOV     DPH,A
1445 E0                MOVX    A,@DPTR
1446 FC                MOV     R4,A
1447 A3                INC     DPTR
1448 E0                MOVX    A,@DPTR
1449 FD                MOV     R5,A
144A A3                INC     DPTR
144B E0                MOVX    A,@DPTR
144C FE                MOV     R6,A
144D A3                INC     DPTR
144E E0                MOVX    A,@DPTR
144F FF                MOV     R7,A
1450 E500        R     MOV     A,i
1452 25E0              ADD     A,ACC
1454 25E0              ADD     A,ACC
1456 2400        E     ADD     A,#LOW g_mem+027H
1458 F582              MOV     DPL,A
145A E4                CLR     A
145B 3400        E     ADDC    A,#HIGH g_mem+027H
145D F583              MOV     DPH,A
145F 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 760
1462 E500        R     MOV     A,i
1464 25E0              ADD     A,ACC
1466 25E0              ADD     A,ACC
1468 2400        E     ADD     A,#LOW g_mem+01FH
146A F582              MOV     DPL,A
146C E4                CLR     A
146D 3400        E     ADDC    A,#HIGH g_mem+01FH
146F F583              MOV     DPH,A
1471 C083              PUSH    DPH
1473 C082              PUSH    DPL
1475 E0                MOVX    A,@DPTR
1476 FC                MOV     R4,A
1477 A3                INC     DPTR
1478 E0                MOVX    A,@DPTR
1479 FD                MOV     R5,A
147A A3                INC     DPTR
147B E0                MOVX    A,@DPTR
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 96  

147C FE                MOV     R6,A
147D A3                INC     DPTR
147E E0                MOVX    A,@DPTR
147F FF                MOV     R7,A
1480 7400        E     MOV     A,#LOW g_mem+03H
1482 2500        R     ADD     A,i
1484 F582              MOV     DPL,A
1486 E4                CLR     A
1487 3400        E     ADDC    A,#HIGH g_mem+03H
1489 F583              MOV     DPH,A
148B E0                MOVX    A,@DPTR
148C F9                MOV     R1,A
148D F8                MOV     R0,A
148E 120000      E     LCALL   ?C?LSHL
1491 D082              POP     DPL
1493 D083              POP     DPH
1495 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 761
1498 E500        R     MOV     A,i
149A 25E0              ADD     A,ACC
149C 25E0              ADD     A,ACC
149E 2400        E     ADD     A,#LOW g_mem+027H
14A0 F582              MOV     DPL,A
14A2 E4                CLR     A
14A3 3400        E     ADDC    A,#HIGH g_mem+027H
14A5 F583              MOV     DPH,A
14A7 C083              PUSH    DPH
14A9 C082              PUSH    DPL
14AB E0                MOVX    A,@DPTR
14AC FC                MOV     R4,A
14AD A3                INC     DPTR
14AE E0                MOVX    A,@DPTR
14AF FD                MOV     R5,A
14B0 A3                INC     DPTR
14B1 E0                MOVX    A,@DPTR
14B2 FE                MOV     R6,A
14B3 A3                INC     DPTR
14B4 E0                MOVX    A,@DPTR
14B5 FF                MOV     R7,A
14B6 7400        E     MOV     A,#LOW g_mem+03H
14B8 2500        R     ADD     A,i
14BA F582              MOV     DPL,A
14BC E4                CLR     A
14BD 3400        E     ADDC    A,#HIGH g_mem+03H
14BF F583              MOV     DPH,A
14C1 E0                MOVX    A,@DPTR
14C2 F9                MOV     R1,A
14C3 F8                MOV     R0,A
14C4 120000      E     LCALL   ?C?LSHL
14C7 D082              POP     DPL
14C9 D083              POP     DPH
14CB 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 762
14CE 0500        R     INC     i
14D0 020000      R     LJMP    ?C0195
                                           ; SOURCE LINE # 763
                                           ; SOURCE LINE # 766
14D3         ?C0198:
                                           ; SOURCE LINE # 767
14D3 900000      E     MOV     DPTR,#g_rx+03H
14D6 E0                MOVX    A,@DPTR
14D7 FC                MOV     R4,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 97  

14D8 A3                INC     DPTR
14D9 E0                MOVX    A,@DPTR
14DA FD                MOV     R5,A
14DB A3                INC     DPTR
14DC E0                MOVX    A,@DPTR
14DD FE                MOV     R6,A
14DE A3                INC     DPTR
14DF E0                MOVX    A,@DPTR
14E0 FF                MOV     R7,A
14E1 900000      R     MOV     DPTR,#aux_int
14E4 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 768
14E7 E4                CLR     A
14E8 FF                MOV     R7,A
14E9 FE                MOV     R6,A
14EA FD                MOV     R5,A
14EB FC                MOV     R4,A
14EC 900000      R     MOV     DPTR,#aux_int
14EF E0                MOVX    A,@DPTR
14F0 F8                MOV     R0,A
14F1 A3                INC     DPTR
14F2 E0                MOVX    A,@DPTR
14F3 F9                MOV     R1,A
14F4 A3                INC     DPTR
14F5 E0                MOVX    A,@DPTR
14F6 FA                MOV     R2,A
14F7 A3                INC     DPTR
14F8 E0                MOVX    A,@DPTR
14F9 FB                MOV     R3,A
14FA D3                SETB    C
14FB 120000      E     LCALL   ?C?SLCMP
14FE 5014              JNC     ?C0199
                                           ; SOURCE LINE # 769
1500 900000      R     MOV     DPTR,#aux_int
1503 E0                MOVX    A,@DPTR
1504 FC                MOV     R4,A
1505 A3                INC     DPTR
1506 E0                MOVX    A,@DPTR
1507 FD                MOV     R5,A
1508 A3                INC     DPTR
1509 E0                MOVX    A,@DPTR
150A FE                MOV     R6,A
150B A3                INC     DPTR
150C E0                MOVX    A,@DPTR
150D FF                MOV     R7,A
150E 900000      E     MOV     DPTR,#g_mem+033H
1511 120000      E     LCALL   ?C?LSTXDATA
1514         ?C0199:
                                           ; SOURCE LINE # 771
1514 900000      E     MOV     DPTR,#g_rx+07H
1517 E0                MOVX    A,@DPTR
1518 FC                MOV     R4,A
1519 A3                INC     DPTR
151A E0                MOVX    A,@DPTR
151B FD                MOV     R5,A
151C A3                INC     DPTR
151D E0                MOVX    A,@DPTR
151E FE                MOV     R6,A
151F A3                INC     DPTR
1520 E0                MOVX    A,@DPTR
1521 FF                MOV     R7,A
1522 900000      R     MOV     DPTR,#aux_int
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 98  

1525 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 772
1528 E4                CLR     A
1529 FF                MOV     R7,A
152A FE                MOV     R6,A
152B FD                MOV     R5,A
152C FC                MOV     R4,A
152D 900000      R     MOV     DPTR,#aux_int
1530 E0                MOVX    A,@DPTR
1531 F8                MOV     R0,A
1532 A3                INC     DPTR
1533 E0                MOVX    A,@DPTR
1534 F9                MOV     R1,A
1535 A3                INC     DPTR
1536 E0                MOVX    A,@DPTR
1537 FA                MOV     R2,A
1538 A3                INC     DPTR
1539 E0                MOVX    A,@DPTR
153A FB                MOV     R3,A
153B C3                CLR     C
153C 120000      E     LCALL   ?C?SLCMP
153F 5003              JNC     $ + 5H
1541 020000      R     LJMP    ?C0231
                                           ; SOURCE LINE # 773
1544 900000      R     MOV     DPTR,#aux_int
1547 E0                MOVX    A,@DPTR
1548 FC                MOV     R4,A
1549 A3                INC     DPTR
154A E0                MOVX    A,@DPTR
154B FD                MOV     R5,A
154C A3                INC     DPTR
154D E0                MOVX    A,@DPTR
154E FE                MOV     R6,A
154F A3                INC     DPTR
1550 E0                MOVX    A,@DPTR
1551 FF                MOV     R7,A
1552 900000      E     MOV     DPTR,#g_mem+02FH
1555 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 775
1558 22                RET     
                                           ; SOURCE LINE # 778
1559         ?C0201:
                                           ; SOURCE LINE # 779
1559 900000      E     MOV     DPTR,#g_rx+03H
155C E0                MOVX    A,@DPTR
155D 900000      E     MOV     DPTR,#g_mem+03BH
1560 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 780
1561 22                RET     
                                           ; SOURCE LINE # 783
1562         ?C0202:
                                           ; SOURCE LINE # 784
1562 900000      E     MOV     DPTR,#g_rx+03H
1565 E0                MOVX    A,@DPTR
1566 FF                MOV     R7,A
1567 A3                INC     DPTR
1568 E0                MOVX    A,@DPTR
1569 900000      E     MOV     DPTR,#g_mem+037H
156C CF                XCH     A,R7
156D F0                MOVX    @DPTR,A
156E A3                INC     DPTR
156F EF                MOV     A,R7
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 99  

1570 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 785
1571 900000      E     MOV     DPTR,#g_rx+05H
1574 E0                MOVX    A,@DPTR
1575 FF                MOV     R7,A
1576 A3                INC     DPTR
1577 E0                MOVX    A,@DPTR
1578 900000      E     MOV     DPTR,#g_mem+039H
157B CF                XCH     A,R7
157C F0                MOVX    @DPTR,A
157D A3                INC     DPTR
157E EF                MOV     A,R7
157F F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 786
1580 22                RET     
                                           ; SOURCE LINE # 789
1581         ?C0203:
                                           ; SOURCE LINE # 790
1581 900000      E     MOV     DPTR,#g_rx+03H
1584 E0                MOVX    A,@DPTR
1585 FC                MOV     R4,A
1586 A3                INC     DPTR
1587 E0                MOVX    A,@DPTR
1588 FD                MOV     R5,A
1589 A3                INC     DPTR
158A E0                MOVX    A,@DPTR
158B FE                MOV     R6,A
158C A3                INC     DPTR
158D E0                MOVX    A,@DPTR
158E FF                MOV     R7,A
158F 900000      E     MOV     DPTR,#g_mem+03CH
1592 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 791
1595 900000      E     MOV     DPTR,#g_rx+07H
1598 E0                MOVX    A,@DPTR
1599 FC                MOV     R4,A
159A A3                INC     DPTR
159B E0                MOVX    A,@DPTR
159C FD                MOV     R5,A
159D A3                INC     DPTR
159E E0                MOVX    A,@DPTR
159F FE                MOV     R6,A
15A0 A3                INC     DPTR
15A1 E0                MOVX    A,@DPTR
15A2 FF                MOV     R7,A
15A3 900000      E     MOV     DPTR,#g_mem+040H
15A6 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 792
15A9 22                RET     
                                           ; SOURCE LINE # 795
15AA         ?C0204:
                                           ; SOURCE LINE # 796
15AA 900000      E     MOV     DPTR,#g_rx+03H
15AD E0                MOVX    A,@DPTR
15AE 900000      E     MOV     DPTR,#g_mem+044H
15B1 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 797
15B2 22                RET     
                                           ; SOURCE LINE # 800
15B3         ?C0205:
                                           ; SOURCE LINE # 801
15B3 900000      E     MOV     DPTR,#g_rx+03H
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 100 

15B6 E0                MOVX    A,@DPTR
15B7 900000      E     MOV     DPTR,#g_mem+045H
15BA F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 802
15BB 22                RET     
                                           ; SOURCE LINE # 804
15BC         ?C0206:
                                           ; SOURCE LINE # 805
15BC 900000      E     MOV     DPTR,#g_rx+03H
15BF E0                MOVX    A,@DPTR
15C0 FF                MOV     R7,A
15C1 A3                INC     DPTR
15C2 E0                MOVX    A,@DPTR
15C3 900000      E     MOV     DPTR,#g_mem+06BH
15C6 CF                XCH     A,R7
15C7 F0                MOVX    @DPTR,A
15C8 A3                INC     DPTR
15C9 EF                MOV     A,R7
15CA F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 806
15CB 22                RET     
                                           ; SOURCE LINE # 808
15CC         ?C0207:
                                           ; SOURCE LINE # 809
15CC 900000      E     MOV     DPTR,#g_rx+03H
15CF E0                MOVX    A,@DPTR
15D0 FF                MOV     R7,A
15D1 A3                INC     DPTR
15D2 E0                MOVX    A,@DPTR
15D3 900000      E     MOV     DPTR,#g_mem+06DH
15D6 CF                XCH     A,R7
15D7 F0                MOVX    @DPTR,A
15D8 A3                INC     DPTR
15D9 EF                MOV     A,R7
15DA F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 810
15DB 22                RET     
                                           ; SOURCE LINE # 812
15DC         ?C0208:
                                           ; SOURCE LINE # 813
15DC 900000      E     MOV     DPTR,#g_rx+03H
15DF E0                MOVX    A,@DPTR
15E0 900000      R     MOV     DPTR,#aux_uchar
15E3 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 814
15E4 6007              JZ      ?C0209
                                           ; SOURCE LINE # 815
15E6 900000      E     MOV     DPTR,#g_mem+056H
15E9 7401              MOV     A,#01H
15EB F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 816
15EC 22                RET     
15ED         ?C0209:
                                           ; SOURCE LINE # 817
15ED E4                CLR     A
15EE 900000      E     MOV     DPTR,#g_mem+056H
15F1 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 818
                                           ; SOURCE LINE # 819
15F2 22                RET     
                                           ; SOURCE LINE # 821
15F3         ?C0211:
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 101 

                                           ; SOURCE LINE # 822
15F3 900000      E     MOV     DPTR,#g_rx+03H
15F6 E0                MOVX    A,@DPTR
15F7 900000      E     MOV     DPTR,#g_mem+047H
15FA F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 823
15FB 22                RET     
                                           ; SOURCE LINE # 825
15FC         ?C0212:
                                           ; SOURCE LINE # 826
15FC 900000      E     MOV     DPTR,#g_rx+03H
15FF E0                MOVX    A,@DPTR
1600 FC                MOV     R4,A
1601 A3                INC     DPTR
1602 E0                MOVX    A,@DPTR
1603 FD                MOV     R5,A
1604 A3                INC     DPTR
1605 E0                MOVX    A,@DPTR
1606 FE                MOV     R6,A
1607 A3                INC     DPTR
1608 E0                MOVX    A,@DPTR
1609 FF                MOV     R7,A
160A 900000      E     MOV     DPTR,#g_mem+048H
160D 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 827
1610 900000      E     MOV     DPTR,#g_mem+048H
1613 E0                MOVX    A,@DPTR
1614 FC                MOV     R4,A
1615 A3                INC     DPTR
1616 E0                MOVX    A,@DPTR
1617 FD                MOV     R5,A
1618 A3                INC     DPTR
1619 E0                MOVX    A,@DPTR
161A FE                MOV     R6,A
161B A3                INC     DPTR
161C E0                MOVX    A,@DPTR
161D FF                MOV     R7,A
161E 900000      E     MOV     DPTR,#g_mem+03H
1621 E0                MOVX    A,@DPTR
1622 F9                MOV     R1,A
1623 F8                MOV     R0,A
1624 120000      E     LCALL   ?C?LSHL
1627 900000      E     MOV     DPTR,#g_mem+048H
162A 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 828
162D 22                RET     
                                           ; SOURCE LINE # 830
162E         ?C0213:
                                           ; SOURCE LINE # 831
162E 900000      E     MOV     DPTR,#g_rx+03H
1631 E0                MOVX    A,@DPTR
1632 FC                MOV     R4,A
1633 A3                INC     DPTR
1634 E0                MOVX    A,@DPTR
1635 FD                MOV     R5,A
1636 A3                INC     DPTR
1637 E0                MOVX    A,@DPTR
1638 FE                MOV     R6,A
1639 A3                INC     DPTR
163A E0                MOVX    A,@DPTR
163B FF                MOV     R7,A
163C 900000      E     MOV     DPTR,#g_mem+04CH
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 102 

163F 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 832
1642 E4                CLR     A
1643 7F0A              MOV     R7,#0AH
1645 FE                MOV     R6,A
1646 FD                MOV     R5,A
1647 FC                MOV     R4,A
1648 900000      E     MOV     DPTR,#g_mem+04CH
164B E0                MOVX    A,@DPTR
164C F8                MOV     R0,A
164D A3                INC     DPTR
164E E0                MOVX    A,@DPTR
164F F9                MOV     R1,A
1650 A3                INC     DPTR
1651 E0                MOVX    A,@DPTR
1652 FA                MOV     R2,A
1653 A3                INC     DPTR
1654 E0                MOVX    A,@DPTR
1655 FB                MOV     R3,A
1656 C3                CLR     C
1657 120000      E     LCALL   ?C?SLCMP
165A 4003              JC      $ + 5H
165C 020000      R     LJMP    ?C0231
165F E4                CLR     A
1660 7F0A              MOV     R7,#0AH
1662 FE                MOV     R6,A
1663 FD                MOV     R5,A
1664 FC                MOV     R4,A
1665 900000      E     MOV     DPTR,#g_mem+04CH
1668 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 833
166B 22                RET     
                                           ; SOURCE LINE # 835
166C         ?C0215:
                                           ; SOURCE LINE # 836
166C 900000      E     MOV     DPTR,#g_rx+03H
166F E0                MOVX    A,@DPTR
1670 FC                MOV     R4,A
1671 A3                INC     DPTR
1672 E0                MOVX    A,@DPTR
1673 FD                MOV     R5,A
1674 A3                INC     DPTR
1675 E0                MOVX    A,@DPTR
1676 FE                MOV     R6,A
1677 A3                INC     DPTR
1678 E0                MOVX    A,@DPTR
1679 FF                MOV     R7,A
167A 900000      E     MOV     DPTR,#g_mem+050H
167D 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 837
1680 22                RET     
                                           ; SOURCE LINE # 839
1681         ?C0216:
                                           ; SOURCE LINE # 840
1681 900000      E     MOV     DPTR,#g_rx+03H
1684 E0                MOVX    A,@DPTR
1685 FC                MOV     R4,A
1686 A3                INC     DPTR
1687 E0                MOVX    A,@DPTR
1688 FD                MOV     R5,A
1689 A3                INC     DPTR
168A E0                MOVX    A,@DPTR
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 103 

168B FE                MOV     R6,A
168C A3                INC     DPTR
168D E0                MOVX    A,@DPTR
168E FF                MOV     R7,A
168F 900000      E     MOV     DPTR,#g_mem+057H
1692 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 841
1695 22                RET     
                                           ; SOURCE LINE # 843
1696         ?C0217:
                                           ; SOURCE LINE # 844
1696 900000      E     MOV     DPTR,#g_rx+03H
1699 E0                MOVX    A,@DPTR
169A FF                MOV     R7,A
169B A3                INC     DPTR
169C E0                MOVX    A,@DPTR
169D 900000      E     MOV     DPTR,#g_mem+05BH
16A0 CF                XCH     A,R7
16A1 F0                MOVX    @DPTR,A
16A2 A3                INC     DPTR
16A3 EF                MOV     A,R7
16A4 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 845
16A5 22                RET     
                                           ; SOURCE LINE # 847
16A6         ?C0218:
                                           ; SOURCE LINE # 848
16A6 900000      E     MOV     DPTR,#g_rx+03H
16A9 E0                MOVX    A,@DPTR
16AA FF                MOV     R7,A
16AB A3                INC     DPTR
16AC E0                MOVX    A,@DPTR
16AD 900000      E     MOV     DPTR,#g_mem+05DH
16B0 CF                XCH     A,R7
16B1 F0                MOVX    @DPTR,A
16B2 A3                INC     DPTR
16B3 EF                MOV     A,R7
16B4 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 849
16B5 22                RET     
                                           ; SOURCE LINE # 851
16B6         ?C0219:
                                           ; SOURCE LINE # 852
16B6 900000      E     MOV     DPTR,#g_rx+03H
16B9 E0                MOVX    A,@DPTR
16BA FC                MOV     R4,A
16BB A3                INC     DPTR
16BC E0                MOVX    A,@DPTR
16BD FD                MOV     R5,A
16BE A3                INC     DPTR
16BF E0                MOVX    A,@DPTR
16C0 FE                MOV     R6,A
16C1 A3                INC     DPTR
16C2 E0                MOVX    A,@DPTR
16C3 FF                MOV     R7,A
16C4 900000      E     MOV     DPTR,#g_mem+05FH
16C7 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 853
16CA 22                RET     
                                           ; SOURCE LINE # 855
16CB         ?C0220:
                                           ; SOURCE LINE # 856
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 104 

16CB 900000      E     MOV     DPTR,#g_rx+03H
16CE E0                MOVX    A,@DPTR
16CF FC                MOV     R4,A
16D0 A3                INC     DPTR
16D1 E0                MOVX    A,@DPTR
16D2 FD                MOV     R5,A
16D3 A3                INC     DPTR
16D4 E0                MOVX    A,@DPTR
16D5 FE                MOV     R6,A
16D6 A3                INC     DPTR
16D7 E0                MOVX    A,@DPTR
16D8 FF                MOV     R7,A
16D9 900000      E     MOV     DPTR,#g_mem+063H
16DC 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 857
16DF 22                RET     
                                           ; SOURCE LINE # 859
16E0         ?C0221:
                                           ; SOURCE LINE # 860
16E0 900000      E     MOV     DPTR,#g_rx+03H
16E3 E0                MOVX    A,@DPTR
16E4 900000      R     MOV     DPTR,#aux_uchar
16E7 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 861
16E8 6007              JZ      ?C0222
                                           ; SOURCE LINE # 862
16EA 900000      E     MOV     DPTR,#g_mem+054H
16ED 7401              MOV     A,#01H
16EF F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 863
16F0 22                RET     
16F1         ?C0222:
                                           ; SOURCE LINE # 864
16F1 E4                CLR     A
16F2 900000      E     MOV     DPTR,#g_mem+054H
16F5 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 865
                                           ; SOURCE LINE # 866
16F6 22                RET     
                                           ; SOURCE LINE # 868
16F7         ?C0224:
                                           ; SOURCE LINE # 869
16F7 900000      E     MOV     DPTR,#g_rx+03H
16FA E0                MOVX    A,@DPTR
16FB 900000      R     MOV     DPTR,#aux_uchar
16FE F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 870
16FF 6007              JZ      ?C0225
                                           ; SOURCE LINE # 871
1701 900000      E     MOV     DPTR,#g_mem+055H
1704 7401              MOV     A,#01H
1706 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 872
1707 22                RET     
1708         ?C0225:
                                           ; SOURCE LINE # 873
1708 E4                CLR     A
1709 900000      E     MOV     DPTR,#g_mem+055H
170C F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 874
                                           ; SOURCE LINE # 875
170D 22                RET     
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 105 

                                           ; SOURCE LINE # 877
170E         ?C0227:
                                           ; SOURCE LINE # 878
170E 900000      E     MOV     DPTR,#g_rx+03H
1711 E0                MOVX    A,@DPTR
1712 900000      E     MOV     DPTR,#g_mem+067H
1715 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 879
1716 22                RET     
                                           ; SOURCE LINE # 881
1717         ?C0228:
                                           ; SOURCE LINE # 882
1717 900000      E     MOV     DPTR,#g_rx+03H
171A E0                MOVX    A,@DPTR
171B 900000      E     MOV     DPTR,#g_mem+068H
171E F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 883
171F 22                RET     
                                           ; SOURCE LINE # 885
1720         ?C0229:
                                           ; SOURCE LINE # 886
1720 900000      E     MOV     DPTR,#g_rx+03H
1723 E0                MOVX    A,@DPTR
1724 900000      E     MOV     DPTR,#g_mem+069H
1727 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 887
1728 22                RET     
                                           ; SOURCE LINE # 889
1729         ?C0230:
                                           ; SOURCE LINE # 890
1729 900000      E     MOV     DPTR,#g_rx+03H
172C E0                MOVX    A,@DPTR
172D 900000      E     MOV     DPTR,#g_mem+06AH
1730 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 891
                                           ; SOURCE LINE # 892
                                           ; SOURCE LINE # 893
1731         ?C0231:
1731 22                RET     
             ; FUNCTION _get_param_list (END)

             ; FUNCTION setZeros (BEGIN)
                                           ; SOURCE LINE # 899
                                           ; SOURCE LINE # 900
                                           ; SOURCE LINE # 903
0000 E4                CLR     A
0001 F500        R     MOV     i,A
0003         ?C0232:
0003 E500        R     MOV     A,i
0005 C3                CLR     C
0006 9403              SUBB    A,#03H
0008 5071              JNC     ?C0233
                                           ; SOURCE LINE # 904
000A E500        R     MOV     A,i
000C 25E0              ADD     A,ACC
000E 2400        E     ADD     A,#LOW g_rx+01H
0010 F582              MOV     DPL,A
0012 E4                CLR     A
0013 3400        E     ADDC    A,#HIGH g_rx+01H
0015 F583              MOV     DPH,A
0017 E0                MOVX    A,@DPTR
0018 FE                MOV     R6,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 106 

0019 A3                INC     DPTR
001A E0                MOVX    A,@DPTR
001B FF                MOV     R7,A
001C EE                MOV     A,R6
001D 33                RLC     A
001E 95E0              SUBB    A,ACC
0020 FD                MOV     R5,A
0021 FC                MOV     R4,A
0022 E500        R     MOV     A,i
0024 25E0              ADD     A,ACC
0026 25E0              ADD     A,ACC
0028 2400        E     ADD     A,#LOW g_mem+06H
002A F582              MOV     DPL,A
002C E4                CLR     A
002D 3400        E     ADDC    A,#HIGH g_mem+06H
002F F583              MOV     DPH,A
0031 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 905
0034 E500        R     MOV     A,i
0036 25E0              ADD     A,ACC
0038 25E0              ADD     A,ACC
003A 2400        E     ADD     A,#LOW g_mem+06H
003C F582              MOV     DPL,A
003E E4                CLR     A
003F 3400        E     ADDC    A,#HIGH g_mem+06H
0041 F583              MOV     DPH,A
0043 C083              PUSH    DPH
0045 C082              PUSH    DPL
0047 E0                MOVX    A,@DPTR
0048 FC                MOV     R4,A
0049 A3                INC     DPTR
004A E0                MOVX    A,@DPTR
004B FD                MOV     R5,A
004C A3                INC     DPTR
004D E0                MOVX    A,@DPTR
004E FE                MOV     R6,A
004F A3                INC     DPTR
0050 E0                MOVX    A,@DPTR
0051 FF                MOV     R7,A
0052 7400        E     MOV     A,#LOW g_mem+03H
0054 2500        R     ADD     A,i
0056 F582              MOV     DPL,A
0058 E4                CLR     A
0059 3400        E     ADDC    A,#HIGH g_mem+03H
005B F583              MOV     DPH,A
005D E0                MOVX    A,@DPTR
005E F9                MOV     R1,A
005F F8                MOV     R0,A
0060 120000      E     LCALL   ?C?LSHL
0063 D082              POP     DPL
0065 D083              POP     DPH
0067 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 907
006A 7400        E     MOV     A,#LOW g_meas+0CH
006C 2500        R     ADD     A,i
006E F582              MOV     DPL,A
0070 E4                CLR     A
0071 3400        E     ADDC    A,#HIGH g_meas+0CH
0073 F583              MOV     DPH,A
0075 E4                CLR     A
0076 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 908
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 107 

0077 0500        R     INC     i
0079 8088              SJMP    ?C0232
007B         ?C0233:
                                           ; SOURCE LINE # 909
007B D200        E     SETB    reset_last_value_flag
                                           ; SOURCE LINE # 911
007D 7F01              MOV     R7,#01H
007F 120000      R     LCALL   _sendAcknowledgment
                                           ; SOURCE LINE # 912
0082 22                RET     
             ; FUNCTION setZeros (END)

             ; FUNCTION _infoPrepare (BEGIN)
                                           ; SOURCE LINE # 918
0000 900000      R     MOV     DPTR,#info_string
0003 EB                MOV     A,R3
0004 F0                MOVX    @DPTR,A
0005 A3                INC     DPTR
0006 EA                MOV     A,R2
0007 F0                MOVX    @DPTR,A
0008 A3                INC     DPTR
0009 E9                MOV     A,R1
000A F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 919
                                           ; SOURCE LINE # 921
000B 900000      E     MOV     DPTR,#c_mem+01H
000E E0                MOVX    A,@DPTR
000F 64FA              XRL     A,#0FAH
0011 7003              JNZ     $ + 5H
0013 020000      R     LJMP    ?C0268
                                           ; SOURCE LINE # 923
0016 900000      R     MOV     DPTR,#info_string
0019 E0                MOVX    A,@DPTR
001A FB                MOV     R3,A
001B A3                INC     DPTR
001C E0                MOVX    A,@DPTR
001D FA                MOV     R2,A
001E A3                INC     DPTR
001F E0                MOVX    A,@DPTR
0020 F8                MOV     R0,A
0021 AC02              MOV     R4,AR2
0023 AD03              MOV     R5,AR3
0025 7BFF              MOV     R3,#0FFH
0027 7A00        R     MOV     R2,#HIGH ?SC_117
0029 7900        R     MOV     R1,#LOW ?SC_117
002B 120000      E     LCALL   ?C?STRCPYAMD
                                           ; SOURCE LINE # 924
002E 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0031 74FF              MOV     A,#0FFH
0033 F0                MOVX    @DPTR,A
0034 A3                INC     DPTR
0035 7400        R     MOV     A,#HIGH ?SC_118
0037 F0                MOVX    @DPTR,A
0038 A3                INC     DPTR
0039 7400        R     MOV     A,#LOW ?SC_118
003B F0                MOVX    @DPTR,A
003C 900000      R     MOV     DPTR,#info_string
003F E0                MOVX    A,@DPTR
0040 FB                MOV     R3,A
0041 A3                INC     DPTR
0042 E0                MOVX    A,@DPTR
0043 FA                MOV     R2,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 108 

0044 A3                INC     DPTR
0045 E0                MOVX    A,@DPTR
0046 F9                MOV     R1,A
0047 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 925
004A 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
004D 74FF              MOV     A,#0FFH
004F F0                MOVX    @DPTR,A
0050 A3                INC     DPTR
0051 7400        R     MOV     A,#HIGH ?SC_121
0053 F0                MOVX    @DPTR,A
0054 A3                INC     DPTR
0055 7400        R     MOV     A,#LOW ?SC_121
0057 F0                MOVX    @DPTR,A
0058 900000      R     MOV     DPTR,#info_string
005B E0                MOVX    A,@DPTR
005C FB                MOV     R3,A
005D A3                INC     DPTR
005E E0                MOVX    A,@DPTR
005F FA                MOV     R2,A
0060 A3                INC     DPTR
0061 E0                MOVX    A,@DPTR
0062 F9                MOV     R1,A
0063 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 926
0066 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0069 74FF              MOV     A,#0FFH
006B F0                MOVX    @DPTR,A
006C A3                INC     DPTR
006D 7400        R     MOV     A,#HIGH ?SC_140
006F F0                MOVX    @DPTR,A
0070 A3                INC     DPTR
0071 7400        R     MOV     A,#LOW ?SC_140
0073 F0                MOVX    @DPTR,A
0074 900000      R     MOV     DPTR,#info_string
0077 E0                MOVX    A,@DPTR
0078 FB                MOV     R3,A
0079 A3                INC     DPTR
007A E0                MOVX    A,@DPTR
007B FA                MOV     R2,A
007C A3                INC     DPTR
007D E0                MOVX    A,@DPTR
007E F9                MOV     R1,A
007F 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 927
0082 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0085 74FF              MOV     A,#0FFH
0087 F0                MOVX    @DPTR,A
0088 A3                INC     DPTR
0089 7400        R     MOV     A,#HIGH ?SC_192
008B F0                MOVX    @DPTR,A
008C A3                INC     DPTR
008D 7400        R     MOV     A,#LOW ?SC_192
008F F0                MOVX    @DPTR,A
0090 900000      R     MOV     DPTR,#info_string
0093 E0                MOVX    A,@DPTR
0094 FB                MOV     R3,A
0095 A3                INC     DPTR
0096 E0                MOVX    A,@DPTR
0097 FA                MOV     R2,A
0098 A3                INC     DPTR
0099 E0                MOVX    A,@DPTR
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 109 

009A F9                MOV     R1,A
009B 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 929
009E 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
00A1 74FF              MOV     A,#0FFH
00A3 F0                MOVX    @DPTR,A
00A4 A3                INC     DPTR
00A5 7400        R     MOV     A,#HIGH ?SC_198
00A7 F0                MOVX    @DPTR,A
00A8 A3                INC     DPTR
00A9 7400        R     MOV     A,#LOW ?SC_198
00AB F0                MOVX    @DPTR,A
00AC 900000      R     MOV     DPTR,#info_string
00AF E0                MOVX    A,@DPTR
00B0 FB                MOV     R3,A
00B1 A3                INC     DPTR
00B2 E0                MOVX    A,@DPTR
00B3 FA                MOV     R2,A
00B4 A3                INC     DPTR
00B5 E0                MOVX    A,@DPTR
00B6 F9                MOV     R1,A
00B7 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 930
00BA 900000      E     MOV     DPTR,#?_sprintf?BYTE+03H
00BD 74FF              MOV     A,#0FFH
00BF F0                MOVX    @DPTR,A
00C0 A3                INC     DPTR
00C1 7400        R     MOV     A,#HIGH ?SC_212
00C3 F0                MOVX    @DPTR,A
00C4 A3                INC     DPTR
00C5 7400        R     MOV     A,#LOW ?SC_212
00C7 F0                MOVX    @DPTR,A
00C8 900000      E     MOV     DPTR,#c_mem+01H
00CB E0                MOVX    A,@DPTR
00CC FF                MOV     R7,A
00CD 900000      E     MOV     DPTR,#?_sprintf?BYTE+06H
00D0 E4                CLR     A
00D1 F0                MOVX    @DPTR,A
00D2 A3                INC     DPTR
00D3 EF                MOV     A,R7
00D4 F0                MOVX    @DPTR,A
00D5 7B01              MOV     R3,#01H
00D7 7A00        R     MOV     R2,#HIGH str
00D9 7900        R     MOV     R1,#LOW str
00DB 120000      E     LCALL   _sprintf
                                           ; SOURCE LINE # 931
00DE 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
00E1 7401              MOV     A,#01H
00E3 F0                MOVX    @DPTR,A
00E4 A3                INC     DPTR
00E5 7400        R     MOV     A,#HIGH str
00E7 F0                MOVX    @DPTR,A
00E8 A3                INC     DPTR
00E9 7400        R     MOV     A,#LOW str
00EB F0                MOVX    @DPTR,A
00EC 900000      R     MOV     DPTR,#info_string
00EF E0                MOVX    A,@DPTR
00F0 FB                MOV     R3,A
00F1 A3                INC     DPTR
00F2 E0                MOVX    A,@DPTR
00F3 FA                MOV     R2,A
00F4 A3                INC     DPTR
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 110 

00F5 E0                MOVX    A,@DPTR
00F6 F9                MOV     R1,A
00F7 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 933
00FA 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
00FD 74FF              MOV     A,#0FFH
00FF F0                MOVX    @DPTR,A
0100 A3                INC     DPTR
0101 7400        R     MOV     A,#HIGH ?SC_221
0103 F0                MOVX    @DPTR,A
0104 A3                INC     DPTR
0105 7400        R     MOV     A,#LOW ?SC_221
0107 F0                MOVX    @DPTR,A
0108 900000      R     MOV     DPTR,#info_string
010B E0                MOVX    A,@DPTR
010C FB                MOV     R3,A
010D A3                INC     DPTR
010E E0                MOVX    A,@DPTR
010F FA                MOV     R2,A
0110 A3                INC     DPTR
0111 E0                MOVX    A,@DPTR
0112 F9                MOV     R1,A
0113 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 934
0116 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0119 74FF              MOV     A,#0FFH
011B F0                MOVX    @DPTR,A
011C A3                INC     DPTR
011D 7400        R     MOV     A,#HIGH ?SC_243
011F F0                MOVX    @DPTR,A
0120 A3                INC     DPTR
0121 7400        R     MOV     A,#LOW ?SC_243
0123 F0                MOVX    @DPTR,A
0124 900000      R     MOV     DPTR,#info_string
0127 E0                MOVX    A,@DPTR
0128 FB                MOV     R3,A
0129 A3                INC     DPTR
012A E0                MOVX    A,@DPTR
012B FA                MOV     R2,A
012C A3                INC     DPTR
012D E0                MOVX    A,@DPTR
012E F9                MOV     R1,A
012F 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 935
0132 E4                CLR     A
0133 900000      R     MOV     DPTR,#i
0136 F0                MOVX    @DPTR,A
0137 A3                INC     DPTR
0138 F0                MOVX    @DPTR,A
0139         ?C0237:
0139 C3                CLR     C
013A 900000      R     MOV     DPTR,#i+01H
013D E0                MOVX    A,@DPTR
013E 9403              SUBB    A,#03H
0140 900000      R     MOV     DPTR,#i
0143 E0                MOVX    A,@DPTR
0144 6480              XRL     A,#080H
0146 9480              SUBB    A,#080H
0148 4003              JC      $ + 5H
014A 020000      R     LJMP    ?C0238
                                           ; SOURCE LINE # 937
014D 900000      E     MOV     DPTR,#?_sprintf?BYTE+03H
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 111 

0150 74FF              MOV     A,#0FFH
0152 F0                MOVX    @DPTR,A
0153 A3                INC     DPTR
0154 7400        R     MOV     A,#HIGH ?SC_259
0156 F0                MOVX    @DPTR,A
0157 A3                INC     DPTR
0158 7400        R     MOV     A,#LOW ?SC_259
015A F0                MOVX    @DPTR,A
015B 900000      R     MOV     DPTR,#i
015E E0                MOVX    A,@DPTR
015F FC                MOV     R4,A
0160 A3                INC     DPTR
0161 E0                MOVX    A,@DPTR
0162 FD                MOV     R5,A
0163 2401              ADD     A,#01H
0165 FE                MOV     R6,A
0166 E4                CLR     A
0167 3C                ADDC    A,R4
0168 900000      E     MOV     DPTR,#?_sprintf?BYTE+06H
016B F0                MOVX    @DPTR,A
016C A3                INC     DPTR
016D CE                XCH     A,R6
016E F0                MOVX    @DPTR,A
016F ED                MOV     A,R5
0170 AE04              MOV     R6,AR4
0172 7802              MOV     R0,#02H
0174         ?C0382:
0174 C3                CLR     C
0175 33                RLC     A
0176 CE                XCH     A,R6
0177 33                RLC     A
0178 CE                XCH     A,R6
0179 D8F9              DJNZ    R0,?C0382
017B 2400        E     ADD     A,#LOW g_meas
017D F582              MOV     DPL,A
017F 7400        E     MOV     A,#HIGH g_meas
0181 3E                ADDC    A,R6
0182 F583              MOV     DPH,A
0184 E0                MOVX    A,@DPTR
0185 FC                MOV     R4,A
0186 A3                INC     DPTR
0187 E0                MOVX    A,@DPTR
0188 FD                MOV     R5,A
0189 A3                INC     DPTR
018A E0                MOVX    A,@DPTR
018B FE                MOV     R6,A
018C A3                INC     DPTR
018D E0                MOVX    A,@DPTR
018E FF                MOV     R7,A
018F 900000      R     MOV     DPTR,#i
0192 E0                MOVX    A,@DPTR
0193 FA                MOV     R2,A
0194 A3                INC     DPTR
0195 E0                MOVX    A,@DPTR
0196 2400        E     ADD     A,#LOW c_mem+03H
0198 F582              MOV     DPL,A
019A 7400        E     MOV     A,#HIGH c_mem+03H
019C 3A                ADDC    A,R2
019D F583              MOV     DPH,A
019F E0                MOVX    A,@DPTR
01A0 F9                MOV     R1,A
01A1 F8                MOV     R0,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 112 

01A2 120000      E     LCALL   ?C?SLSHR
01A5 900000      E     MOV     DPTR,#?_sprintf?BYTE+08H
01A8 EE                MOV     A,R6
01A9 F0                MOVX    @DPTR,A
01AA A3                INC     DPTR
01AB EF                MOV     A,R7
01AC F0                MOVX    @DPTR,A
01AD 7B01              MOV     R3,#01H
01AF 7A00        R     MOV     R2,#HIGH str
01B1 7900        R     MOV     R1,#LOW str
01B3 120000      E     LCALL   _sprintf
                                           ; SOURCE LINE # 938
01B6 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
01B9 7401              MOV     A,#01H
01BB F0                MOVX    @DPTR,A
01BC A3                INC     DPTR
01BD 7400        R     MOV     A,#HIGH str
01BF F0                MOVX    @DPTR,A
01C0 A3                INC     DPTR
01C1 7400        R     MOV     A,#LOW str
01C3 F0                MOVX    @DPTR,A
01C4 900000      R     MOV     DPTR,#info_string
01C7 E0                MOVX    A,@DPTR
01C8 FB                MOV     R3,A
01C9 A3                INC     DPTR
01CA E0                MOVX    A,@DPTR
01CB FA                MOV     R2,A
01CC A3                INC     DPTR
01CD E0                MOVX    A,@DPTR
01CE F9                MOV     R1,A
01CF 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 939
01D2 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
01D5 74FF              MOV     A,#0FFH
01D7 F0                MOVX    @DPTR,A
01D8 A3                INC     DPTR
01D9 7400        R     MOV     A,#HIGH ?SC_118
01DB F0                MOVX    @DPTR,A
01DC A3                INC     DPTR
01DD 7400        R     MOV     A,#LOW ?SC_118
01DF F0                MOVX    @DPTR,A
01E0 900000      R     MOV     DPTR,#info_string
01E3 E0                MOVX    A,@DPTR
01E4 FB                MOV     R3,A
01E5 A3                INC     DPTR
01E6 E0                MOVX    A,@DPTR
01E7 FA                MOV     R2,A
01E8 A3                INC     DPTR
01E9 E0                MOVX    A,@DPTR
01EA F9                MOV     R1,A
01EB 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 940
01EE 900000      R     MOV     DPTR,#i+01H
01F1 E0                MOVX    A,@DPTR
01F2 04                INC     A
01F3 F0                MOVX    @DPTR,A
01F4 7006              JNZ     ?C0383
01F6 900000      R     MOV     DPTR,#i
01F9 E0                MOVX    A,@DPTR
01FA 04                INC     A
01FB F0                MOVX    @DPTR,A
01FC         ?C0383:
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 113 

01FC 020000      R     LJMP    ?C0237
01FF         ?C0238:
                                           ; SOURCE LINE # 942
01FF 900000      E     MOV     DPTR,#?_sprintf?BYTE+03H
0202 74FF              MOV     A,#0FFH
0204 F0                MOVX    @DPTR,A
0205 A3                INC     DPTR
0206 7400        R     MOV     A,#HIGH ?SC_268
0208 F0                MOVX    @DPTR,A
0209 A3                INC     DPTR
020A 7400        R     MOV     A,#LOW ?SC_268
020C F0                MOVX    @DPTR,A
020D 900000      E     MOV     DPTR,#dev_tension
0210 E0                MOVX    A,@DPTR
0211 FC                MOV     R4,A
0212 A3                INC     DPTR
0213 E0                MOVX    A,@DPTR
0214 FD                MOV     R5,A
0215 A3                INC     DPTR
0216 E0                MOVX    A,@DPTR
0217 FE                MOV     R6,A
0218 A3                INC     DPTR
0219 E0                MOVX    A,@DPTR
021A FF                MOV     R7,A
021B 900000      E     MOV     DPTR,#?_sprintf?BYTE+06H
021E 120000      E     LCALL   ?C?LSTXDATA
0221 7B01              MOV     R3,#01H
0223 7A00        R     MOV     R2,#HIGH str
0225 7900        R     MOV     R1,#LOW str
0227 120000      E     LCALL   _sprintf
                                           ; SOURCE LINE # 943
022A 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
022D 7401              MOV     A,#01H
022F F0                MOVX    @DPTR,A
0230 A3                INC     DPTR
0231 7400        R     MOV     A,#HIGH str
0233 F0                MOVX    @DPTR,A
0234 A3                INC     DPTR
0235 7400        R     MOV     A,#LOW str
0237 F0                MOVX    @DPTR,A
0238 900000      R     MOV     DPTR,#info_string
023B E0                MOVX    A,@DPTR
023C FB                MOV     R3,A
023D A3                INC     DPTR
023E E0                MOVX    A,@DPTR
023F FA                MOV     R2,A
0240 A3                INC     DPTR
0241 E0                MOVX    A,@DPTR
0242 F9                MOV     R1,A
0243 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 944
0246 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0249 74FF              MOV     A,#0FFH
024B F0                MOVX    @DPTR,A
024C A3                INC     DPTR
024D 7400        R     MOV     A,#HIGH ?SC_118
024F F0                MOVX    @DPTR,A
0250 A3                INC     DPTR
0251 7400        R     MOV     A,#LOW ?SC_118
0253 F0                MOVX    @DPTR,A
0254 900000      R     MOV     DPTR,#info_string
0257 E0                MOVX    A,@DPTR
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 114 

0258 FB                MOV     R3,A
0259 A3                INC     DPTR
025A E0                MOVX    A,@DPTR
025B FA                MOV     R2,A
025C A3                INC     DPTR
025D E0                MOVX    A,@DPTR
025E F9                MOV     R1,A
025F 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 946
0262 900000      E     MOV     DPTR,#?_sprintf?BYTE+03H
0265 74FF              MOV     A,#0FFH
0267 F0                MOVX    @DPTR,A
0268 A3                INC     DPTR
0269 7400        R     MOV     A,#HIGH ?SC_294
026B F0                MOVX    @DPTR,A
026C A3                INC     DPTR
026D 7400        R     MOV     A,#LOW ?SC_294
026F F0                MOVX    @DPTR,A
0270 900000      E     MOV     DPTR,#pow_tension
0273 E0                MOVX    A,@DPTR
0274 FC                MOV     R4,A
0275 A3                INC     DPTR
0276 E0                MOVX    A,@DPTR
0277 FD                MOV     R5,A
0278 A3                INC     DPTR
0279 E0                MOVX    A,@DPTR
027A FE                MOV     R6,A
027B A3                INC     DPTR
027C E0                MOVX    A,@DPTR
027D FF                MOV     R7,A
027E 900000      E     MOV     DPTR,#?_sprintf?BYTE+06H
0281 120000      E     LCALL   ?C?LSTXDATA
0284 7B01              MOV     R3,#01H
0286 7A00        R     MOV     R2,#HIGH str
0288 7900        R     MOV     R1,#LOW str
028A 120000      E     LCALL   _sprintf
                                           ; SOURCE LINE # 947
028D 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0290 7401              MOV     A,#01H
0292 F0                MOVX    @DPTR,A
0293 A3                INC     DPTR
0294 7400        R     MOV     A,#HIGH str
0296 F0                MOVX    @DPTR,A
0297 A3                INC     DPTR
0298 7400        R     MOV     A,#LOW str
029A F0                MOVX    @DPTR,A
029B 900000      R     MOV     DPTR,#info_string
029E E0                MOVX    A,@DPTR
029F FB                MOV     R3,A
02A0 A3                INC     DPTR
02A1 E0                MOVX    A,@DPTR
02A2 FA                MOV     R2,A
02A3 A3                INC     DPTR
02A4 E0                MOVX    A,@DPTR
02A5 F9                MOV     R1,A
02A6 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 948
02A9 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
02AC 74FF              MOV     A,#0FFH
02AE F0                MOVX    @DPTR,A
02AF A3                INC     DPTR
02B0 7400        R     MOV     A,#HIGH ?SC_118
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 115 

02B2 F0                MOVX    @DPTR,A
02B3 A3                INC     DPTR
02B4 7400        R     MOV     A,#LOW ?SC_118
02B6 F0                MOVX    @DPTR,A
02B7 900000      R     MOV     DPTR,#info_string
02BA E0                MOVX    A,@DPTR
02BB FB                MOV     R3,A
02BC A3                INC     DPTR
02BD E0                MOVX    A,@DPTR
02BE FA                MOV     R2,A
02BF A3                INC     DPTR
02C0 E0                MOVX    A,@DPTR
02C1 F9                MOV     R1,A
02C2 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 950
02C5 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
02C8 74FF              MOV     A,#0FFH
02CA F0                MOVX    @DPTR,A
02CB A3                INC     DPTR
02CC 7400        R     MOV     A,#HIGH ?SC_330
02CE F0                MOVX    @DPTR,A
02CF A3                INC     DPTR
02D0 7400        R     MOV     A,#LOW ?SC_330
02D2 F0                MOVX    @DPTR,A
02D3 900000      R     MOV     DPTR,#info_string
02D6 E0                MOVX    A,@DPTR
02D7 FB                MOV     R3,A
02D8 A3                INC     DPTR
02D9 E0                MOVX    A,@DPTR
02DA FA                MOV     R2,A
02DB A3                INC     DPTR
02DC E0                MOVX    A,@DPTR
02DD F9                MOV     R1,A
02DE 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 952
02E1 900000      E     MOV     DPTR,#c_mem+02H
02E4 E0                MOVX    A,@DPTR
02E5 B40700            CJNE    A,#07H,?C0384
02E8         ?C0384:
02E8 4003              JC      $ + 5H
02EA 020000      R     LJMP    ?C0240
02ED 900000      R     MOV     DPTR,#?C0385
02F0 F8                MOV     R0,A
02F1 28                ADD     A,R0
02F2 28                ADD     A,R0
02F3 73                JMP     @A+DPTR
02F4         ?C0385:
02F4 020000      R     LJMP    ?C0241
02F7 020000      R     LJMP    ?C0242
02FA 020000      R     LJMP    ?C0243
02FD 020000      R     LJMP    ?C0244
0300 020000      R     LJMP    ?C0245
0303 020000      R     LJMP    ?C0246
0306 020000      R     LJMP    ?C0247
                                           ; SOURCE LINE # 953
0309         ?C0241:
                                           ; SOURCE LINE # 954
0309 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
030C 74FF              MOV     A,#0FFH
030E F0                MOVX    @DPTR,A
030F A3                INC     DPTR
0310 7400        R     MOV     A,#HIGH ?SC_352
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 116 

0312 F0                MOVX    @DPTR,A
0313 A3                INC     DPTR
0314 7400        R     MOV     A,#LOW ?SC_352
0316 F0                MOVX    @DPTR,A
0317 900000      R     MOV     DPTR,#info_string
031A E0                MOVX    A,@DPTR
031B FB                MOV     R3,A
031C A3                INC     DPTR
031D E0                MOVX    A,@DPTR
031E FA                MOV     R2,A
031F A3                INC     DPTR
0320 E0                MOVX    A,@DPTR
0321 F9                MOV     R1,A
0322 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 955
0325 020000      R     LJMP    ?C0240
                                           ; SOURCE LINE # 956
0328         ?C0242:
                                           ; SOURCE LINE # 957
0328 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
032B 74FF              MOV     A,#0FFH
032D F0                MOVX    @DPTR,A
032E A3                INC     DPTR
032F 7400        R     MOV     A,#HIGH ?SC_370
0331 F0                MOVX    @DPTR,A
0332 A3                INC     DPTR
0333 7400        R     MOV     A,#LOW ?SC_370
0335 F0                MOVX    @DPTR,A
0336 900000      R     MOV     DPTR,#info_string
0339 E0                MOVX    A,@DPTR
033A FB                MOV     R3,A
033B A3                INC     DPTR
033C E0                MOVX    A,@DPTR
033D FA                MOV     R2,A
033E A3                INC     DPTR
033F E0                MOVX    A,@DPTR
0340 F9                MOV     R1,A
0341 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 958
0344 020000      R     LJMP    ?C0240
                                           ; SOURCE LINE # 959
0347         ?C0243:
                                           ; SOURCE LINE # 960
0347 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
034A 74FF              MOV     A,#0FFH
034C F0                MOVX    @DPTR,A
034D A3                INC     DPTR
034E 7400        R     MOV     A,#HIGH ?SC_391
0350 F0                MOVX    @DPTR,A
0351 A3                INC     DPTR
0352 7400        R     MOV     A,#LOW ?SC_391
0354 F0                MOVX    @DPTR,A
0355 900000      R     MOV     DPTR,#info_string
0358 E0                MOVX    A,@DPTR
0359 FB                MOV     R3,A
035A A3                INC     DPTR
035B E0                MOVX    A,@DPTR
035C FA                MOV     R2,A
035D A3                INC     DPTR
035E E0                MOVX    A,@DPTR
035F F9                MOV     R1,A
0360 120000      E     LCALL   _strcat
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 117 

                                           ; SOURCE LINE # 961
0363 8076              SJMP    ?C0240
                                           ; SOURCE LINE # 962
0365         ?C0244:
                                           ; SOURCE LINE # 963
0365 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0368 74FF              MOV     A,#0FFH
036A F0                MOVX    @DPTR,A
036B A3                INC     DPTR
036C 7400        R     MOV     A,#HIGH ?SC_422
036E F0                MOVX    @DPTR,A
036F A3                INC     DPTR
0370 7400        R     MOV     A,#LOW ?SC_422
0372 F0                MOVX    @DPTR,A
0373 900000      R     MOV     DPTR,#info_string
0376 E0                MOVX    A,@DPTR
0377 FB                MOV     R3,A
0378 A3                INC     DPTR
0379 E0                MOVX    A,@DPTR
037A FA                MOV     R2,A
037B A3                INC     DPTR
037C E0                MOVX    A,@DPTR
037D F9                MOV     R1,A
037E 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 964
0381 8058              SJMP    ?C0240
                                           ; SOURCE LINE # 965
0383         ?C0245:
                                           ; SOURCE LINE # 966
0383 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0386 74FF              MOV     A,#0FFH
0388 F0                MOVX    @DPTR,A
0389 A3                INC     DPTR
038A 7400        R     MOV     A,#HIGH ?SC_449
038C F0                MOVX    @DPTR,A
038D A3                INC     DPTR
038E 7400        R     MOV     A,#LOW ?SC_449
0390 F0                MOVX    @DPTR,A
0391 900000      R     MOV     DPTR,#info_string
0394 E0                MOVX    A,@DPTR
0395 FB                MOV     R3,A
0396 A3                INC     DPTR
0397 E0                MOVX    A,@DPTR
0398 FA                MOV     R2,A
0399 A3                INC     DPTR
039A E0                MOVX    A,@DPTR
039B F9                MOV     R1,A
039C 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 967
039F 803A              SJMP    ?C0240
                                           ; SOURCE LINE # 968
03A1         ?C0246:
                                           ; SOURCE LINE # 969
03A1 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
03A4 74FF              MOV     A,#0FFH
03A6 F0                MOVX    @DPTR,A
03A7 A3                INC     DPTR
03A8 7400        R     MOV     A,#HIGH ?SC_472
03AA F0                MOVX    @DPTR,A
03AB A3                INC     DPTR
03AC 7400        R     MOV     A,#LOW ?SC_472
03AE F0                MOVX    @DPTR,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 118 

03AF 900000      R     MOV     DPTR,#info_string
03B2 E0                MOVX    A,@DPTR
03B3 FB                MOV     R3,A
03B4 A3                INC     DPTR
03B5 E0                MOVX    A,@DPTR
03B6 FA                MOV     R2,A
03B7 A3                INC     DPTR
03B8 E0                MOVX    A,@DPTR
03B9 F9                MOV     R1,A
03BA 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 970
03BD 801C              SJMP    ?C0240
                                           ; SOURCE LINE # 971
03BF         ?C0247:
                                           ; SOURCE LINE # 972
03BF 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
03C2 74FF              MOV     A,#0FFH
03C4 F0                MOVX    @DPTR,A
03C5 A3                INC     DPTR
03C6 7400        R     MOV     A,#HIGH ?SC_499
03C8 F0                MOVX    @DPTR,A
03C9 A3                INC     DPTR
03CA 7400        R     MOV     A,#LOW ?SC_499
03CC F0                MOVX    @DPTR,A
03CD 900000      R     MOV     DPTR,#info_string
03D0 E0                MOVX    A,@DPTR
03D1 FB                MOV     R3,A
03D2 A3                INC     DPTR
03D3 E0                MOVX    A,@DPTR
03D4 FA                MOV     R2,A
03D5 A3                INC     DPTR
03D6 E0                MOVX    A,@DPTR
03D7 F9                MOV     R1,A
03D8 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 973
                                           ; SOURCE LINE # 974
03DB         ?C0240:
                                           ; SOURCE LINE # 976
03DB 900000      E     MOV     DPTR,#?_sprintf?BYTE+03H
03DE 74FF              MOV     A,#0FFH
03E0 F0                MOVX    @DPTR,A
03E1 A3                INC     DPTR
03E2 7400        R     MOV     A,#HIGH ?SC_522
03E4 F0                MOVX    @DPTR,A
03E5 A3                INC     DPTR
03E6 7400        R     MOV     A,#LOW ?SC_522
03E8 F0                MOVX    @DPTR,A
03E9 900000      E     MOV     DPTR,#c_mem+045H
03EC E0                MOVX    A,@DPTR
03ED FE                MOV     R6,A
03EE 33                RLC     A
03EF 95E0              SUBB    A,ACC
03F1 900000      E     MOV     DPTR,#?_sprintf?BYTE+06H
03F4 F0                MOVX    @DPTR,A
03F5 A3                INC     DPTR
03F6 CE                XCH     A,R6
03F7 F0                MOVX    @DPTR,A
03F8 7B01              MOV     R3,#01H
03FA 7A00        R     MOV     R2,#HIGH str
03FC 7900        R     MOV     R1,#LOW str
03FE 120000      E     LCALL   _sprintf
                                           ; SOURCE LINE # 977
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 119 

0401 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0404 7401              MOV     A,#01H
0406 F0                MOVX    @DPTR,A
0407 A3                INC     DPTR
0408 7400        R     MOV     A,#HIGH str
040A F0                MOVX    @DPTR,A
040B A3                INC     DPTR
040C 7400        R     MOV     A,#LOW str
040E F0                MOVX    @DPTR,A
040F 900000      R     MOV     DPTR,#info_string
0412 E0                MOVX    A,@DPTR
0413 FB                MOV     R3,A
0414 A3                INC     DPTR
0415 E0                MOVX    A,@DPTR
0416 FA                MOV     R2,A
0417 A3                INC     DPTR
0418 E0                MOVX    A,@DPTR
0419 F9                MOV     R1,A
041A 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 981
041D 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0420 74FF              MOV     A,#0FFH
0422 F0                MOVX    @DPTR,A
0423 A3                INC     DPTR
0424 7400        R     MOV     A,#HIGH ?SC_547
0426 F0                MOVX    @DPTR,A
0427 A3                INC     DPTR
0428 7400        R     MOV     A,#LOW ?SC_547
042A F0                MOVX    @DPTR,A
042B 900000      R     MOV     DPTR,#info_string
042E E0                MOVX    A,@DPTR
042F FB                MOV     R3,A
0430 A3                INC     DPTR
0431 E0                MOVX    A,@DPTR
0432 FA                MOV     R2,A
0433 A3                INC     DPTR
0434 E0                MOVX    A,@DPTR
0435 F9                MOV     R1,A
0436 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 982
0439 E4                CLR     A
043A 900000      R     MOV     DPTR,#i
043D F0                MOVX    @DPTR,A
043E A3                INC     DPTR
043F F0                MOVX    @DPTR,A
0440         ?C0248:
0440 C3                CLR     C
0441 900000      R     MOV     DPTR,#i+01H
0444 E0                MOVX    A,@DPTR
0445 9403              SUBB    A,#03H
0447 900000      R     MOV     DPTR,#i
044A E0                MOVX    A,@DPTR
044B 6480              XRL     A,#080H
044D 9480              SUBB    A,#080H
044F 4003              JC      $ + 5H
0451 020000      R     LJMP    ?C0249
                                           ; SOURCE LINE # 983
0454 900000      E     MOV     DPTR,#?_sprintf?BYTE+03H
0457 74FF              MOV     A,#0FFH
0459 F0                MOVX    @DPTR,A
045A A3                INC     DPTR
045B 7400        R     MOV     A,#HIGH ?SC_259
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 120 

045D F0                MOVX    @DPTR,A
045E A3                INC     DPTR
045F 7400        R     MOV     A,#LOW ?SC_259
0461 F0                MOVX    @DPTR,A
0462 900000      R     MOV     DPTR,#i
0465 E0                MOVX    A,@DPTR
0466 FC                MOV     R4,A
0467 A3                INC     DPTR
0468 E0                MOVX    A,@DPTR
0469 FD                MOV     R5,A
046A 2401              ADD     A,#01H
046C FE                MOV     R6,A
046D E4                CLR     A
046E 3C                ADDC    A,R4
046F 900000      E     MOV     DPTR,#?_sprintf?BYTE+06H
0472 F0                MOVX    @DPTR,A
0473 A3                INC     DPTR
0474 CE                XCH     A,R6
0475 F0                MOVX    @DPTR,A
0476 7400        E     MOV     A,#LOW c_mem+03H
0478 2D                ADD     A,R5
0479 F582              MOV     DPL,A
047B 7400        E     MOV     A,#HIGH c_mem+03H
047D 3C                ADDC    A,R4
047E F583              MOV     DPH,A
0480 E0                MOVX    A,@DPTR
0481 FF                MOV     R7,A
0482 900000      E     MOV     DPTR,#?_sprintf?BYTE+08H
0485 E4                CLR     A
0486 F0                MOVX    @DPTR,A
0487 A3                INC     DPTR
0488 EF                MOV     A,R7
0489 F0                MOVX    @DPTR,A
048A 7B01              MOV     R3,#01H
048C 7A00        R     MOV     R2,#HIGH str
048E 7900        R     MOV     R1,#LOW str
0490 120000      E     LCALL   _sprintf
                                           ; SOURCE LINE # 984
0493 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0496 7401              MOV     A,#01H
0498 F0                MOVX    @DPTR,A
0499 A3                INC     DPTR
049A 7400        R     MOV     A,#HIGH str
049C F0                MOVX    @DPTR,A
049D A3                INC     DPTR
049E 7400        R     MOV     A,#LOW str
04A0 F0                MOVX    @DPTR,A
04A1 900000      R     MOV     DPTR,#info_string
04A4 E0                MOVX    A,@DPTR
04A5 FB                MOV     R3,A
04A6 A3                INC     DPTR
04A7 E0                MOVX    A,@DPTR
04A8 FA                MOV     R2,A
04A9 A3                INC     DPTR
04AA E0                MOVX    A,@DPTR
04AB F9                MOV     R1,A
04AC 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 985
04AF 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
04B2 74FF              MOV     A,#0FFH
04B4 F0                MOVX    @DPTR,A
04B5 A3                INC     DPTR
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 121 

04B6 7400        R     MOV     A,#HIGH ?SC_118
04B8 F0                MOVX    @DPTR,A
04B9 A3                INC     DPTR
04BA 7400        R     MOV     A,#LOW ?SC_118
04BC F0                MOVX    @DPTR,A
04BD 900000      R     MOV     DPTR,#info_string
04C0 E0                MOVX    A,@DPTR
04C1 FB                MOV     R3,A
04C2 A3                INC     DPTR
04C3 E0                MOVX    A,@DPTR
04C4 FA                MOV     R2,A
04C5 A3                INC     DPTR
04C6 E0                MOVX    A,@DPTR
04C7 F9                MOV     R1,A
04C8 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 986
04CB 900000      R     MOV     DPTR,#i+01H
04CE E0                MOVX    A,@DPTR
04CF 04                INC     A
04D0 F0                MOVX    @DPTR,A
04D1 7006              JNZ     ?C0386
04D3 900000      R     MOV     DPTR,#i
04D6 E0                MOVX    A,@DPTR
04D7 04                INC     A
04D8 F0                MOVX    @DPTR,A
04D9         ?C0386:
04D9 020000      R     LJMP    ?C0248
04DC         ?C0249:
                                           ; SOURCE LINE # 989
04DC 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
04DF 74FF              MOV     A,#0FFH
04E1 F0                MOVX    @DPTR,A
04E2 A3                INC     DPTR
04E3 7400        R     MOV     A,#HIGH ?SC_568
04E5 F0                MOVX    @DPTR,A
04E6 A3                INC     DPTR
04E7 7400        R     MOV     A,#LOW ?SC_568
04E9 F0                MOVX    @DPTR,A
04EA 900000      R     MOV     DPTR,#info_string
04ED E0                MOVX    A,@DPTR
04EE FB                MOV     R3,A
04EF A3                INC     DPTR
04F0 E0                MOVX    A,@DPTR
04F1 FA                MOV     R2,A
04F2 A3                INC     DPTR
04F3 E0                MOVX    A,@DPTR
04F4 F9                MOV     R1,A
04F5 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 990
04F8 E4                CLR     A
04F9 900000      R     MOV     DPTR,#i
04FC F0                MOVX    @DPTR,A
04FD A3                INC     DPTR
04FE F0                MOVX    @DPTR,A
04FF         ?C0251:
04FF C3                CLR     C
0500 900000      R     MOV     DPTR,#i+01H
0503 E0                MOVX    A,@DPTR
0504 9403              SUBB    A,#03H
0506 900000      R     MOV     DPTR,#i
0509 E0                MOVX    A,@DPTR
050A 6480              XRL     A,#080H
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 122 

050C 9480              SUBB    A,#080H
050E 4003              JC      $ + 5H
0510 020000      R     LJMP    ?C0252
                                           ; SOURCE LINE # 991
0513 900000      E     MOV     DPTR,#?_sprintf?BYTE+03H
0516 74FF              MOV     A,#0FFH
0518 F0                MOVX    @DPTR,A
0519 A3                INC     DPTR
051A 7400        R     MOV     A,#HIGH ?SC_590
051C F0                MOVX    @DPTR,A
051D A3                INC     DPTR
051E 7400        R     MOV     A,#LOW ?SC_590
0520 F0                MOVX    @DPTR,A
0521 900000      R     MOV     DPTR,#i
0524 E0                MOVX    A,@DPTR
0525 FC                MOV     R4,A
0526 A3                INC     DPTR
0527 E0                MOVX    A,@DPTR
0528 FD                MOV     R5,A
0529 2401              ADD     A,#01H
052B FE                MOV     R6,A
052C E4                CLR     A
052D 3C                ADDC    A,R4
052E 900000      E     MOV     DPTR,#?_sprintf?BYTE+06H
0531 F0                MOVX    @DPTR,A
0532 A3                INC     DPTR
0533 CE                XCH     A,R6
0534 F0                MOVX    @DPTR,A
0535 ED                MOV     A,R5
0536 AE04              MOV     R6,AR4
0538 7802              MOV     R0,#02H
053A         ?C0387:
053A C3                CLR     C
053B 33                RLC     A
053C CE                XCH     A,R6
053D 33                RLC     A
053E CE                XCH     A,R6
053F D8F9              DJNZ    R0,?C0387
0541 2400        E     ADD     A,#LOW c_mem+06H
0543 F582              MOV     DPL,A
0545 7400        E     MOV     A,#HIGH c_mem+06H
0547 3E                ADDC    A,R6
0548 F583              MOV     DPH,A
054A E0                MOVX    A,@DPTR
054B FC                MOV     R4,A
054C A3                INC     DPTR
054D E0                MOVX    A,@DPTR
054E FD                MOV     R5,A
054F A3                INC     DPTR
0550 E0                MOVX    A,@DPTR
0551 FE                MOV     R6,A
0552 A3                INC     DPTR
0553 E0                MOVX    A,@DPTR
0554 FF                MOV     R7,A
0555 900000      R     MOV     DPTR,#i
0558 E0                MOVX    A,@DPTR
0559 FA                MOV     R2,A
055A A3                INC     DPTR
055B E0                MOVX    A,@DPTR
055C 2400        E     ADD     A,#LOW c_mem+03H
055E F582              MOV     DPL,A
0560 7400        E     MOV     A,#HIGH c_mem+03H
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 123 

0562 3A                ADDC    A,R2
0563 F583              MOV     DPH,A
0565 E0                MOVX    A,@DPTR
0566 F9                MOV     R1,A
0567 F8                MOV     R0,A
0568 120000      E     LCALL   ?C?SLSHR
056B 900000      E     MOV     DPTR,#?_sprintf?BYTE+08H
056E 120000      E     LCALL   ?C?LSTXDATA
0571 7B01              MOV     R3,#01H
0573 7A00        R     MOV     R2,#HIGH str
0575 7900        R     MOV     R1,#LOW str
0577 120000      E     LCALL   _sprintf
                                           ; SOURCE LINE # 992
057A 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
057D 7401              MOV     A,#01H
057F F0                MOVX    @DPTR,A
0580 A3                INC     DPTR
0581 7400        R     MOV     A,#HIGH str
0583 F0                MOVX    @DPTR,A
0584 A3                INC     DPTR
0585 7400        R     MOV     A,#LOW str
0587 F0                MOVX    @DPTR,A
0588 900000      R     MOV     DPTR,#info_string
058B E0                MOVX    A,@DPTR
058C FB                MOV     R3,A
058D A3                INC     DPTR
058E E0                MOVX    A,@DPTR
058F FA                MOV     R2,A
0590 A3                INC     DPTR
0591 E0                MOVX    A,@DPTR
0592 F9                MOV     R1,A
0593 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 993
0596 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0599 74FF              MOV     A,#0FFH
059B F0                MOVX    @DPTR,A
059C A3                INC     DPTR
059D 7400        R     MOV     A,#HIGH ?SC_118
059F F0                MOVX    @DPTR,A
05A0 A3                INC     DPTR
05A1 7400        R     MOV     A,#LOW ?SC_118
05A3 F0                MOVX    @DPTR,A
05A4 900000      R     MOV     DPTR,#info_string
05A7 E0                MOVX    A,@DPTR
05A8 FB                MOV     R3,A
05A9 A3                INC     DPTR
05AA E0                MOVX    A,@DPTR
05AB FA                MOV     R2,A
05AC A3                INC     DPTR
05AD E0                MOVX    A,@DPTR
05AE F9                MOV     R1,A
05AF 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 994
05B2 900000      R     MOV     DPTR,#i+01H
05B5 E0                MOVX    A,@DPTR
05B6 04                INC     A
05B7 F0                MOVX    @DPTR,A
05B8 7006              JNZ     ?C0388
05BA 900000      R     MOV     DPTR,#i
05BD E0                MOVX    A,@DPTR
05BE 04                INC     A
05BF F0                MOVX    @DPTR,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 124 

05C0         ?C0388:
05C0 020000      R     LJMP    ?C0251
05C3         ?C0252:
                                           ; SOURCE LINE # 996
05C3 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
05C6 74FF              MOV     A,#0FFH
05C8 F0                MOVX    @DPTR,A
05C9 A3                INC     DPTR
05CA 7400        R     MOV     A,#HIGH ?SC_600
05CC F0                MOVX    @DPTR,A
05CD A3                INC     DPTR
05CE 7400        R     MOV     A,#LOW ?SC_600
05D0 F0                MOVX    @DPTR,A
05D1 900000      R     MOV     DPTR,#info_string
05D4 E0                MOVX    A,@DPTR
05D5 FB                MOV     R3,A
05D6 A3                INC     DPTR
05D7 E0                MOVX    A,@DPTR
05D8 FA                MOV     R2,A
05D9 A3                INC     DPTR
05DA E0                MOVX    A,@DPTR
05DB F9                MOV     R1,A
05DC 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 997
05DF E4                CLR     A
05E0 900000      R     MOV     DPTR,#i
05E3 F0                MOVX    @DPTR,A
05E4 A3                INC     DPTR
05E5 F0                MOVX    @DPTR,A
05E6         ?C0254:
05E6 C3                CLR     C
05E7 900000      R     MOV     DPTR,#i+01H
05EA E0                MOVX    A,@DPTR
05EB 9403              SUBB    A,#03H
05ED 900000      R     MOV     DPTR,#i
05F0 E0                MOVX    A,@DPTR
05F1 6480              XRL     A,#080H
05F3 9480              SUBB    A,#080H
05F5 4003              JC      $ + 5H
05F7 020000      R     LJMP    ?C0255
                                           ; SOURCE LINE # 998
05FA 900000      E     MOV     DPTR,#?_sprintf?BYTE+03H
05FD 74FF              MOV     A,#0FFH
05FF F0                MOVX    @DPTR,A
0600 A3                INC     DPTR
0601 7400        R     MOV     A,#HIGH ?SC_626
0603 F0                MOVX    @DPTR,A
0604 A3                INC     DPTR
0605 7400        R     MOV     A,#LOW ?SC_626
0607 F0                MOVX    @DPTR,A
0608 900000      R     MOV     DPTR,#i
060B E0                MOVX    A,@DPTR
060C FC                MOV     R4,A
060D A3                INC     DPTR
060E E0                MOVX    A,@DPTR
060F FD                MOV     R5,A
0610 2401              ADD     A,#01H
0612 FE                MOV     R6,A
0613 E4                CLR     A
0614 3C                ADDC    A,R4
0615 900000      E     MOV     DPTR,#?_sprintf?BYTE+06H
0618 F0                MOVX    @DPTR,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 125 

0619 A3                INC     DPTR
061A CE                XCH     A,R6
061B F0                MOVX    @DPTR,A
061C ED                MOV     A,R5
061D AE04              MOV     R6,AR4
061F 7802              MOV     R0,#02H
0621         ?C0389:
0621 C3                CLR     C
0622 33                RLC     A
0623 CE                XCH     A,R6
0624 33                RLC     A
0625 CE                XCH     A,R6
0626 D8F9              DJNZ    R0,?C0389
0628 2400        E     ADD     A,#LOW c_mem+012H
062A F582              MOV     DPL,A
062C 7400        E     MOV     A,#HIGH c_mem+012H
062E 3E                ADDC    A,R6
062F F583              MOV     DPH,A
0631 E0                MOVX    A,@DPTR
0632 FC                MOV     R4,A
0633 A3                INC     DPTR
0634 E0                MOVX    A,@DPTR
0635 FD                MOV     R5,A
0636 A3                INC     DPTR
0637 E0                MOVX    A,@DPTR
0638 FE                MOV     R6,A
0639 A3                INC     DPTR
063A E0                MOVX    A,@DPTR
063B FF                MOV     R7,A
063C 900000      E     MOV     DPTR,#?_sprintf?BYTE+08H
063F 120000      E     LCALL   ?C?LSTXDATA
0642 7B01              MOV     R3,#01H
0644 7A00        R     MOV     R2,#HIGH str
0646 7900        R     MOV     R1,#LOW str
0648 120000      E     LCALL   _sprintf
                                           ; SOURCE LINE # 999
064B 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
064E 7401              MOV     A,#01H
0650 F0                MOVX    @DPTR,A
0651 A3                INC     DPTR
0652 7400        R     MOV     A,#HIGH str
0654 F0                MOVX    @DPTR,A
0655 A3                INC     DPTR
0656 7400        R     MOV     A,#LOW str
0658 F0                MOVX    @DPTR,A
0659 900000      R     MOV     DPTR,#info_string
065C E0                MOVX    A,@DPTR
065D FB                MOV     R3,A
065E A3                INC     DPTR
065F E0                MOVX    A,@DPTR
0660 FA                MOV     R2,A
0661 A3                INC     DPTR
0662 E0                MOVX    A,@DPTR
0663 F9                MOV     R1,A
0664 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 1000
0667 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
066A 74FF              MOV     A,#0FFH
066C F0                MOVX    @DPTR,A
066D A3                INC     DPTR
066E 7400        R     MOV     A,#HIGH ?SC_118
0670 F0                MOVX    @DPTR,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 126 

0671 A3                INC     DPTR
0672 7400        R     MOV     A,#LOW ?SC_118
0674 F0                MOVX    @DPTR,A
0675 900000      R     MOV     DPTR,#info_string
0678 E0                MOVX    A,@DPTR
0679 FB                MOV     R3,A
067A A3                INC     DPTR
067B E0                MOVX    A,@DPTR
067C FA                MOV     R2,A
067D A3                INC     DPTR
067E E0                MOVX    A,@DPTR
067F F9                MOV     R1,A
0680 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 1001
0683 900000      R     MOV     DPTR,#i+01H
0686 E0                MOVX    A,@DPTR
0687 04                INC     A
0688 F0                MOVX    @DPTR,A
0689 7006              JNZ     ?C0390
068B 900000      R     MOV     DPTR,#i
068E E0                MOVX    A,@DPTR
068F 04                INC     A
0690 F0                MOVX    @DPTR,A
0691         ?C0390:
0691 020000      R     LJMP    ?C0254
0694         ?C0255:
                                           ; SOURCE LINE # 1003
0694 900000      E     MOV     DPTR,#?_sprintf?BYTE+03H
0697 74FF              MOV     A,#0FFH
0699 F0                MOVX    @DPTR,A
069A A3                INC     DPTR
069B 7400        R     MOV     A,#HIGH ?SC_635
069D F0                MOVX    @DPTR,A
069E A3                INC     DPTR
069F 7400        R     MOV     A,#LOW ?SC_635
06A1 F0                MOVX    @DPTR,A
06A2 900000      E     MOV     DPTR,#g_mem+01EH
06A5 E0                MOVX    A,@DPTR
06A6 FF                MOV     R7,A
06A7 900000      E     MOV     DPTR,#?_sprintf?BYTE+06H
06AA E4                CLR     A
06AB F0                MOVX    @DPTR,A
06AC A3                INC     DPTR
06AD EF                MOV     A,R7
06AE F0                MOVX    @DPTR,A
06AF 7B01              MOV     R3,#01H
06B1 7A00        R     MOV     R2,#HIGH str
06B3 7900        R     MOV     R1,#LOW str
06B5 120000      E     LCALL   _sprintf
                                           ; SOURCE LINE # 1004
06B8 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
06BB 7401              MOV     A,#01H
06BD F0                MOVX    @DPTR,A
06BE A3                INC     DPTR
06BF 7400        R     MOV     A,#HIGH str
06C1 F0                MOVX    @DPTR,A
06C2 A3                INC     DPTR
06C3 7400        R     MOV     A,#LOW str
06C5 F0                MOVX    @DPTR,A
06C6 900000      R     MOV     DPTR,#info_string
06C9 E0                MOVX    A,@DPTR
06CA FB                MOV     R3,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 127 

06CB A3                INC     DPTR
06CC E0                MOVX    A,@DPTR
06CD FA                MOV     R2,A
06CE A3                INC     DPTR
06CF E0                MOVX    A,@DPTR
06D0 F9                MOV     R1,A
06D1 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 1005
06D4 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
06D7 74FF              MOV     A,#0FFH
06D9 F0                MOVX    @DPTR,A
06DA A3                INC     DPTR
06DB 7400        R     MOV     A,#HIGH ?SC_118
06DD F0                MOVX    @DPTR,A
06DE A3                INC     DPTR
06DF 7400        R     MOV     A,#LOW ?SC_118
06E1 F0                MOVX    @DPTR,A
06E2 900000      R     MOV     DPTR,#info_string
06E5 E0                MOVX    A,@DPTR
06E6 FB                MOV     R3,A
06E7 A3                INC     DPTR
06E8 E0                MOVX    A,@DPTR
06E9 FA                MOV     R2,A
06EA A3                INC     DPTR
06EB E0                MOVX    A,@DPTR
06EC F9                MOV     R1,A
06ED 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 1007
06F0 E4                CLR     A
06F1 900000      R     MOV     DPTR,#i
06F4 F0                MOVX    @DPTR,A
06F5 A3                INC     DPTR
06F6 F0                MOVX    @DPTR,A
06F7         ?C0257:
06F7 C3                CLR     C
06F8 900000      R     MOV     DPTR,#i+01H
06FB E0                MOVX    A,@DPTR
06FC 9401              SUBB    A,#01H
06FE 900000      R     MOV     DPTR,#i
0701 E0                MOVX    A,@DPTR
0702 6480              XRL     A,#080H
0704 9480              SUBB    A,#080H
0706 4003              JC      $ + 5H
0708 020000      R     LJMP    ?C0258
                                           ; SOURCE LINE # 1009
070B 900000      E     MOV     DPTR,#?_sprintf?BYTE+03H
070E 74FF              MOV     A,#0FFH
0710 F0                MOVX    @DPTR,A
0711 A3                INC     DPTR
0712 7400        R     MOV     A,#HIGH ?SC_661
0714 F0                MOVX    @DPTR,A
0715 A3                INC     DPTR
0716 7400        R     MOV     A,#LOW ?SC_661
0718 F0                MOVX    @DPTR,A
0719 900000      R     MOV     DPTR,#i
071C E0                MOVX    A,@DPTR
071D FC                MOV     R4,A
071E A3                INC     DPTR
071F E0                MOVX    A,@DPTR
0720 FD                MOV     R5,A
0721 2401              ADD     A,#01H
0723 FE                MOV     R6,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 128 

0724 E4                CLR     A
0725 3C                ADDC    A,R4
0726 900000      E     MOV     DPTR,#?_sprintf?BYTE+06H
0729 F0                MOVX    @DPTR,A
072A A3                INC     DPTR
072B CE                XCH     A,R6
072C F0                MOVX    @DPTR,A
072D ED                MOV     A,R5
072E AE04              MOV     R6,AR4
0730 7802              MOV     R0,#02H
0732         ?C0391:
0732 C3                CLR     C
0733 33                RLC     A
0734 CE                XCH     A,R6
0735 33                RLC     A
0736 CE                XCH     A,R6
0737 D8F9              DJNZ    R0,?C0391
0739 2400        E     ADD     A,#LOW g_mem+01FH
073B F582              MOV     DPL,A
073D 7400        E     MOV     A,#HIGH g_mem+01FH
073F 3E                ADDC    A,R6
0740 F583              MOV     DPH,A
0742 E0                MOVX    A,@DPTR
0743 FC                MOV     R4,A
0744 A3                INC     DPTR
0745 E0                MOVX    A,@DPTR
0746 FD                MOV     R5,A
0747 A3                INC     DPTR
0748 E0                MOVX    A,@DPTR
0749 FE                MOV     R6,A
074A A3                INC     DPTR
074B E0                MOVX    A,@DPTR
074C FF                MOV     R7,A
074D 900000      R     MOV     DPTR,#i
0750 E0                MOVX    A,@DPTR
0751 FA                MOV     R2,A
0752 A3                INC     DPTR
0753 E0                MOVX    A,@DPTR
0754 2400        E     ADD     A,#LOW g_mem+03H
0756 F582              MOV     DPL,A
0758 7400        E     MOV     A,#HIGH g_mem+03H
075A 3A                ADDC    A,R2
075B F583              MOV     DPH,A
075D E0                MOVX    A,@DPTR
075E F9                MOV     R1,A
075F F8                MOV     R0,A
0760 120000      E     LCALL   ?C?SLSHR
0763 900000      E     MOV     DPTR,#?_sprintf?BYTE+08H
0766 120000      E     LCALL   ?C?LSTXDATA
0769 7B01              MOV     R3,#01H
076B 7A00        R     MOV     R2,#HIGH str
076D 7900        R     MOV     R1,#LOW str
076F 120000      E     LCALL   _sprintf
                                           ; SOURCE LINE # 1010
0772 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0775 7401              MOV     A,#01H
0777 F0                MOVX    @DPTR,A
0778 A3                INC     DPTR
0779 7400        R     MOV     A,#HIGH str
077B F0                MOVX    @DPTR,A
077C A3                INC     DPTR
077D 7400        R     MOV     A,#LOW str
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 129 

077F F0                MOVX    @DPTR,A
0780 900000      R     MOV     DPTR,#info_string
0783 E0                MOVX    A,@DPTR
0784 FB                MOV     R3,A
0785 A3                INC     DPTR
0786 E0                MOVX    A,@DPTR
0787 FA                MOV     R2,A
0788 A3                INC     DPTR
0789 E0                MOVX    A,@DPTR
078A F9                MOV     R1,A
078B 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 1013
078E 900000      E     MOV     DPTR,#?_sprintf?BYTE+03H
0791 74FF              MOV     A,#0FFH
0793 F0                MOVX    @DPTR,A
0794 A3                INC     DPTR
0795 7400        R     MOV     A,#HIGH ?SC_699
0797 F0                MOVX    @DPTR,A
0798 A3                INC     DPTR
0799 7400        R     MOV     A,#LOW ?SC_699
079B F0                MOVX    @DPTR,A
079C 900000      R     MOV     DPTR,#i
079F E0                MOVX    A,@DPTR
07A0 FA                MOV     R2,A
07A1 A3                INC     DPTR
07A2 E0                MOVX    A,@DPTR
07A3 FB                MOV     R3,A
07A4 AE02              MOV     R6,AR2
07A6 7802              MOV     R0,#02H
07A8         ?C0392:
07A8 C3                CLR     C
07A9 33                RLC     A
07AA CE                XCH     A,R6
07AB 33                RLC     A
07AC CE                XCH     A,R6
07AD D8F9              DJNZ    R0,?C0392
07AF 2400        E     ADD     A,#LOW g_mem+027H
07B1 F582              MOV     DPL,A
07B3 7400        E     MOV     A,#HIGH g_mem+027H
07B5 3E                ADDC    A,R6
07B6 F583              MOV     DPH,A
07B8 E0                MOVX    A,@DPTR
07B9 FC                MOV     R4,A
07BA A3                INC     DPTR
07BB E0                MOVX    A,@DPTR
07BC FD                MOV     R5,A
07BD A3                INC     DPTR
07BE E0                MOVX    A,@DPTR
07BF FE                MOV     R6,A
07C0 A3                INC     DPTR
07C1 E0                MOVX    A,@DPTR
07C2 FF                MOV     R7,A
07C3 7400        E     MOV     A,#LOW g_mem+03H
07C5 2B                ADD     A,R3
07C6 F582              MOV     DPL,A
07C8 7400        E     MOV     A,#HIGH g_mem+03H
07CA 3A                ADDC    A,R2
07CB F583              MOV     DPH,A
07CD E0                MOVX    A,@DPTR
07CE F9                MOV     R1,A
07CF F8                MOV     R0,A
07D0 120000      E     LCALL   ?C?SLSHR
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 130 

07D3 900000      E     MOV     DPTR,#?_sprintf?BYTE+06H
07D6 120000      E     LCALL   ?C?LSTXDATA
07D9 7B01              MOV     R3,#01H
07DB 7A00        R     MOV     R2,#HIGH str
07DD 7900        R     MOV     R1,#LOW str
07DF 120000      E     LCALL   _sprintf
                                           ; SOURCE LINE # 1014
07E2 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
07E5 7401              MOV     A,#01H
07E7 F0                MOVX    @DPTR,A
07E8 A3                INC     DPTR
07E9 7400        R     MOV     A,#HIGH str
07EB F0                MOVX    @DPTR,A
07EC A3                INC     DPTR
07ED 7400        R     MOV     A,#LOW str
07EF F0                MOVX    @DPTR,A
07F0 900000      R     MOV     DPTR,#info_string
07F3 E0                MOVX    A,@DPTR
07F4 FB                MOV     R3,A
07F5 A3                INC     DPTR
07F6 E0                MOVX    A,@DPTR
07F7 FA                MOV     R2,A
07F8 A3                INC     DPTR
07F9 E0                MOVX    A,@DPTR
07FA F9                MOV     R1,A
07FB 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 1015
07FE 900000      R     MOV     DPTR,#i+01H
0801 E0                MOVX    A,@DPTR
0802 04                INC     A
0803 F0                MOVX    @DPTR,A
0804 7006              JNZ     ?C0393
0806 900000      R     MOV     DPTR,#i
0809 E0                MOVX    A,@DPTR
080A 04                INC     A
080B F0                MOVX    @DPTR,A
080C         ?C0393:
080C 020000      R     LJMP    ?C0257
080F         ?C0258:
                                           ; SOURCE LINE # 1017
080F 900000      E     MOV     DPTR,#?_sprintf?BYTE+03H
0812 74FF              MOV     A,#0FFH
0814 F0                MOVX    @DPTR,A
0815 A3                INC     DPTR
0816 7400        R     MOV     A,#HIGH ?SC_712
0818 F0                MOVX    @DPTR,A
0819 A3                INC     DPTR
081A 7400        R     MOV     A,#LOW ?SC_712
081C F0                MOVX    @DPTR,A
081D 900000      E     MOV     DPTR,#g_mem+02FH
0820 E0                MOVX    A,@DPTR
0821 A3                INC     DPTR
0822 E0                MOVX    A,@DPTR
0823 A3                INC     DPTR
0824 E0                MOVX    A,@DPTR
0825 FF                MOV     R7,A
0826 A3                INC     DPTR
0827 E0                MOVX    A,@DPTR
0828 900000      E     MOV     DPTR,#?_sprintf?BYTE+06H
082B CF                XCH     A,R7
082C F0                MOVX    @DPTR,A
082D A3                INC     DPTR
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 131 

082E EF                MOV     A,R7
082F F0                MOVX    @DPTR,A
0830 900000      E     MOV     DPTR,#g_mem+033H
0833 E0                MOVX    A,@DPTR
0834 A3                INC     DPTR
0835 E0                MOVX    A,@DPTR
0836 A3                INC     DPTR
0837 E0                MOVX    A,@DPTR
0838 FF                MOV     R7,A
0839 A3                INC     DPTR
083A E0                MOVX    A,@DPTR
083B 900000      E     MOV     DPTR,#?_sprintf?BYTE+08H
083E CF                XCH     A,R7
083F F0                MOVX    @DPTR,A
0840 A3                INC     DPTR
0841 EF                MOV     A,R7
0842 F0                MOVX    @DPTR,A
0843 7B01              MOV     R3,#01H
0845 7A00        R     MOV     R2,#HIGH str
0847 7900        R     MOV     R1,#LOW str
0849 120000      E     LCALL   _sprintf
                                           ; SOURCE LINE # 1018
084C 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
084F 7401              MOV     A,#01H
0851 F0                MOVX    @DPTR,A
0852 A3                INC     DPTR
0853 7400        R     MOV     A,#HIGH str
0855 F0                MOVX    @DPTR,A
0856 A3                INC     DPTR
0857 7400        R     MOV     A,#LOW str
0859 F0                MOVX    @DPTR,A
085A 900000      R     MOV     DPTR,#info_string
085D E0                MOVX    A,@DPTR
085E FB                MOV     R3,A
085F A3                INC     DPTR
0860 E0                MOVX    A,@DPTR
0861 FA                MOV     R2,A
0862 A3                INC     DPTR
0863 E0                MOVX    A,@DPTR
0864 F9                MOV     R1,A
0865 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 1019
0868 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
086B 74FF              MOV     A,#0FFH
086D F0                MOVX    @DPTR,A
086E A3                INC     DPTR
086F 7400        R     MOV     A,#HIGH ?SC_118
0871 F0                MOVX    @DPTR,A
0872 A3                INC     DPTR
0873 7400        R     MOV     A,#LOW ?SC_118
0875 F0                MOVX    @DPTR,A
0876 900000      R     MOV     DPTR,#info_string
0879 E0                MOVX    A,@DPTR
087A FB                MOV     R3,A
087B A3                INC     DPTR
087C E0                MOVX    A,@DPTR
087D FA                MOV     R2,A
087E A3                INC     DPTR
087F E0                MOVX    A,@DPTR
0880 F9                MOV     R1,A
0881 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 1021
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 132 

0884 900000      E     MOV     DPTR,#?_sprintf?BYTE+03H
0887 74FF              MOV     A,#0FFH
0889 F0                MOVX    @DPTR,A
088A A3                INC     DPTR
088B 7400        R     MOV     A,#HIGH ?SC_740
088D F0                MOVX    @DPTR,A
088E A3                INC     DPTR
088F 7400        R     MOV     A,#LOW ?SC_740
0891 F0                MOVX    @DPTR,A
0892 900000      E     MOV     DPTR,#c_mem+06BH
0895 E0                MOVX    A,@DPTR
0896 FF                MOV     R7,A
0897 A3                INC     DPTR
0898 E0                MOVX    A,@DPTR
0899 900000      E     MOV     DPTR,#?_sprintf?BYTE+06H
089C CF                XCH     A,R7
089D F0                MOVX    @DPTR,A
089E A3                INC     DPTR
089F EF                MOV     A,R7
08A0 F0                MOVX    @DPTR,A
08A1 7B01              MOV     R3,#01H
08A3 7A00        R     MOV     R2,#HIGH str
08A5 7900        R     MOV     R1,#LOW str
08A7 120000      E     LCALL   _sprintf
                                           ; SOURCE LINE # 1022
08AA 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
08AD 7401              MOV     A,#01H
08AF F0                MOVX    @DPTR,A
08B0 A3                INC     DPTR
08B1 7400        R     MOV     A,#HIGH str
08B3 F0                MOVX    @DPTR,A
08B4 A3                INC     DPTR
08B5 7400        R     MOV     A,#LOW str
08B7 F0                MOVX    @DPTR,A
08B8 900000      R     MOV     DPTR,#info_string
08BB E0                MOVX    A,@DPTR
08BC FB                MOV     R3,A
08BD A3                INC     DPTR
08BE E0                MOVX    A,@DPTR
08BF FA                MOV     R2,A
08C0 A3                INC     DPTR
08C1 E0                MOVX    A,@DPTR
08C2 F9                MOV     R1,A
08C3 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 1023
08C6 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
08C9 74FF              MOV     A,#0FFH
08CB F0                MOVX    @DPTR,A
08CC A3                INC     DPTR
08CD 7400        R     MOV     A,#HIGH ?SC_118
08CF F0                MOVX    @DPTR,A
08D0 A3                INC     DPTR
08D1 7400        R     MOV     A,#LOW ?SC_118
08D3 F0                MOVX    @DPTR,A
08D4 900000      R     MOV     DPTR,#info_string
08D7 E0                MOVX    A,@DPTR
08D8 FB                MOV     R3,A
08D9 A3                INC     DPTR
08DA E0                MOVX    A,@DPTR
08DB FA                MOV     R2,A
08DC A3                INC     DPTR
08DD E0                MOVX    A,@DPTR
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 133 

08DE F9                MOV     R1,A
08DF 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 1024
08E2 900000      E     MOV     DPTR,#?_sprintf?BYTE+03H
08E5 74FF              MOV     A,#0FFH
08E7 F0                MOVX    @DPTR,A
08E8 A3                INC     DPTR
08E9 7400        R     MOV     A,#HIGH ?SC_767
08EB F0                MOVX    @DPTR,A
08EC A3                INC     DPTR
08ED 7400        R     MOV     A,#LOW ?SC_767
08EF F0                MOVX    @DPTR,A
08F0 900000      E     MOV     DPTR,#c_mem+06DH
08F3 E0                MOVX    A,@DPTR
08F4 FF                MOV     R7,A
08F5 A3                INC     DPTR
08F6 E0                MOVX    A,@DPTR
08F7 900000      E     MOV     DPTR,#?_sprintf?BYTE+06H
08FA CF                XCH     A,R7
08FB F0                MOVX    @DPTR,A
08FC A3                INC     DPTR
08FD EF                MOV     A,R7
08FE F0                MOVX    @DPTR,A
08FF 7B01              MOV     R3,#01H
0901 7A00        R     MOV     R2,#HIGH str
0903 7900        R     MOV     R1,#LOW str
0905 120000      E     LCALL   _sprintf
                                           ; SOURCE LINE # 1025
0908 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
090B 7401              MOV     A,#01H
090D F0                MOVX    @DPTR,A
090E A3                INC     DPTR
090F 7400        R     MOV     A,#HIGH str
0911 F0                MOVX    @DPTR,A
0912 A3                INC     DPTR
0913 7400        R     MOV     A,#LOW str
0915 F0                MOVX    @DPTR,A
0916 900000      R     MOV     DPTR,#info_string
0919 E0                MOVX    A,@DPTR
091A FB                MOV     R3,A
091B A3                INC     DPTR
091C E0                MOVX    A,@DPTR
091D FA                MOV     R2,A
091E A3                INC     DPTR
091F E0                MOVX    A,@DPTR
0920 F9                MOV     R1,A
0921 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 1026
0924 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0927 74FF              MOV     A,#0FFH
0929 F0                MOVX    @DPTR,A
092A A3                INC     DPTR
092B 7400        R     MOV     A,#HIGH ?SC_118
092D F0                MOVX    @DPTR,A
092E A3                INC     DPTR
092F 7400        R     MOV     A,#LOW ?SC_118
0931 F0                MOVX    @DPTR,A
0932 900000      R     MOV     DPTR,#info_string
0935 E0                MOVX    A,@DPTR
0936 FB                MOV     R3,A
0937 A3                INC     DPTR
0938 E0                MOVX    A,@DPTR
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 134 

0939 FA                MOV     R2,A
093A A3                INC     DPTR
093B E0                MOVX    A,@DPTR
093C F9                MOV     R1,A
093D 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 1028
0940 900000      E     MOV     DPTR,#?_sprintf?BYTE+03H
0943 74FF              MOV     A,#0FFH
0945 F0                MOVX    @DPTR,A
0946 A3                INC     DPTR
0947 7400        R     MOV     A,#HIGH ?SC_786
0949 F0                MOVX    @DPTR,A
094A A3                INC     DPTR
094B 7400        R     MOV     A,#LOW ?SC_786
094D F0                MOVX    @DPTR,A
094E 900000      E     MOV     DPTR,#g_mem+037H
0951 E0                MOVX    A,@DPTR
0952 FF                MOV     R7,A
0953 A3                INC     DPTR
0954 E0                MOVX    A,@DPTR
0955 900000      E     MOV     DPTR,#?_sprintf?BYTE+06H
0958 CF                XCH     A,R7
0959 F0                MOVX    @DPTR,A
095A A3                INC     DPTR
095B EF                MOV     A,R7
095C F0                MOVX    @DPTR,A
095D 900000      E     MOV     DPTR,#g_mem+039H
0960 E0                MOVX    A,@DPTR
0961 FF                MOV     R7,A
0962 A3                INC     DPTR
0963 E0                MOVX    A,@DPTR
0964 900000      E     MOV     DPTR,#?_sprintf?BYTE+08H
0967 CF                XCH     A,R7
0968 F0                MOVX    @DPTR,A
0969 A3                INC     DPTR
096A EF                MOV     A,R7
096B F0                MOVX    @DPTR,A
096C 7B01              MOV     R3,#01H
096E 7A00        R     MOV     R2,#HIGH str
0970 7900        R     MOV     R1,#LOW str
0972 120000      E     LCALL   _sprintf
                                           ; SOURCE LINE # 1029
0975 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0978 7401              MOV     A,#01H
097A F0                MOVX    @DPTR,A
097B A3                INC     DPTR
097C 7400        R     MOV     A,#HIGH str
097E F0                MOVX    @DPTR,A
097F A3                INC     DPTR
0980 7400        R     MOV     A,#LOW str
0982 F0                MOVX    @DPTR,A
0983 900000      R     MOV     DPTR,#info_string
0986 E0                MOVX    A,@DPTR
0987 FB                MOV     R3,A
0988 A3                INC     DPTR
0989 E0                MOVX    A,@DPTR
098A FA                MOV     R2,A
098B A3                INC     DPTR
098C E0                MOVX    A,@DPTR
098D F9                MOV     R1,A
098E 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 1030
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 135 

0991 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0994 74FF              MOV     A,#0FFH
0996 F0                MOVX    @DPTR,A
0997 A3                INC     DPTR
0998 7400        R     MOV     A,#HIGH ?SC_118
099A F0                MOVX    @DPTR,A
099B A3                INC     DPTR
099C 7400        R     MOV     A,#LOW ?SC_118
099E F0                MOVX    @DPTR,A
099F 900000      R     MOV     DPTR,#info_string
09A2 E0                MOVX    A,@DPTR
09A3 FB                MOV     R3,A
09A4 A3                INC     DPTR
09A5 E0                MOVX    A,@DPTR
09A6 FA                MOV     R2,A
09A7 A3                INC     DPTR
09A8 E0                MOVX    A,@DPTR
09A9 F9                MOV     R1,A
09AA 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 1032
09AD 900000      E     MOV     DPTR,#?_sprintf?BYTE+03H
09B0 74FF              MOV     A,#0FFH
09B2 F0                MOVX    @DPTR,A
09B3 A3                INC     DPTR
09B4 7400        R     MOV     A,#HIGH ?SC_820
09B6 F0                MOVX    @DPTR,A
09B7 A3                INC     DPTR
09B8 7400        R     MOV     A,#LOW ?SC_820
09BA F0                MOVX    @DPTR,A
09BB 900000      E     MOV     DPTR,#g_mem+03CH
09BE E0                MOVX    A,@DPTR
09BF FC                MOV     R4,A
09C0 A3                INC     DPTR
09C1 E0                MOVX    A,@DPTR
09C2 FD                MOV     R5,A
09C3 A3                INC     DPTR
09C4 E0                MOVX    A,@DPTR
09C5 FE                MOV     R6,A
09C6 A3                INC     DPTR
09C7 E0                MOVX    A,@DPTR
09C8 FF                MOV     R7,A
09C9 900000      E     MOV     DPTR,#?_sprintf?BYTE+06H
09CC 120000      E     LCALL   ?C?LSTXDATA
09CF 900000      E     MOV     DPTR,#g_mem+040H
09D2 E0                MOVX    A,@DPTR
09D3 FC                MOV     R4,A
09D4 A3                INC     DPTR
09D5 E0                MOVX    A,@DPTR
09D6 FD                MOV     R5,A
09D7 A3                INC     DPTR
09D8 E0                MOVX    A,@DPTR
09D9 FE                MOV     R6,A
09DA A3                INC     DPTR
09DB E0                MOVX    A,@DPTR
09DC FF                MOV     R7,A
09DD 900000      E     MOV     DPTR,#?_sprintf?BYTE+0AH
09E0 120000      E     LCALL   ?C?LSTXDATA
09E3 7B01              MOV     R3,#01H
09E5 7A00        R     MOV     R2,#HIGH str
09E7 7900        R     MOV     R1,#LOW str
09E9 120000      E     LCALL   _sprintf
                                           ; SOURCE LINE # 1033
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 136 

09EC 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
09EF 7401              MOV     A,#01H
09F1 F0                MOVX    @DPTR,A
09F2 A3                INC     DPTR
09F3 7400        R     MOV     A,#HIGH str
09F5 F0                MOVX    @DPTR,A
09F6 A3                INC     DPTR
09F7 7400        R     MOV     A,#LOW str
09F9 F0                MOVX    @DPTR,A
09FA 900000      R     MOV     DPTR,#info_string
09FD E0                MOVX    A,@DPTR
09FE FB                MOV     R3,A
09FF A3                INC     DPTR
0A00 E0                MOVX    A,@DPTR
0A01 FA                MOV     R2,A
0A02 A3                INC     DPTR
0A03 E0                MOVX    A,@DPTR
0A04 F9                MOV     R1,A
0A05 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 1034
0A08 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0A0B 74FF              MOV     A,#0FFH
0A0D F0                MOVX    @DPTR,A
0A0E A3                INC     DPTR
0A0F 7400        R     MOV     A,#HIGH ?SC_118
0A11 F0                MOVX    @DPTR,A
0A12 A3                INC     DPTR
0A13 7400        R     MOV     A,#LOW ?SC_118
0A15 F0                MOVX    @DPTR,A
0A16 900000      R     MOV     DPTR,#info_string
0A19 E0                MOVX    A,@DPTR
0A1A FB                MOV     R3,A
0A1B A3                INC     DPTR
0A1C E0                MOVX    A,@DPTR
0A1D FA                MOV     R2,A
0A1E A3                INC     DPTR
0A1F E0                MOVX    A,@DPTR
0A20 F9                MOV     R1,A
0A21 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 1036
0A24 900000      E     MOV     DPTR,#g_mem+03BH
0A27 E0                MOVX    A,@DPTR
0A28 601E              JZ      ?C0260
                                           ; SOURCE LINE # 1037
0A2A 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0A2D 74FF              MOV     A,#0FFH
0A2F F0                MOVX    @DPTR,A
0A30 A3                INC     DPTR
0A31 7400        R     MOV     A,#HIGH ?SC_856
0A33 F0                MOVX    @DPTR,A
0A34 A3                INC     DPTR
0A35 7400        R     MOV     A,#LOW ?SC_856
0A37 F0                MOVX    @DPTR,A
0A38 900000      R     MOV     DPTR,#info_string
0A3B E0                MOVX    A,@DPTR
0A3C FB                MOV     R3,A
0A3D A3                INC     DPTR
0A3E E0                MOVX    A,@DPTR
0A3F FA                MOV     R2,A
0A40 A3                INC     DPTR
0A41 E0                MOVX    A,@DPTR
0A42 F9                MOV     R1,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 137 

0A43 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 1038
0A46 801C              SJMP    ?C0261
0A48         ?C0260:
                                           ; SOURCE LINE # 1039
0A48 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0A4B 74FF              MOV     A,#0FFH
0A4D F0                MOVX    @DPTR,A
0A4E A3                INC     DPTR
0A4F 7400        R     MOV     A,#HIGH ?SC_883
0A51 F0                MOVX    @DPTR,A
0A52 A3                INC     DPTR
0A53 7400        R     MOV     A,#LOW ?SC_883
0A55 F0                MOVX    @DPTR,A
0A56 900000      R     MOV     DPTR,#info_string
0A59 E0                MOVX    A,@DPTR
0A5A FB                MOV     R3,A
0A5B A3                INC     DPTR
0A5C E0                MOVX    A,@DPTR
0A5D FA                MOV     R2,A
0A5E A3                INC     DPTR
0A5F E0                MOVX    A,@DPTR
0A60 F9                MOV     R1,A
0A61 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 1040
0A64         ?C0261:
                                           ; SOURCE LINE # 1042
0A64 900000      E     MOV     DPTR,#?_sprintf?BYTE+03H
0A67 74FF              MOV     A,#0FFH
0A69 F0                MOVX    @DPTR,A
0A6A A3                INC     DPTR
0A6B 7400        R     MOV     A,#HIGH ?SC_909
0A6D F0                MOVX    @DPTR,A
0A6E A3                INC     DPTR
0A6F 7400        R     MOV     A,#LOW ?SC_909
0A71 F0                MOVX    @DPTR,A
0A72 900000      E     MOV     DPTR,#g_mem+044H
0A75 E0                MOVX    A,@DPTR
0A76 FF                MOV     R7,A
0A77 900000      E     MOV     DPTR,#?_sprintf?BYTE+06H
0A7A E4                CLR     A
0A7B F0                MOVX    @DPTR,A
0A7C A3                INC     DPTR
0A7D EF                MOV     A,R7
0A7E F0                MOVX    @DPTR,A
0A7F 7B01              MOV     R3,#01H
0A81 7A00        R     MOV     R2,#HIGH str
0A83 7900        R     MOV     R1,#LOW str
0A85 120000      E     LCALL   _sprintf
                                           ; SOURCE LINE # 1043
0A88 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0A8B 7401              MOV     A,#01H
0A8D F0                MOVX    @DPTR,A
0A8E A3                INC     DPTR
0A8F 7400        R     MOV     A,#HIGH str
0A91 F0                MOVX    @DPTR,A
0A92 A3                INC     DPTR
0A93 7400        R     MOV     A,#LOW str
0A95 F0                MOVX    @DPTR,A
0A96 900000      R     MOV     DPTR,#info_string
0A99 E0                MOVX    A,@DPTR
0A9A FB                MOV     R3,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 138 

0A9B A3                INC     DPTR
0A9C E0                MOVX    A,@DPTR
0A9D FA                MOV     R2,A
0A9E A3                INC     DPTR
0A9F E0                MOVX    A,@DPTR
0AA0 F9                MOV     R1,A
0AA1 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 1044
0AA4 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0AA7 74FF              MOV     A,#0FFH
0AA9 F0                MOVX    @DPTR,A
0AAA A3                INC     DPTR
0AAB 7400        R     MOV     A,#HIGH ?SC_118
0AAD F0                MOVX    @DPTR,A
0AAE A3                INC     DPTR
0AAF 7400        R     MOV     A,#LOW ?SC_118
0AB1 F0                MOVX    @DPTR,A
0AB2 900000      R     MOV     DPTR,#info_string
0AB5 E0                MOVX    A,@DPTR
0AB6 FB                MOV     R3,A
0AB7 A3                INC     DPTR
0AB8 E0                MOVX    A,@DPTR
0AB9 FA                MOV     R2,A
0ABA A3                INC     DPTR
0ABB E0                MOVX    A,@DPTR
0ABC F9                MOV     R1,A
0ABD 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 1046
0AC0 900000      E     MOV     DPTR,#?_sprintf?BYTE+03H
0AC3 74FF              MOV     A,#0FFH
0AC5 F0                MOVX    @DPTR,A
0AC6 A3                INC     DPTR
0AC7 7400        R     MOV     A,#HIGH ?SC_927
0AC9 F0                MOVX    @DPTR,A
0ACA A3                INC     DPTR
0ACB 7400        R     MOV     A,#LOW ?SC_927
0ACD F0                MOVX    @DPTR,A
0ACE 900000      E     MOV     DPTR,#g_mem+04CH
0AD1 E0                MOVX    A,@DPTR
0AD2 A3                INC     DPTR
0AD3 E0                MOVX    A,@DPTR
0AD4 A3                INC     DPTR
0AD5 E0                MOVX    A,@DPTR
0AD6 FF                MOV     R7,A
0AD7 A3                INC     DPTR
0AD8 E0                MOVX    A,@DPTR
0AD9 900000      E     MOV     DPTR,#?_sprintf?BYTE+06H
0ADC CF                XCH     A,R7
0ADD F0                MOVX    @DPTR,A
0ADE A3                INC     DPTR
0ADF EF                MOV     A,R7
0AE0 F0                MOVX    @DPTR,A
0AE1 7B01              MOV     R3,#01H
0AE3 7A00        R     MOV     R2,#HIGH str
0AE5 7900        R     MOV     R1,#LOW str
0AE7 120000      E     LCALL   _sprintf
                                           ; SOURCE LINE # 1047
0AEA 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0AED 7401              MOV     A,#01H
0AEF F0                MOVX    @DPTR,A
0AF0 A3                INC     DPTR
0AF1 7400        R     MOV     A,#HIGH str
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 139 

0AF3 F0                MOVX    @DPTR,A
0AF4 A3                INC     DPTR
0AF5 7400        R     MOV     A,#LOW str
0AF7 F0                MOVX    @DPTR,A
0AF8 900000      R     MOV     DPTR,#info_string
0AFB E0                MOVX    A,@DPTR
0AFC FB                MOV     R3,A
0AFD A3                INC     DPTR
0AFE E0                MOVX    A,@DPTR
0AFF FA                MOV     R2,A
0B00 A3                INC     DPTR
0B01 E0                MOVX    A,@DPTR
0B02 F9                MOV     R1,A
0B03 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 1048
0B06 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0B09 74FF              MOV     A,#0FFH
0B0B F0                MOVX    @DPTR,A
0B0C A3                INC     DPTR
0B0D 7400        R     MOV     A,#HIGH ?SC_118
0B0F F0                MOVX    @DPTR,A
0B10 A3                INC     DPTR
0B11 7400        R     MOV     A,#LOW ?SC_118
0B13 F0                MOVX    @DPTR,A
0B14 900000      R     MOV     DPTR,#info_string
0B17 E0                MOVX    A,@DPTR
0B18 FB                MOV     R3,A
0B19 A3                INC     DPTR
0B1A E0                MOVX    A,@DPTR
0B1B FA                MOV     R2,A
0B1C A3                INC     DPTR
0B1D E0                MOVX    A,@DPTR
0B1E F9                MOV     R1,A
0B1F 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 1050
0B22 900000      E     MOV     DPTR,#?_sprintf?BYTE+03H
0B25 74FF              MOV     A,#0FFH
0B27 F0                MOVX    @DPTR,A
0B28 A3                INC     DPTR
0B29 7400        R     MOV     A,#HIGH ?SC_952
0B2B F0                MOVX    @DPTR,A
0B2C A3                INC     DPTR
0B2D 7400        R     MOV     A,#LOW ?SC_952
0B2F F0                MOVX    @DPTR,A
0B30 900000      E     MOV     DPTR,#g_mem+050H
0B33 E0                MOVX    A,@DPTR
0B34 A3                INC     DPTR
0B35 E0                MOVX    A,@DPTR
0B36 A3                INC     DPTR
0B37 E0                MOVX    A,@DPTR
0B38 FF                MOV     R7,A
0B39 A3                INC     DPTR
0B3A E0                MOVX    A,@DPTR
0B3B 900000      E     MOV     DPTR,#?_sprintf?BYTE+06H
0B3E CF                XCH     A,R7
0B3F F0                MOVX    @DPTR,A
0B40 A3                INC     DPTR
0B41 EF                MOV     A,R7
0B42 F0                MOVX    @DPTR,A
0B43 7B01              MOV     R3,#01H
0B45 7A00        R     MOV     R2,#HIGH str
0B47 7900        R     MOV     R1,#LOW str
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 140 

0B49 120000      E     LCALL   _sprintf
                                           ; SOURCE LINE # 1051
0B4C 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0B4F 7401              MOV     A,#01H
0B51 F0                MOVX    @DPTR,A
0B52 A3                INC     DPTR
0B53 7400        R     MOV     A,#HIGH str
0B55 F0                MOVX    @DPTR,A
0B56 A3                INC     DPTR
0B57 7400        R     MOV     A,#LOW str
0B59 F0                MOVX    @DPTR,A
0B5A 900000      R     MOV     DPTR,#info_string
0B5D E0                MOVX    A,@DPTR
0B5E FB                MOV     R3,A
0B5F A3                INC     DPTR
0B60 E0                MOVX    A,@DPTR
0B61 FA                MOV     R2,A
0B62 A3                INC     DPTR
0B63 E0                MOVX    A,@DPTR
0B64 F9                MOV     R1,A
0B65 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 1052
0B68 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0B6B 74FF              MOV     A,#0FFH
0B6D F0                MOVX    @DPTR,A
0B6E A3                INC     DPTR
0B6F 7400        R     MOV     A,#HIGH ?SC_118
0B71 F0                MOVX    @DPTR,A
0B72 A3                INC     DPTR
0B73 7400        R     MOV     A,#LOW ?SC_118
0B75 F0                MOVX    @DPTR,A
0B76 900000      R     MOV     DPTR,#info_string
0B79 E0                MOVX    A,@DPTR
0B7A FB                MOV     R3,A
0B7B A3                INC     DPTR
0B7C E0                MOVX    A,@DPTR
0B7D FA                MOV     R2,A
0B7E A3                INC     DPTR
0B7F E0                MOVX    A,@DPTR
0B80 F9                MOV     R1,A
0B81 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 1054
0B84 900000      E     MOV     DPTR,#?_sprintf?BYTE+03H
0B87 74FF              MOV     A,#0FFH
0B89 F0                MOVX    @DPTR,A
0B8A A3                INC     DPTR
0B8B 7400        R     MOV     A,#HIGH ?SC_990
0B8D F0                MOVX    @DPTR,A
0B8E A3                INC     DPTR
0B8F 7400        R     MOV     A,#LOW ?SC_990
0B91 F0                MOVX    @DPTR,A
0B92 900000      E     MOV     DPTR,#g_mem+048H
0B95 E0                MOVX    A,@DPTR
0B96 FC                MOV     R4,A
0B97 A3                INC     DPTR
0B98 E0                MOVX    A,@DPTR
0B99 FD                MOV     R5,A
0B9A A3                INC     DPTR
0B9B E0                MOVX    A,@DPTR
0B9C FE                MOV     R6,A
0B9D A3                INC     DPTR
0B9E E0                MOVX    A,@DPTR
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 141 

0B9F FF                MOV     R7,A
0BA0 900000      E     MOV     DPTR,#c_mem+03H
0BA3 E0                MOVX    A,@DPTR
0BA4 F9                MOV     R1,A
0BA5 F8                MOV     R0,A
0BA6 120000      E     LCALL   ?C?SLSHR
0BA9 900000      E     MOV     DPTR,#?_sprintf?BYTE+06H
0BAC EE                MOV     A,R6
0BAD F0                MOVX    @DPTR,A
0BAE A3                INC     DPTR
0BAF EF                MOV     A,R7
0BB0 F0                MOVX    @DPTR,A
0BB1 7B01              MOV     R3,#01H
0BB3 7A00        R     MOV     R2,#HIGH str
0BB5 7900        R     MOV     R1,#LOW str
0BB7 120000      E     LCALL   _sprintf
                                           ; SOURCE LINE # 1055
0BBA 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0BBD 7401              MOV     A,#01H
0BBF F0                MOVX    @DPTR,A
0BC0 A3                INC     DPTR
0BC1 7400        R     MOV     A,#HIGH str
0BC3 F0                MOVX    @DPTR,A
0BC4 A3                INC     DPTR
0BC5 7400        R     MOV     A,#LOW str
0BC7 F0                MOVX    @DPTR,A
0BC8 900000      R     MOV     DPTR,#info_string
0BCB E0                MOVX    A,@DPTR
0BCC FB                MOV     R3,A
0BCD A3                INC     DPTR
0BCE E0                MOVX    A,@DPTR
0BCF FA                MOV     R2,A
0BD0 A3                INC     DPTR
0BD1 E0                MOVX    A,@DPTR
0BD2 F9                MOV     R1,A
0BD3 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 1056
0BD6 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0BD9 74FF              MOV     A,#0FFH
0BDB F0                MOVX    @DPTR,A
0BDC A3                INC     DPTR
0BDD 7400        R     MOV     A,#HIGH ?SC_118
0BDF F0                MOVX    @DPTR,A
0BE0 A3                INC     DPTR
0BE1 7400        R     MOV     A,#LOW ?SC_118
0BE3 F0                MOVX    @DPTR,A
0BE4 900000      R     MOV     DPTR,#info_string
0BE7 E0                MOVX    A,@DPTR
0BE8 FB                MOV     R3,A
0BE9 A3                INC     DPTR
0BEA E0                MOVX    A,@DPTR
0BEB FA                MOV     R2,A
0BEC A3                INC     DPTR
0BED E0                MOVX    A,@DPTR
0BEE F9                MOV     R1,A
0BEF 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 1058
0BF2 900000      E     MOV     DPTR,#g_mem+056H
0BF5 E0                MOVX    A,@DPTR
0BF6 601E              JZ      ?C0262
                                           ; SOURCE LINE # 1059
0BF8 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 142 

0BFB 74FF              MOV     A,#0FFH
0BFD F0                MOVX    @DPTR,A
0BFE A3                INC     DPTR
0BFF 7400        R     MOV     A,#HIGH ?SC_1008
0C01 F0                MOVX    @DPTR,A
0C02 A3                INC     DPTR
0C03 7400        R     MOV     A,#LOW ?SC_1008
0C05 F0                MOVX    @DPTR,A
0C06 900000      R     MOV     DPTR,#info_string
0C09 E0                MOVX    A,@DPTR
0C0A FB                MOV     R3,A
0C0B A3                INC     DPTR
0C0C E0                MOVX    A,@DPTR
0C0D FA                MOV     R2,A
0C0E A3                INC     DPTR
0C0F E0                MOVX    A,@DPTR
0C10 F9                MOV     R1,A
0C11 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 1060
0C14 801C              SJMP    ?C0263
0C16         ?C0262:
                                           ; SOURCE LINE # 1061
0C16 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0C19 74FF              MOV     A,#0FFH
0C1B F0                MOVX    @DPTR,A
0C1C A3                INC     DPTR
0C1D 7400        R     MOV     A,#HIGH ?SC_1041
0C1F F0                MOVX    @DPTR,A
0C20 A3                INC     DPTR
0C21 7400        R     MOV     A,#LOW ?SC_1041
0C23 F0                MOVX    @DPTR,A
0C24 900000      R     MOV     DPTR,#info_string
0C27 E0                MOVX    A,@DPTR
0C28 FB                MOV     R3,A
0C29 A3                INC     DPTR
0C2A E0                MOVX    A,@DPTR
0C2B FA                MOV     R2,A
0C2C A3                INC     DPTR
0C2D E0                MOVX    A,@DPTR
0C2E F9                MOV     R1,A
0C2F 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 1062
0C32         ?C0263:
                                           ; SOURCE LINE # 1064
0C32 900000      E     MOV     DPTR,#g_mem+054H
0C35 E0                MOVX    A,@DPTR
0C36 601E              JZ      ?C0264
                                           ; SOURCE LINE # 1065
0C38 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0C3B 74FF              MOV     A,#0FFH
0C3D F0                MOVX    @DPTR,A
0C3E A3                INC     DPTR
0C3F 7400        R     MOV     A,#HIGH ?SC_1073
0C41 F0                MOVX    @DPTR,A
0C42 A3                INC     DPTR
0C43 7400        R     MOV     A,#LOW ?SC_1073
0C45 F0                MOVX    @DPTR,A
0C46 900000      R     MOV     DPTR,#info_string
0C49 E0                MOVX    A,@DPTR
0C4A FB                MOV     R3,A
0C4B A3                INC     DPTR
0C4C E0                MOVX    A,@DPTR
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 143 

0C4D FA                MOV     R2,A
0C4E A3                INC     DPTR
0C4F E0                MOVX    A,@DPTR
0C50 F9                MOV     R1,A
0C51 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 1066
0C54 801C              SJMP    ?C0265
0C56         ?C0264:
                                           ; SOURCE LINE # 1067
0C56 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0C59 74FF              MOV     A,#0FFH
0C5B F0                MOVX    @DPTR,A
0C5C A3                INC     DPTR
0C5D 7400        R     MOV     A,#HIGH ?SC_1105
0C5F F0                MOVX    @DPTR,A
0C60 A3                INC     DPTR
0C61 7400        R     MOV     A,#LOW ?SC_1105
0C63 F0                MOVX    @DPTR,A
0C64 900000      R     MOV     DPTR,#info_string
0C67 E0                MOVX    A,@DPTR
0C68 FB                MOV     R3,A
0C69 A3                INC     DPTR
0C6A E0                MOVX    A,@DPTR
0C6B FA                MOV     R2,A
0C6C A3                INC     DPTR
0C6D E0                MOVX    A,@DPTR
0C6E F9                MOV     R1,A
0C6F 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 1068
0C72         ?C0265:
                                           ; SOURCE LINE # 1070
0C72 900000      E     MOV     DPTR,#g_mem+055H
0C75 E0                MOVX    A,@DPTR
0C76 601E              JZ      ?C0266
                                           ; SOURCE LINE # 1071
0C78 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0C7B 74FF              MOV     A,#0FFH
0C7D F0                MOVX    @DPTR,A
0C7E A3                INC     DPTR
0C7F 7400        R     MOV     A,#HIGH ?SC_1136
0C81 F0                MOVX    @DPTR,A
0C82 A3                INC     DPTR
0C83 7400        R     MOV     A,#LOW ?SC_1136
0C85 F0                MOVX    @DPTR,A
0C86 900000      R     MOV     DPTR,#info_string
0C89 E0                MOVX    A,@DPTR
0C8A FB                MOV     R3,A
0C8B A3                INC     DPTR
0C8C E0                MOVX    A,@DPTR
0C8D FA                MOV     R2,A
0C8E A3                INC     DPTR
0C8F E0                MOVX    A,@DPTR
0C90 F9                MOV     R1,A
0C91 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 1072
0C94 801C              SJMP    ?C0267
0C96         ?C0266:
                                           ; SOURCE LINE # 1073
0C96 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0C99 74FF              MOV     A,#0FFH
0C9B F0                MOVX    @DPTR,A
0C9C A3                INC     DPTR
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 144 

0C9D 7400        R     MOV     A,#HIGH ?SC_1177
0C9F F0                MOVX    @DPTR,A
0CA0 A3                INC     DPTR
0CA1 7400        R     MOV     A,#LOW ?SC_1177
0CA3 F0                MOVX    @DPTR,A
0CA4 900000      R     MOV     DPTR,#info_string
0CA7 E0                MOVX    A,@DPTR
0CA8 FB                MOV     R3,A
0CA9 A3                INC     DPTR
0CAA E0                MOVX    A,@DPTR
0CAB FA                MOV     R2,A
0CAC A3                INC     DPTR
0CAD E0                MOVX    A,@DPTR
0CAE F9                MOV     R1,A
0CAF 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 1074
0CB2         ?C0267:
                                           ; SOURCE LINE # 1076
0CB2 900000      E     MOV     DPTR,#?_sprintf?BYTE+03H
0CB5 74FF              MOV     A,#0FFH
0CB7 F0                MOVX    @DPTR,A
0CB8 A3                INC     DPTR
0CB9 7400        R     MOV     A,#HIGH ?SC_1217
0CBB F0                MOVX    @DPTR,A
0CBC A3                INC     DPTR
0CBD 7400        R     MOV     A,#LOW ?SC_1217
0CBF F0                MOVX    @DPTR,A
0CC0 900000      E     MOV     DPTR,#timer_value
0CC3 E0                MOVX    A,@DPTR
0CC4 F8                MOV     R0,A
0CC5 A3                INC     DPTR
0CC6 E0                MOVX    A,@DPTR
0CC7 F9                MOV     R1,A
0CC8 A3                INC     DPTR
0CC9 E0                MOVX    A,@DPTR
0CCA FA                MOV     R2,A
0CCB A3                INC     DPTR
0CCC E0                MOVX    A,@DPTR
0CCD FB                MOV     R3,A
0CCE 900000      E     MOV     DPTR,#timer_value0
0CD1 E0                MOVX    A,@DPTR
0CD2 FC                MOV     R4,A
0CD3 A3                INC     DPTR
0CD4 E0                MOVX    A,@DPTR
0CD5 FD                MOV     R5,A
0CD6 A3                INC     DPTR
0CD7 E0                MOVX    A,@DPTR
0CD8 FE                MOV     R6,A
0CD9 A3                INC     DPTR
0CDA E0                MOVX    A,@DPTR
0CDB C3                CLR     C
0CDC 9B                SUBB    A,R3
0CDD FF                MOV     R7,A
0CDE EE                MOV     A,R6
0CDF 9A                SUBB    A,R2
0CE0 FE                MOV     R6,A
0CE1 ED                MOV     A,R5
0CE2 99                SUBB    A,R1
0CE3 FD                MOV     R5,A
0CE4 EC                MOV     A,R4
0CE5 98                SUBB    A,R0
0CE6 FC                MOV     R4,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 145 

0CE7 900000      E     MOV     DPTR,#?_sprintf?BYTE+06H
0CEA 120000      E     LCALL   ?C?LSTXDATA
0CED 7B01              MOV     R3,#01H
0CEF 7A00        R     MOV     R2,#HIGH str
0CF1 7900        R     MOV     R1,#LOW str
0CF3 120000      E     LCALL   _sprintf
                                           ; SOURCE LINE # 1077
0CF6 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0CF9 7401              MOV     A,#01H
0CFB F0                MOVX    @DPTR,A
0CFC A3                INC     DPTR
0CFD 7400        R     MOV     A,#HIGH str
0CFF F0                MOVX    @DPTR,A
0D00 A3                INC     DPTR
0D01 7400        R     MOV     A,#LOW str
0D03 F0                MOVX    @DPTR,A
0D04 900000      R     MOV     DPTR,#info_string
0D07 E0                MOVX    A,@DPTR
0D08 FB                MOV     R3,A
0D09 A3                INC     DPTR
0D0A E0                MOVX    A,@DPTR
0D0B FA                MOV     R2,A
0D0C A3                INC     DPTR
0D0D E0                MOVX    A,@DPTR
0D0E F9                MOV     R1,A
0D0F 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 1078
0D12 900000      E     MOV     DPTR,#?_strcat?BYTE+03H
0D15 74FF              MOV     A,#0FFH
0D17 F0                MOVX    @DPTR,A
0D18 A3                INC     DPTR
0D19 7400        R     MOV     A,#HIGH ?SC_118
0D1B F0                MOVX    @DPTR,A
0D1C A3                INC     DPTR
0D1D 7400        R     MOV     A,#LOW ?SC_118
0D1F F0                MOVX    @DPTR,A
0D20 900000      R     MOV     DPTR,#info_string
0D23 E0                MOVX    A,@DPTR
0D24 FB                MOV     R3,A
0D25 A3                INC     DPTR
0D26 E0                MOVX    A,@DPTR
0D27 FA                MOV     R2,A
0D28 A3                INC     DPTR
0D29 E0                MOVX    A,@DPTR
0D2A F9                MOV     R1,A
0D2B 120000      E     LCALL   _strcat
                                           ; SOURCE LINE # 1079
                                           ; SOURCE LINE # 1080
0D2E         ?C0268:
0D2E 22                RET     
             ; FUNCTION _infoPrepare (END)

             ; FUNCTION _commWrite_old_id (BEGIN)
                                           ; SOURCE LINE # 1086
0000 900000      R     MOV     DPTR,#packet_data
0003 EB                MOV     A,R3
0004 F0                MOVX    @DPTR,A
0005 A3                INC     DPTR
0006 EA                MOV     A,R2
0007 F0                MOVX    @DPTR,A
0008 A3                INC     DPTR
0009 E9                MOV     A,R1
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 146 

000A F0                MOVX    @DPTR,A
000B A3                INC     DPTR
000C EC                MOV     A,R4
000D F0                MOVX    @DPTR,A
000E A3                INC     DPTR
000F ED                MOV     A,R5
0010 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 1087
                                           ; SOURCE LINE # 1091
0011 7F3A              MOV     R7,#03AH
0013 120000      E     LCALL   _UART_RS485_PutChar
                                           ; SOURCE LINE # 1092
0016 7F3A              MOV     R7,#03AH
0018 120000      E     LCALL   _UART_RS485_PutChar
                                           ; SOURCE LINE # 1095
001B 900000      R     MOV     DPTR,#old_id
001E E0                MOVX    A,@DPTR
001F FF                MOV     R7,A
0020 120000      E     LCALL   _UART_RS485_PutChar
                                           ; SOURCE LINE # 1100
0023 900000      R     MOV     DPTR,#packet_lenght
0026 E0                MOVX    A,@DPTR
0027 A3                INC     DPTR
0028 E0                MOVX    A,@DPTR
0029 FF                MOV     R7,A
002A 120000      E     LCALL   _UART_RS485_PutChar
                                           ; SOURCE LINE # 1102
002D E4                CLR     A
002E F500        R     MOV     index,A
0030 F500        R     MOV     index+01H,A
0032         ?C0269:
0032 D3                SETB    C
0033 900000      R     MOV     DPTR,#packet_lenght+01H
0036 E0                MOVX    A,@DPTR
0037 9500        R     SUBB    A,index+01H
0039 900000      R     MOV     DPTR,#packet_lenght
003C E0                MOVX    A,@DPTR
003D 9500        R     SUBB    A,index
003F 4022              JC      ?C0270
                                           ; SOURCE LINE # 1103
0041 900000      R     MOV     DPTR,#packet_data
0044 E0                MOVX    A,@DPTR
0045 FB                MOV     R3,A
0046 A3                INC     DPTR
0047 E0                MOVX    A,@DPTR
0048 FA                MOV     R2,A
0049 A3                INC     DPTR
004A E0                MOVX    A,@DPTR
004B 2500        R     ADD     A,index+01H
004D F9                MOV     R1,A
004E EA                MOV     A,R2
004F 3500        R     ADDC    A,index
0051 FA                MOV     R2,A
0052 120000      E     LCALL   ?C?CLDPTR
0055 FF                MOV     R7,A
0056 120000      E     LCALL   _UART_RS485_PutChar
                                           ; SOURCE LINE # 1104
0059 0500        R     INC     index+01H
005B E500        R     MOV     A,index+01H
005D 7002              JNZ     ?C0394
005F 0500        R     INC     index
0061         ?C0394:
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 147 

0061 80CF              SJMP    ?C0269
0063         ?C0270:
                                           ; SOURCE LINE # 1106
0063 E4                CLR     A
0064 F500        R     MOV     index,A
0066 F500        R     MOV     index+01H,A
0068         ?C0272:
                                           ; SOURCE LINE # 1108
0068 120000      E     LCALL   UART_RS485_ReadTxStatus
006B EF                MOV     A,R7
006C 20E013            JB      ACC.0,?C0273
006F 0500        R     INC     index+01H
0071 E500        R     MOV     A,index+01H
0073 AE00        R     MOV     R6,index
0075 7002              JNZ     ?C0395
0077 0500        R     INC     index
0079         ?C0395:
0079 14                DEC     A
007A D3                SETB    C
007B 94E8              SUBB    A,#0E8H
007D EE                MOV     A,R6
007E 9403              SUBB    A,#03H
0080 40E6              JC      ?C0272
0082         ?C0273:
                                           ; SOURCE LINE # 1110
0082 7F01              MOV     R7,#01H
0084 120000      E     LCALL   _RS485_CTS_Write
                                           ; SOURCE LINE # 1111
0087 E4                CLR     A
0088 FF                MOV     R7,A
0089 120000      E     LCALL   _RS485_CTS_Write
                                           ; SOURCE LINE # 1112
008C 22                RET     
             ; FUNCTION _commWrite_old_id (END)

             ; FUNCTION _commWrite (BEGIN)
                                           ; SOURCE LINE # 1114
0000 900000      R     MOV     DPTR,#packet_data
0003 EB                MOV     A,R3
0004 F0                MOVX    @DPTR,A
0005 A3                INC     DPTR
0006 EA                MOV     A,R2
0007 F0                MOVX    @DPTR,A
0008 A3                INC     DPTR
0009 E9                MOV     A,R1
000A F0                MOVX    @DPTR,A
000B A3                INC     DPTR
000C EC                MOV     A,R4
000D F0                MOVX    @DPTR,A
000E A3                INC     DPTR
000F ED                MOV     A,R5
0010 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 1115
                                           ; SOURCE LINE # 1119
0011 7F3A              MOV     R7,#03AH
0013 120000      E     LCALL   _UART_RS485_PutChar
                                           ; SOURCE LINE # 1120
0016 7F3A              MOV     R7,#03AH
0018 120000      E     LCALL   _UART_RS485_PutChar
                                           ; SOURCE LINE # 1122
001B 900000      E     MOV     DPTR,#g_mem+01H
001E E0                MOVX    A,@DPTR
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 148 

001F FF                MOV     R7,A
0020 120000      E     LCALL   _UART_RS485_PutChar
                                           ; SOURCE LINE # 1124
0023 900000      R     MOV     DPTR,#packet_lenght
0026 E0                MOVX    A,@DPTR
0027 A3                INC     DPTR
0028 E0                MOVX    A,@DPTR
0029 FF                MOV     R7,A
002A 120000      E     LCALL   _UART_RS485_PutChar
                                           ; SOURCE LINE # 1126
002D E4                CLR     A
002E F500        R     MOV     index,A
0030 F500        R     MOV     index+01H,A
0032         ?C0275:
0032 D3                SETB    C
0033 900000      R     MOV     DPTR,#packet_lenght+01H
0036 E0                MOVX    A,@DPTR
0037 9500        R     SUBB    A,index+01H
0039 900000      R     MOV     DPTR,#packet_lenght
003C E0                MOVX    A,@DPTR
003D 9500        R     SUBB    A,index
003F 4022              JC      ?C0276
                                           ; SOURCE LINE # 1127
0041 900000      R     MOV     DPTR,#packet_data
0044 E0                MOVX    A,@DPTR
0045 FB                MOV     R3,A
0046 A3                INC     DPTR
0047 E0                MOVX    A,@DPTR
0048 FA                MOV     R2,A
0049 A3                INC     DPTR
004A E0                MOVX    A,@DPTR
004B 2500        R     ADD     A,index+01H
004D F9                MOV     R1,A
004E EA                MOV     A,R2
004F 3500        R     ADDC    A,index
0051 FA                MOV     R2,A
0052 120000      E     LCALL   ?C?CLDPTR
0055 FF                MOV     R7,A
0056 120000      E     LCALL   _UART_RS485_PutChar
                                           ; SOURCE LINE # 1128
0059 0500        R     INC     index+01H
005B E500        R     MOV     A,index+01H
005D 7002              JNZ     ?C0396
005F 0500        R     INC     index
0061         ?C0396:
0061 80CF              SJMP    ?C0275
0063         ?C0276:
                                           ; SOURCE LINE # 1130
0063 E4                CLR     A
0064 F500        R     MOV     index,A
0066 F500        R     MOV     index+01H,A
0068         ?C0278:
                                           ; SOURCE LINE # 1132
0068 120000      E     LCALL   UART_RS485_ReadTxStatus
006B EF                MOV     A,R7
006C 20E013            JB      ACC.0,?C0279
006F 0500        R     INC     index+01H
0071 E500        R     MOV     A,index+01H
0073 AE00        R     MOV     R6,index
0075 7002              JNZ     ?C0397
0077 0500        R     INC     index
0079         ?C0397:
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 149 

0079 14                DEC     A
007A D3                SETB    C
007B 94E8              SUBB    A,#0E8H
007D EE                MOV     A,R6
007E 9403              SUBB    A,#03H
0080 40E6              JC      ?C0278
0082         ?C0279:
                                           ; SOURCE LINE # 1134
0082 7F01              MOV     R7,#01H
0084 120000      E     LCALL   _RS485_CTS_Write
                                           ; SOURCE LINE # 1135
0087 E4                CLR     A
0088 FF                MOV     R7,A
0089 120000      E     LCALL   _RS485_CTS_Write
                                           ; SOURCE LINE # 1136
008C 22                RET     
             ; FUNCTION _commWrite (END)

             ; FUNCTION commReadMeasFromSH (BEGIN)
                                           ; SOURCE LINE # 1142
                                           ; SOURCE LINE # 1143
                                           ; SOURCE LINE # 1146
0000 E4                CLR     A
0001 FF                MOV     R7,A
0002 FE                MOV     R6,A
0003 FD                MOV     R5,A
0004 FC                MOV     R4,A
0005 900000      R     MOV     DPTR,#aux_val
0008 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 1149
;---- Variable 'packet_lenght' assigned to Register 'R7' ----
000B 7F02              MOV     R7,#02H
                                           ; SOURCE LINE # 1150
000D 900000      R     MOV     DPTR,#packet_data
0010 7484              MOV     A,#084H
0012 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 1151
0013 A3                INC     DPTR
0014 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 1152
0015 7B01              MOV     R3,#01H
0017 7A00        R     MOV     R2,#HIGH packet_data
0019 7900        R     MOV     R1,#LOW packet_data
001B EF                MOV     A,R7
001C FD                MOV     R5,A
001D 7C00              MOV     R4,#00H
001F 900000      E     MOV     DPTR,#c_mem+067H
0022 E0                MOVX    A,@DPTR
0023 900000      R     MOV     DPTR,#?_commWriteID?BYTE+05H
0026 F0                MOVX    @DPTR,A
0027 120000      R     LCALL   _commWriteID
                                           ; SOURCE LINE # 1154
002A 120000      E     LCALL   MY_TIMER_ReadCounter
002D 900000      R     MOV     DPTR,#t_start
0030 120000      E     LCALL   ?C?LSTXDATA
0033         ?C0281:
                                           ; SOURCE LINE # 1155
0033 900000      E     MOV     DPTR,#g_rx
0036 E0                MOVX    A,@DPTR
0037 6484              XRL     A,#084H
0039 604A              JZ      ?C0282
                                           ; SOURCE LINE # 1156
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 150 

003B 300005            JNB     interrupt_flag,?C0283
                                           ; SOURCE LINE # 1157
003E C200        E     CLR     interrupt_flag
                                           ; SOURCE LINE # 1158
0040 120000      E     LCALL   interrupt_manager
                                           ; SOURCE LINE # 1159
0043         ?C0283:
                                           ; SOURCE LINE # 1161
0043 120000      E     LCALL   MY_TIMER_ReadCounter
0046 900000      R     MOV     DPTR,#t_end
0049 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 1162
004C 900000      R     MOV     DPTR,#t_end
004F E0                MOVX    A,@DPTR
0050 F8                MOV     R0,A
0051 A3                INC     DPTR
0052 E0                MOVX    A,@DPTR
0053 F9                MOV     R1,A
0054 A3                INC     DPTR
0055 E0                MOVX    A,@DPTR
0056 FA                MOV     R2,A
0057 A3                INC     DPTR
0058 E0                MOVX    A,@DPTR
0059 FB                MOV     R3,A
005A 900000      R     MOV     DPTR,#t_start
005D E0                MOVX    A,@DPTR
005E FC                MOV     R4,A
005F A3                INC     DPTR
0060 E0                MOVX    A,@DPTR
0061 FD                MOV     R5,A
0062 A3                INC     DPTR
0063 E0                MOVX    A,@DPTR
0064 FE                MOV     R6,A
0065 A3                INC     DPTR
0066 E0                MOVX    A,@DPTR
0067 C3                CLR     C
0068 9B                SUBB    A,R3
0069 FF                MOV     R7,A
006A EE                MOV     A,R6
006B 9A                SUBB    A,R2
006C FE                MOV     R6,A
006D ED                MOV     A,R5
006E 99                SUBB    A,R1
006F FD                MOV     R5,A
0070 EC                MOV     A,R4
0071 98                SUBB    A,R0
0072 FC                MOV     R4,A
0073 7B80              MOV     R3,#080H
0075 7A96              MOV     R2,#096H
0077 7998              MOV     R1,#098H
0079 7800              MOV     R0,#00H
007B C3                CLR     C
007C 120000      E     LCALL   ?C?ULCMP
007F 50B2              JNC     ?C0281
                                           ; SOURCE LINE # 1164
0081 8002              SJMP    ?C0282
                                           ; SOURCE LINE # 1165
0083         ?C0284:
                                           ; SOURCE LINE # 1166
0083 80AE              SJMP    ?C0281
0085         ?C0282:
                                           ; SOURCE LINE # 1168
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 151 

0085 900000      E     MOV     DPTR,#master_mode
0088 E0                MOVX    A,@DPTR
0089 6031              JZ      ?C0285
                                           ; SOURCE LINE # 1169
008B 900000      E     MOV     DPTR,#g_rx+01H
008E E0                MOVX    A,@DPTR
008F FE                MOV     R6,A
0090 A3                INC     DPTR
0091 E0                MOVX    A,@DPTR
0092 FF                MOV     R7,A
0093 EE                MOV     A,R6
0094 33                RLC     A
0095 95E0              SUBB    A,ACC
0097 FD                MOV     R5,A
0098 FC                MOV     R4,A
0099 900000      R     MOV     DPTR,#aux_val
009C 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 1171
009F 900000      R     MOV     DPTR,#aux_val
00A2 E0                MOVX    A,@DPTR
00A3 FC                MOV     R4,A
00A4 A3                INC     DPTR
00A5 E0                MOVX    A,@DPTR
00A6 FD                MOV     R5,A
00A7 A3                INC     DPTR
00A8 E0                MOVX    A,@DPTR
00A9 FE                MOV     R6,A
00AA A3                INC     DPTR
00AB E0                MOVX    A,@DPTR
00AC FF                MOV     R7,A
00AD 900000      E     MOV     DPTR,#g_mem+03H
00B0 E0                MOVX    A,@DPTR
00B1 F9                MOV     R1,A
00B2 F8                MOV     R0,A
00B3 120000      E     LCALL   ?C?LSHL
00B6 900000      R     MOV     DPTR,#aux_val
00B9 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 1172
00BC         ?C0285:
                                           ; SOURCE LINE # 1174
00BC 900000      R     MOV     DPTR,#aux_val
00BF E0                MOVX    A,@DPTR
00C0 FC                MOV     R4,A
00C1 A3                INC     DPTR
00C2 E0                MOVX    A,@DPTR
00C3 FD                MOV     R5,A
00C4 A3                INC     DPTR
00C5 E0                MOVX    A,@DPTR
00C6 FE                MOV     R6,A
00C7 A3                INC     DPTR
00C8 E0                MOVX    A,@DPTR
00C9 FF                MOV     R7,A
                                           ; SOURCE LINE # 1175
00CA         ?C0286:
00CA 22                RET     
             ; FUNCTION commReadMeasFromSH (END)

             ; FUNCTION commReadResCurrFromSH (BEGIN)
                                           ; SOURCE LINE # 1182
                                           ; SOURCE LINE # 1183
                                           ; SOURCE LINE # 1186
0000 E4                CLR     A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 152 

0001 900000      R     MOV     DPTR,#curr_diff
0004 F0                MOVX    @DPTR,A
0005 A3                INC     DPTR
0006 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 1188
0007 FF                MOV     R7,A
0008 FE                MOV     R6,A
0009 FD                MOV     R5,A
000A FC                MOV     R4,A
000B 900000      R     MOV     DPTR,#aux_val
000E 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 1190
;---- Variable 'packet_lenght' assigned to Register 'R7' ----
0011 7F02              MOV     R7,#02H
                                           ; SOURCE LINE # 1191
0013 900000      R     MOV     DPTR,#packet_data
0016 7486              MOV     A,#086H
0018 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 1192
0019 A3                INC     DPTR
001A F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 1193
001B 7B01              MOV     R3,#01H
001D 7A00        R     MOV     R2,#HIGH packet_data
001F 7900        R     MOV     R1,#LOW packet_data
0021 EF                MOV     A,R7
0022 FD                MOV     R5,A
0023 7C00              MOV     R4,#00H
0025 900000      E     MOV     DPTR,#c_mem+067H
0028 E0                MOVX    A,@DPTR
0029 900000      R     MOV     DPTR,#?_commWriteID?BYTE+05H
002C F0                MOVX    @DPTR,A
002D 120000      R     LCALL   _commWriteID
                                           ; SOURCE LINE # 1195
0030 120000      E     LCALL   MY_TIMER_ReadCounter
0033 900000      R     MOV     DPTR,#t_start
0036 120000      E     LCALL   ?C?LSTXDATA
0039         ?C0287:
                                           ; SOURCE LINE # 1196
0039 900000      E     MOV     DPTR,#g_rx
003C E0                MOVX    A,@DPTR
003D 6486              XRL     A,#086H
003F 604A              JZ      ?C0288
                                           ; SOURCE LINE # 1197
0041 300005            JNB     interrupt_flag,?C0289
                                           ; SOURCE LINE # 1198
0044 C200        E     CLR     interrupt_flag
                                           ; SOURCE LINE # 1199
0046 120000      E     LCALL   interrupt_manager
                                           ; SOURCE LINE # 1200
0049         ?C0289:
                                           ; SOURCE LINE # 1202
0049 120000      E     LCALL   MY_TIMER_ReadCounter
004C 900000      R     MOV     DPTR,#t_end
004F 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 1203
0052 900000      R     MOV     DPTR,#t_end
0055 E0                MOVX    A,@DPTR
0056 F8                MOV     R0,A
0057 A3                INC     DPTR
0058 E0                MOVX    A,@DPTR
0059 F9                MOV     R1,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 153 

005A A3                INC     DPTR
005B E0                MOVX    A,@DPTR
005C FA                MOV     R2,A
005D A3                INC     DPTR
005E E0                MOVX    A,@DPTR
005F FB                MOV     R3,A
0060 900000      R     MOV     DPTR,#t_start
0063 E0                MOVX    A,@DPTR
0064 FC                MOV     R4,A
0065 A3                INC     DPTR
0066 E0                MOVX    A,@DPTR
0067 FD                MOV     R5,A
0068 A3                INC     DPTR
0069 E0                MOVX    A,@DPTR
006A FE                MOV     R6,A
006B A3                INC     DPTR
006C E0                MOVX    A,@DPTR
006D C3                CLR     C
006E 9B                SUBB    A,R3
006F FF                MOV     R7,A
0070 EE                MOV     A,R6
0071 9A                SUBB    A,R2
0072 FE                MOV     R6,A
0073 ED                MOV     A,R5
0074 99                SUBB    A,R1
0075 FD                MOV     R5,A
0076 EC                MOV     A,R4
0077 98                SUBB    A,R0
0078 FC                MOV     R4,A
0079 7B80              MOV     R3,#080H
007B 7A96              MOV     R2,#096H
007D 7998              MOV     R1,#098H
007F 7800              MOV     R0,#00H
0081 C3                CLR     C
0082 120000      E     LCALL   ?C?ULCMP
0085 50B2              JNC     ?C0287
                                           ; SOURCE LINE # 1205
0087 8002              SJMP    ?C0288
                                           ; SOURCE LINE # 1206
0089         ?C0290:
                                           ; SOURCE LINE # 1207
0089 80AE              SJMP    ?C0287
008B         ?C0288:
                                           ; SOURCE LINE # 1209
008B 900000      E     MOV     DPTR,#master_mode
008E E0                MOVX    A,@DPTR
008F 6040              JZ      ?C0291
                                           ; SOURCE LINE # 1210
0091 900000      E     MOV     DPTR,#g_rx+03H
0094 E0                MOVX    A,@DPTR
0095 FF                MOV     R7,A
0096 A3                INC     DPTR
0097 E0                MOVX    A,@DPTR
0098 900000      R     MOV     DPTR,#curr_diff
009B CF                XCH     A,R7
009C F0                MOVX    @DPTR,A
009D A3                INC     DPTR
009E EF                MOV     A,R7
009F F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 1212
00A0 900000      E     MOV     DPTR,#g_rx+05H
00A3 E0                MOVX    A,@DPTR
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 154 

00A4 FE                MOV     R6,A
00A5 A3                INC     DPTR
00A6 E0                MOVX    A,@DPTR
00A7 FF                MOV     R7,A
00A8 EE                MOV     A,R6
00A9 33                RLC     A
00AA 95E0              SUBB    A,ACC
00AC FD                MOV     R5,A
00AD FC                MOV     R4,A
00AE 900000      R     MOV     DPTR,#aux_val
00B1 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 1213
00B4 900000      R     MOV     DPTR,#aux_val
00B7 E0                MOVX    A,@DPTR
00B8 FC                MOV     R4,A
00B9 A3                INC     DPTR
00BA E0                MOVX    A,@DPTR
00BB FD                MOV     R5,A
00BC A3                INC     DPTR
00BD E0                MOVX    A,@DPTR
00BE FE                MOV     R6,A
00BF A3                INC     DPTR
00C0 E0                MOVX    A,@DPTR
00C1 FF                MOV     R7,A
00C2 900000      E     MOV     DPTR,#g_mem+03H
00C5 E0                MOVX    A,@DPTR
00C6 F9                MOV     R1,A
00C7 F8                MOV     R0,A
00C8 120000      E     LCALL   ?C?LSHL
00CB 900000      E     MOV     DPTR,#SH_current_position
00CE 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 1214
00D1         ?C0291:
                                           ; SOURCE LINE # 1216
00D1 900000      R     MOV     DPTR,#curr_diff
00D4 E0                MOVX    A,@DPTR
00D5 FE                MOV     R6,A
00D6 A3                INC     DPTR
00D7 E0                MOVX    A,@DPTR
00D8 FF                MOV     R7,A
                                           ; SOURCE LINE # 1217
00D9         ?C0292:
00D9 22                RET     
             ; FUNCTION commReadResCurrFromSH (END)

             ; FUNCTION _commWriteID (BEGIN)
                                           ; SOURCE LINE # 1223
0000 900000      R     MOV     DPTR,#packet_data
0003 EB                MOV     A,R3
0004 F0                MOVX    @DPTR,A
0005 A3                INC     DPTR
0006 EA                MOV     A,R2
0007 F0                MOVX    @DPTR,A
0008 A3                INC     DPTR
0009 E9                MOV     A,R1
000A F0                MOVX    @DPTR,A
000B A3                INC     DPTR
000C EC                MOV     A,R4
000D F0                MOVX    @DPTR,A
000E A3                INC     DPTR
000F ED                MOV     A,R5
0010 F0                MOVX    @DPTR,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 155 

                                           ; SOURCE LINE # 1224
                                           ; SOURCE LINE # 1228
0011 7F3A              MOV     R7,#03AH
0013 120000      E     LCALL   _UART_RS485_PutChar
                                           ; SOURCE LINE # 1229
0016 7F3A              MOV     R7,#03AH
0018 120000      E     LCALL   _UART_RS485_PutChar
                                           ; SOURCE LINE # 1231
001B 900000      R     MOV     DPTR,#id
001E E0                MOVX    A,@DPTR
001F FF                MOV     R7,A
0020 120000      E     LCALL   _UART_RS485_PutChar
                                           ; SOURCE LINE # 1233
0023 900000      R     MOV     DPTR,#packet_lenght
0026 E0                MOVX    A,@DPTR
0027 A3                INC     DPTR
0028 E0                MOVX    A,@DPTR
0029 FF                MOV     R7,A
002A 120000      E     LCALL   _UART_RS485_PutChar
                                           ; SOURCE LINE # 1235
002D E4                CLR     A
002E F500        R     MOV     i,A
0030 F500        R     MOV     i+01H,A
0032         ?C0293:
0032 D3                SETB    C
0033 900000      R     MOV     DPTR,#packet_lenght+01H
0036 E0                MOVX    A,@DPTR
0037 9500        R     SUBB    A,i+01H
0039 900000      R     MOV     DPTR,#packet_lenght
003C E0                MOVX    A,@DPTR
003D 9500        R     SUBB    A,i
003F 4022              JC      ?C0294
                                           ; SOURCE LINE # 1236
0041 900000      R     MOV     DPTR,#packet_data
0044 E0                MOVX    A,@DPTR
0045 FB                MOV     R3,A
0046 A3                INC     DPTR
0047 E0                MOVX    A,@DPTR
0048 FA                MOV     R2,A
0049 A3                INC     DPTR
004A E0                MOVX    A,@DPTR
004B 2500        R     ADD     A,i+01H
004D F9                MOV     R1,A
004E EA                MOV     A,R2
004F 3500        R     ADDC    A,i
0051 FA                MOV     R2,A
0052 120000      E     LCALL   ?C?CLDPTR
0055 FF                MOV     R7,A
0056 120000      E     LCALL   _UART_RS485_PutChar
                                           ; SOURCE LINE # 1237
0059 0500        R     INC     i+01H
005B E500        R     MOV     A,i+01H
005D 7002              JNZ     ?C0398
005F 0500        R     INC     i
0061         ?C0398:
0061 80CF              SJMP    ?C0293
0063         ?C0294:
                                           ; SOURCE LINE # 1239
0063 E4                CLR     A
0064 F500        R     MOV     i,A
0066 F500        R     MOV     i+01H,A
0068         ?C0296:
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 156 

                                           ; SOURCE LINE # 1241
0068 120000      E     LCALL   UART_RS485_ReadTxStatus
006B EF                MOV     A,R7
006C 20E013            JB      ACC.0,?C0298
006F 0500        R     INC     i+01H
0071 E500        R     MOV     A,i+01H
0073 AE00        R     MOV     R6,i
0075 7002              JNZ     ?C0399
0077 0500        R     INC     i
0079         ?C0399:
0079 14                DEC     A
007A D3                SETB    C
007B 94E8              SUBB    A,#0E8H
007D EE                MOV     A,R6
007E 9403              SUBB    A,#03H
0080 40E6              JC      ?C0296
0082         ?C0297:
                                           ; SOURCE LINE # 1242
0082         ?C0298:
0082 22                RET     
             ; FUNCTION _commWriteID (END)

             ; FUNCTION drive_SH (BEGIN)
                                           ; SOURCE LINE # 1248
                                           ; SOURCE LINE # 1253
0000 900000      E     MOV     DPTR,#c_mem+02H
0003 E0                MOVX    A,@DPTR
0004 FF                MOV     R7,A
0005 6401              XRL     A,#01H
0007 601F              JZ      ?C0299
0009 EF                MOV     A,R7
000A 6406              XRL     A,#06H
000C 601A              JZ      ?C0299
000E EF                MOV     A,R7
000F 6402              XRL     A,#02H
0011 6015              JZ      ?C0299
0013 EF                MOV     A,R7
0014 6403              XRL     A,#03H
0016 6010              JZ      ?C0299
0018 EF                MOV     A,R7
0019 6404              XRL     A,#04H
001B 600B              JZ      ?C0299
001D EF                MOV     A,R7
001E 6405              XRL     A,#05H
0020 6006              JZ      ?C0299
                                           ; SOURCE LINE # 1258
                                           ; SOURCE LINE # 1259
0022 E4                CLR     A
0023 900000      E     MOV     DPTR,#master_mode
0026 F0                MOVX    @DPTR,A
0027 22                RET     
                                           ; SOURCE LINE # 1261
0028         ?C0299:
                                           ; SOURCE LINE # 1263
0028 E4                CLR     A
0029 7F58              MOV     R7,#058H
002B 7E1B              MOV     R6,#01BH
002D FD                MOV     R5,A
002E FC                MOV     R4,A
002F 900000      E     MOV     DPTR,#dev_tension
0032 E0                MOVX    A,@DPTR
0033 F8                MOV     R0,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 157 

0034 A3                INC     DPTR
0035 E0                MOVX    A,@DPTR
0036 F9                MOV     R1,A
0037 A3                INC     DPTR
0038 E0                MOVX    A,@DPTR
0039 FA                MOV     R2,A
003A A3                INC     DPTR
003B E0                MOVX    A,@DPTR
003C FB                MOV     R3,A
003D C3                CLR     C
003E 120000      E     LCALL   ?C?SLCMP
0041 5006              JNC     ?C0301
                                           ; SOURCE LINE # 1264
0043 E4                CLR     A
0044 900000      E     MOV     DPTR,#master_mode
0047 F0                MOVX    @DPTR,A
0048 22                RET     
                                           ; SOURCE LINE # 1266
0049         ?C0301:
                                           ; SOURCE LINE # 1270
0049 900000      R     MOV     DPTR,#packet_data
004C 7482              MOV     A,#082H
004E F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 1271
004F 900000      E     MOV     DPTR,#g_ref
0052 E0                MOVX    A,@DPTR
0053 FC                MOV     R4,A
0054 A3                INC     DPTR
0055 E0                MOVX    A,@DPTR
0056 FD                MOV     R5,A
0057 A3                INC     DPTR
0058 E0                MOVX    A,@DPTR
0059 FE                MOV     R6,A
005A A3                INC     DPTR
005B E0                MOVX    A,@DPTR
005C FF                MOV     R7,A
005D 900000      E     MOV     DPTR,#g_mem+03H
0060 E0                MOVX    A,@DPTR
0061 F9                MOV     R1,A
0062 F8                MOV     R0,A
0063 120000      E     LCALL   ?C?SLSHR
0066 900000      R     MOV     DPTR,#packet_data+01H
0069 EE                MOV     A,R6
006A F0                MOVX    @DPTR,A
006B A3                INC     DPTR
006C EF                MOV     A,R7
006D F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 1272
006E E4                CLR     A
006F A3                INC     DPTR
0070 F0                MOVX    @DPTR,A
0071 A3                INC     DPTR
0072 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 1273
0073 900000      R     MOV     DPTR,#packet_lenght
0076 7406              MOV     A,#06H
0078 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 1274
0079 7B01              MOV     R3,#01H
007B 7A00        R     MOV     R2,#HIGH packet_data
007D 7900        R     MOV     R1,#LOW packet_data
007F 14                DEC     A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 158 

0080 FD                MOV     R5,A
0081 120000      R     LCALL   _LCRChecksum
0084 900000      R     MOV     DPTR,#packet_lenght
0087 E0                MOVX    A,@DPTR
0088 FE                MOV     R6,A
0089 2400        R     ADD     A,#LOW packet_data+0FFFFH
008B F582              MOV     DPL,A
008D E4                CLR     A
008E 3400        R     ADDC    A,#HIGH packet_data+0FFFFH
0090 F583              MOV     DPH,A
0092 EF                MOV     A,R7
0093 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 1275
0094 7B01              MOV     R3,#01H
0096 7A00        R     MOV     R2,#HIGH packet_data
0098 7900        R     MOV     R1,#LOW packet_data
009A EE                MOV     A,R6
009B FD                MOV     R5,A
009C 7C00              MOV     R4,#00H
009E 900000      E     MOV     DPTR,#c_mem+067H
00A1 E0                MOVX    A,@DPTR
00A2 900000      R     MOV     DPTR,#?_commWriteID?BYTE+05H
00A5 F0                MOVX    @DPTR,A
00A6 120000      R     LCALL   _commWriteID
                                           ; SOURCE LINE # 1277
00A9         ?C0300:
00A9 22                RET     
             ; FUNCTION drive_SH (END)

             ; FUNCTION drive_force_fb (BEGIN)
                                           ; SOURCE LINE # 1285
                                           ; SOURCE LINE # 1291
0000 120000      R     LCALL   commReadResCurrFromSH
;---- Variable 'curr_diff' assigned to Register 'R6/R7' ----
                                           ; SOURCE LINE # 1294
0003 C3                CLR     C
0004 900000      E     MOV     DPTR,#g_mem+05CH
0007 E0                MOVX    A,@DPTR
0008 9F                SUBB    A,R7
0009 EE                MOV     A,R6
000A 6480              XRL     A,#080H
000C F8                MOV     R0,A
000D 900000      E     MOV     DPTR,#g_mem+05BH
0010 E0                MOVX    A,@DPTR
0011 6480              XRL     A,#080H
0013 98                SUBB    A,R0
0014 5005              JNC     ?C0302
                                           ; SOURCE LINE # 1295
0016 E0                MOVX    A,@DPTR
0017 FE                MOV     R6,A
0018 A3                INC     DPTR
0019 E0                MOVX    A,@DPTR
001A FF                MOV     R7,A
001B         ?C0302:
                                           ; SOURCE LINE # 1297
001B D3                SETB    C
001C 900000      E     MOV     DPTR,#g_mem+05EH
001F E0                MOVX    A,@DPTR
0020 9F                SUBB    A,R7
0021 EE                MOV     A,R6
0022 6480              XRL     A,#080H
0024 F8                MOV     R0,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 159 

0025 900000      E     MOV     DPTR,#g_mem+05DH
0028 E0                MOVX    A,@DPTR
0029 6480              XRL     A,#080H
002B 98                SUBB    A,R0
002C 4005              JC      ?C0303
                                           ; SOURCE LINE # 1298
002E E4                CLR     A
002F FE                MOV     R6,A
0030 FF                MOV     R7,A
0031 800F              SJMP    ?C0304
0033         ?C0303:
                                           ; SOURCE LINE # 1300
0033 900000      E     MOV     DPTR,#g_mem+05DH
0036 E0                MOVX    A,@DPTR
0037 FC                MOV     R4,A
0038 A3                INC     DPTR
0039 E0                MOVX    A,@DPTR
003A FD                MOV     R5,A
003B C3                CLR     C
003C EF                MOV     A,R7
003D 9D                SUBB    A,R5
003E FF                MOV     R7,A
003F EE                MOV     A,R6
0040 9C                SUBB    A,R4
0041 FE                MOV     R6,A
0042         ?C0304:
                                           ; SOURCE LINE # 1302
0042 AD07              MOV     R5,AR7
0044 AC06              MOV     R4,AR6
0046 EC                MOV     A,R4
0047 120000      E     LCALL   ?C?FCASTI
004A 900000      E     MOV     DPTR,#g_mem+057H
004D E0                MOVX    A,@DPTR
004E F8                MOV     R0,A
004F A3                INC     DPTR
0050 E0                MOVX    A,@DPTR
0051 F9                MOV     R1,A
0052 A3                INC     DPTR
0053 E0                MOVX    A,@DPTR
0054 FA                MOV     R2,A
0055 A3                INC     DPTR
0056 E0                MOVX    A,@DPTR
0057 FB                MOV     R3,A
0058 120000      E     LCALL   ?C?FPMUL
005B 7B00              MOV     R3,#00H
005D 7AFF              MOV     R2,#0FFH
005F 797F              MOV     R1,#07FH
0061 7847              MOV     R0,#047H
0063 120000      E     LCALL   ?C?FPMUL
0066 E4                CLR     A
0067 FB                MOV     R3,A
0068 FA                MOV     R2,A
0069 79B4              MOV     R1,#0B4H
006B 7844              MOV     R0,#044H
006D 120000      E     LCALL   ?C?FPDIV
0070 120000      E     LCALL   ?C?CASTF
0073 900000      R     MOV     DPTR,#aux_val
0076 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 1304
0079 900000      R     MOV     DPTR,#aux_val
007C E0                MOVX    A,@DPTR
007D FC                MOV     R4,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 160 

007E A3                INC     DPTR
007F E0                MOVX    A,@DPTR
0080 FD                MOV     R5,A
0081 A3                INC     DPTR
0082 E0                MOVX    A,@DPTR
0083 FE                MOV     R6,A
0084 A3                INC     DPTR
0085 E0                MOVX    A,@DPTR
0086 FF                MOV     R7,A
0087 900000      E     MOV     DPTR,#g_mem+03H
008A E0                MOVX    A,@DPTR
008B FB                MOV     R3,A
008C F8                MOV     R0,A
008D 120000      E     LCALL   ?C?LSHL
0090 120000      E     LCALL   ?C?LNEG
0093 900000      R     MOV     DPTR,#aux_p1
0096 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 1305
0099 900000      R     MOV     DPTR,#aux_val
009C E0                MOVX    A,@DPTR
009D FC                MOV     R4,A
009E A3                INC     DPTR
009F E0                MOVX    A,@DPTR
00A0 FD                MOV     R5,A
00A1 A3                INC     DPTR
00A2 E0                MOVX    A,@DPTR
00A3 FE                MOV     R6,A
00A4 A3                INC     DPTR
00A5 E0                MOVX    A,@DPTR
00A6 FF                MOV     R7,A
00A7 900000      E     MOV     DPTR,#g_mem+04H
00AA E0                MOVX    A,@DPTR
00AB F9                MOV     R1,A
00AC F8                MOV     R0,A
00AD 120000      E     LCALL   ?C?LSHL
00B0 900000      R     MOV     DPTR,#aux_p2
00B3 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 1308
00B6 750082      R     MOV     packet_data,#082H
                                           ; SOURCE LINE # 1309
00B9 900000      R     MOV     DPTR,#aux_p1
00BC E0                MOVX    A,@DPTR
00BD FC                MOV     R4,A
00BE A3                INC     DPTR
00BF E0                MOVX    A,@DPTR
00C0 FD                MOV     R5,A
00C1 A3                INC     DPTR
00C2 E0                MOVX    A,@DPTR
00C3 FE                MOV     R6,A
00C4 A3                INC     DPTR
00C5 E0                MOVX    A,@DPTR
00C6 FF                MOV     R7,A
00C7 A803              MOV     R0,AR3
00C9 120000      E     LCALL   ?C?SLSHR
00CC 8E00        R     MOV     packet_data+01H,R6
00CE 8F00        R     MOV     packet_data+02H,R7
                                           ; SOURCE LINE # 1310
00D0 A3                INC     DPTR
00D1 E0                MOVX    A,@DPTR
00D2 FC                MOV     R4,A
00D3 A3                INC     DPTR
00D4 E0                MOVX    A,@DPTR
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 161 

00D5 FD                MOV     R5,A
00D6 A3                INC     DPTR
00D7 E0                MOVX    A,@DPTR
00D8 FE                MOV     R6,A
00D9 A3                INC     DPTR
00DA E0                MOVX    A,@DPTR
00DB FF                MOV     R7,A
00DC A801              MOV     R0,AR1
00DE 120000      E     LCALL   ?C?SLSHR
00E1 8E00        R     MOV     packet_data+03H,R6
00E3 8F00        R     MOV     packet_data+04H,R7
                                           ; SOURCE LINE # 1311
00E5 7B00              MOV     R3,#00H
00E7 7A00        R     MOV     R2,#HIGH packet_data
00E9 7900        R     MOV     R1,#LOW packet_data
00EB 7D05              MOV     R5,#05H
00ED 120000      R     LCALL   _LCRChecksum
00F0 8F00        R     MOV     packet_data+05H,R7
                                           ; SOURCE LINE # 1312
00F2 7B00              MOV     R3,#00H
00F4 7A00        R     MOV     R2,#HIGH packet_data
00F6 7900        R     MOV     R1,#LOW packet_data
00F8 900000      E     MOV     DPTR,#c_mem+068H
00FB E0                MOVX    A,@DPTR
00FC 900000      R     MOV     DPTR,#?_commWriteID?BYTE+05H
00FF F0                MOVX    @DPTR,A
0100 7D06              MOV     R5,#06H
0102 7C00              MOV     R4,#00H
0104 120000      R     LCALL   _commWriteID
                                           ; SOURCE LINE # 1314
0107 22                RET     
             ; FUNCTION drive_force_fb (END)

             ; FUNCTION drive_proprio_fb (BEGIN)
                                           ; SOURCE LINE # 1321
                                           ; SOURCE LINE # 1326
0000 120000      R     LCALL   commReadMeasFromSH
0003 900000      E     MOV     DPTR,#SH_current_position
0006 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 1328
0009 900000      E     MOV     DPTR,#SH_current_position
000C E0                MOVX    A,@DPTR
000D FC                MOV     R4,A
000E A3                INC     DPTR
000F E0                MOVX    A,@DPTR
0010 FD                MOV     R5,A
0011 A3                INC     DPTR
0012 E0                MOVX    A,@DPTR
0013 FE                MOV     R6,A
0014 A3                INC     DPTR
0015 E0                MOVX    A,@DPTR
0016 FF                MOV     R7,A
0017 900000      E     MOV     DPTR,#g_mem+03H
001A E0                MOVX    A,@DPTR
001B F9                MOV     R1,A
001C F8                MOV     R0,A
001D 120000      E     LCALL   ?C?SLSHR
0020 900000      R     MOV     DPTR,#aux_val
0023 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 1329
0026 900000      E     MOV     DPTR,#g_mem+05FH
0029 E0                MOVX    A,@DPTR
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 162 

002A FC                MOV     R4,A
002B A3                INC     DPTR
002C E0                MOVX    A,@DPTR
002D FD                MOV     R5,A
002E A3                INC     DPTR
002F E0                MOVX    A,@DPTR
0030 FE                MOV     R6,A
0031 A3                INC     DPTR
0032 E0                MOVX    A,@DPTR
0033 FF                MOV     R7,A
0034 900000      R     MOV     DPTR,#aux_val
0037 E0                MOVX    A,@DPTR
0038 F8                MOV     R0,A
0039 A3                INC     DPTR
003A E0                MOVX    A,@DPTR
003B F9                MOV     R1,A
003C A3                INC     DPTR
003D E0                MOVX    A,@DPTR
003E FA                MOV     R2,A
003F A3                INC     DPTR
0040 E0                MOVX    A,@DPTR
0041 FB                MOV     R3,A
0042 120000      E     LCALL   ?C?LMUL
0045 900000      E     MOV     DPTR,#g_mem+063H
0048 E0                MOVX    A,@DPTR
0049 F8                MOV     R0,A
004A A3                INC     DPTR
004B E0                MOVX    A,@DPTR
004C F9                MOV     R1,A
004D A3                INC     DPTR
004E E0                MOVX    A,@DPTR
004F FA                MOV     R2,A
0050 A3                INC     DPTR
0051 E0                MOVX    A,@DPTR
0052 FB                MOV     R3,A
0053 120000      E     LCALL   ?C?SLDIV
0056 900000      R     MOV     DPTR,#aux_val
0059 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 1331
005C 900000      E     MOV     DPTR,#c_mem+06AH
005F E0                MOVX    A,@DPTR
0060 6017              JZ      ?C0306
                                           ; SOURCE LINE # 1333
0062 900000      R     MOV     DPTR,#aux_val
0065 E0                MOVX    A,@DPTR
0066 FC                MOV     R4,A
0067 A3                INC     DPTR
0068 E0                MOVX    A,@DPTR
0069 FD                MOV     R5,A
006A A3                INC     DPTR
006B E0                MOVX    A,@DPTR
006C FE                MOV     R6,A
006D A3                INC     DPTR
006E E0                MOVX    A,@DPTR
006F FF                MOV     R7,A
0070 120000      E     LCALL   ?C?LNEG
0073 900000      R     MOV     DPTR,#aux_val
0076 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 1334
0079         ?C0306:
                                           ; SOURCE LINE # 1337
0079 750082      R     MOV     packet_data,#082H
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 163 

                                           ; SOURCE LINE # 1338
007C 900000      R     MOV     DPTR,#aux_val
007F E0                MOVX    A,@DPTR
0080 A3                INC     DPTR
0081 E0                MOVX    A,@DPTR
0082 A3                INC     DPTR
0083 E0                MOVX    A,@DPTR
0084 FE                MOV     R6,A
0085 A3                INC     DPTR
0086 E0                MOVX    A,@DPTR
0087 8E00        R     MOV     packet_data+01H,R6
0089 F500        R     MOV     packet_data+02H,A
                                           ; SOURCE LINE # 1339
008B 8E00        R     MOV     packet_data+03H,R6
008D F500        R     MOV     packet_data+04H,A
                                           ; SOURCE LINE # 1340
008F 7B00              MOV     R3,#00H
0091 7A00        R     MOV     R2,#HIGH packet_data
0093 7900        R     MOV     R1,#LOW packet_data
0095 7D05              MOV     R5,#05H
0097 120000      R     LCALL   _LCRChecksum
009A 8F00        R     MOV     packet_data+05H,R7
                                           ; SOURCE LINE # 1341
009C 7B00              MOV     R3,#00H
009E 7A00        R     MOV     R2,#HIGH packet_data
00A0 7900        R     MOV     R1,#LOW packet_data
00A2 900000      E     MOV     DPTR,#c_mem+069H
00A5 E0                MOVX    A,@DPTR
00A6 900000      R     MOV     DPTR,#?_commWriteID?BYTE+05H
00A9 F0                MOVX    @DPTR,A
00AA 7D06              MOV     R5,#06H
00AC 7C00              MOV     R4,#00H
00AE 120000      R     LCALL   _commWriteID
                                           ; SOURCE LINE # 1343
00B1 22                RET     
             ; FUNCTION drive_proprio_fb (END)

             ; FUNCTION drive_force_proprio_fb (BEGIN)
                                           ; SOURCE LINE # 1352
                                           ; SOURCE LINE # 1359
0000 120000      R     LCALL   commReadResCurrFromSH
0003 900000      R     MOV     DPTR,#curr_diff
0006 EE                MOV     A,R6
0007 F0                MOVX    @DPTR,A
0008 A3                INC     DPTR
0009 EF                MOV     A,R7
000A F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 1362
000B 900000      E     MOV     DPTR,#g_mem+05BH
000E E0                MOVX    A,@DPTR
000F FC                MOV     R4,A
0010 A3                INC     DPTR
0011 E0                MOVX    A,@DPTR
0012 FD                MOV     R5,A
0013 C3                CLR     C
0014 9F                SUBB    A,R7
0015 EE                MOV     A,R6
0016 6480              XRL     A,#080H
0018 F8                MOV     R0,A
0019 EC                MOV     A,R4
001A 6480              XRL     A,#080H
001C 98                SUBB    A,R0
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 164 

001D 5008              JNC     ?C0308
                                           ; SOURCE LINE # 1363
001F 900000      R     MOV     DPTR,#curr_diff
0022 EC                MOV     A,R4
0023 F0                MOVX    @DPTR,A
0024 A3                INC     DPTR
0025 ED                MOV     A,R5
0026 F0                MOVX    @DPTR,A
0027         ?C0308:
                                           ; SOURCE LINE # 1365
0027 900000      E     MOV     DPTR,#g_mem+05DH
002A E0                MOVX    A,@DPTR
002B FE                MOV     R6,A
002C A3                INC     DPTR
002D E0                MOVX    A,@DPTR
002E FF                MOV     R7,A
002F 900000      R     MOV     DPTR,#curr_diff
0032 E0                MOVX    A,@DPTR
0033 FC                MOV     R4,A
0034 A3                INC     DPTR
0035 E0                MOVX    A,@DPTR
0036 FD                MOV     R5,A
0037 C3                CLR     C
0038 9F                SUBB    A,R7
0039 EE                MOV     A,R6
003A 6480              XRL     A,#080H
003C F8                MOV     R0,A
003D EC                MOV     A,R4
003E 6480              XRL     A,#080H
0040 98                SUBB    A,R0
0041 5009              JNC     ?C0309
                                           ; SOURCE LINE # 1366
0043 E4                CLR     A
0044 900000      R     MOV     DPTR,#curr_diff
0047 F0                MOVX    @DPTR,A
0048 A3                INC     DPTR
0049 F0                MOVX    @DPTR,A
004A 8015              SJMP    ?C0310
004C         ?C0309:
                                           ; SOURCE LINE # 1368
004C 900000      E     MOV     DPTR,#g_mem+05DH
004F E0                MOVX    A,@DPTR
0050 FE                MOV     R6,A
0051 A3                INC     DPTR
0052 E0                MOVX    A,@DPTR
0053 FF                MOV     R7,A
0054 C3                CLR     C
0055 ED                MOV     A,R5
0056 9F                SUBB    A,R7
0057 FF                MOV     R7,A
0058 EC                MOV     A,R4
0059 9E                SUBB    A,R6
005A 900000      R     MOV     DPTR,#curr_diff
005D F0                MOVX    @DPTR,A
005E A3                INC     DPTR
005F EF                MOV     A,R7
0060 F0                MOVX    @DPTR,A
0061         ?C0310:
                                           ; SOURCE LINE # 1371
0061 900000      E     MOV     DPTR,#SH_current_position
0064 E0                MOVX    A,@DPTR
0065 FC                MOV     R4,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 165 

0066 A3                INC     DPTR
0067 E0                MOVX    A,@DPTR
0068 FD                MOV     R5,A
0069 A3                INC     DPTR
006A E0                MOVX    A,@DPTR
006B FE                MOV     R6,A
006C A3                INC     DPTR
006D E0                MOVX    A,@DPTR
006E FF                MOV     R7,A
006F 900000      E     MOV     DPTR,#g_mem+03H
0072 E0                MOVX    A,@DPTR
0073 F9                MOV     R1,A
0074 F8                MOV     R0,A
0075 120000      E     LCALL   ?C?SLSHR
0078 900000      R     MOV     DPTR,#aux_val
007B 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 1372
007E 900000      E     MOV     DPTR,#g_mem+05FH
0081 E0                MOVX    A,@DPTR
0082 FC                MOV     R4,A
0083 A3                INC     DPTR
0084 E0                MOVX    A,@DPTR
0085 FD                MOV     R5,A
0086 A3                INC     DPTR
0087 E0                MOVX    A,@DPTR
0088 FE                MOV     R6,A
0089 A3                INC     DPTR
008A E0                MOVX    A,@DPTR
008B FF                MOV     R7,A
008C 900000      R     MOV     DPTR,#aux_val
008F E0                MOVX    A,@DPTR
0090 F8                MOV     R0,A
0091 A3                INC     DPTR
0092 E0                MOVX    A,@DPTR
0093 F9                MOV     R1,A
0094 A3                INC     DPTR
0095 E0                MOVX    A,@DPTR
0096 FA                MOV     R2,A
0097 A3                INC     DPTR
0098 E0                MOVX    A,@DPTR
0099 FB                MOV     R3,A
009A 120000      E     LCALL   ?C?LMUL
009D 900000      E     MOV     DPTR,#g_mem+063H
00A0 E0                MOVX    A,@DPTR
00A1 F8                MOV     R0,A
00A2 A3                INC     DPTR
00A3 E0                MOVX    A,@DPTR
00A4 F9                MOV     R1,A
00A5 A3                INC     DPTR
00A6 E0                MOVX    A,@DPTR
00A7 FA                MOV     R2,A
00A8 A3                INC     DPTR
00A9 E0                MOVX    A,@DPTR
00AA FB                MOV     R3,A
00AB 120000      E     LCALL   ?C?SLDIV
00AE 900000      R     MOV     DPTR,#ref_slide
00B1 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 1375
00B4 900000      R     MOV     DPTR,#curr_diff
00B7 E0                MOVX    A,@DPTR
00B8 FC                MOV     R4,A
00B9 A3                INC     DPTR
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 166 

00BA E0                MOVX    A,@DPTR
00BB FD                MOV     R5,A
00BC EC                MOV     A,R4
00BD 120000      E     LCALL   ?C?FCASTI
00C0 900000      E     MOV     DPTR,#g_mem+057H
00C3 E0                MOVX    A,@DPTR
00C4 F8                MOV     R0,A
00C5 A3                INC     DPTR
00C6 E0                MOVX    A,@DPTR
00C7 F9                MOV     R1,A
00C8 A3                INC     DPTR
00C9 E0                MOVX    A,@DPTR
00CA FA                MOV     R2,A
00CB A3                INC     DPTR
00CC E0                MOVX    A,@DPTR
00CD FB                MOV     R3,A
00CE 120000      E     LCALL   ?C?FPMUL
00D1 7B00              MOV     R3,#00H
00D3 7AFF              MOV     R2,#0FFH
00D5 797F              MOV     R1,#07FH
00D7 7847              MOV     R0,#047H
00D9 120000      E     LCALL   ?C?FPMUL
00DC E4                CLR     A
00DD FB                MOV     R3,A
00DE FA                MOV     R2,A
00DF 79B4              MOV     R1,#0B4H
00E1 7844              MOV     R0,#044H
00E3 120000      E     LCALL   ?C?FPDIV
00E6 120000      E     LCALL   ?C?CASTF
00E9 900000      R     MOV     DPTR,#ref_force
00EC 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 1377
00EF 900000      E     MOV     DPTR,#c_mem+06AH
00F2 E0                MOVX    A,@DPTR
00F3 605F              JZ      ?C0311
                                           ; SOURCE LINE # 1379
00F5 900000      R     MOV     DPTR,#ref_slide
00F8 E0                MOVX    A,@DPTR
00F9 FC                MOV     R4,A
00FA A3                INC     DPTR
00FB E0                MOVX    A,@DPTR
00FC FD                MOV     R5,A
00FD A3                INC     DPTR
00FE E0                MOVX    A,@DPTR
00FF FE                MOV     R6,A
0100 A3                INC     DPTR
0101 E0                MOVX    A,@DPTR
0102 FF                MOV     R7,A
0103 120000      E     LCALL   ?C?LNEG
0106 A3                INC     DPTR
0107 E0                MOVX    A,@DPTR
0108 F8                MOV     R0,A
0109 A3                INC     DPTR
010A E0                MOVX    A,@DPTR
010B F9                MOV     R1,A
010C A3                INC     DPTR
010D E0                MOVX    A,@DPTR
010E FA                MOV     R2,A
010F A3                INC     DPTR
0110 E0                MOVX    A,@DPTR
0111 FB                MOV     R3,A
0112 C3                CLR     C
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 167 

0113 EF                MOV     A,R7
0114 9B                SUBB    A,R3
0115 FF                MOV     R7,A
0116 EE                MOV     A,R6
0117 9A                SUBB    A,R2
0118 FE                MOV     R6,A
0119 ED                MOV     A,R5
011A 99                SUBB    A,R1
011B FD                MOV     R5,A
011C EC                MOV     A,R4
011D 98                SUBB    A,R0
011E FC                MOV     R4,A
011F 900000      R     MOV     DPTR,#aux_p1
0122 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 1380
0125 900000      R     MOV     DPTR,#ref_slide
0128 E0                MOVX    A,@DPTR
0129 FC                MOV     R4,A
012A A3                INC     DPTR
012B E0                MOVX    A,@DPTR
012C FD                MOV     R5,A
012D A3                INC     DPTR
012E E0                MOVX    A,@DPTR
012F FE                MOV     R6,A
0130 A3                INC     DPTR
0131 E0                MOVX    A,@DPTR
0132 FF                MOV     R7,A
0133 120000      E     LCALL   ?C?LNEG
0136 A3                INC     DPTR
0137 E0                MOVX    A,@DPTR
0138 F8                MOV     R0,A
0139 A3                INC     DPTR
013A E0                MOVX    A,@DPTR
013B F9                MOV     R1,A
013C A3                INC     DPTR
013D E0                MOVX    A,@DPTR
013E FA                MOV     R2,A
013F A3                INC     DPTR
0140 E0                MOVX    A,@DPTR
0141 2F                ADD     A,R7
0142 FF                MOV     R7,A
0143 EA                MOV     A,R2
0144 3E                ADDC    A,R6
0145 FE                MOV     R6,A
0146 E9                MOV     A,R1
0147 3D                ADDC    A,R5
0148 FD                MOV     R5,A
0149 E8                MOV     A,R0
014A 3C                ADDC    A,R4
014B FC                MOV     R4,A
014C 900000      R     MOV     DPTR,#aux_p2
014F 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 1381
0152 8059              SJMP    ?C0312
0154         ?C0311:
                                           ; SOURCE LINE # 1382
                                           ; SOURCE LINE # 1384
0154 900000      R     MOV     DPTR,#ref_force
0157 E0                MOVX    A,@DPTR
0158 F8                MOV     R0,A
0159 A3                INC     DPTR
015A E0                MOVX    A,@DPTR
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 168 

015B F9                MOV     R1,A
015C A3                INC     DPTR
015D E0                MOVX    A,@DPTR
015E FA                MOV     R2,A
015F A3                INC     DPTR
0160 E0                MOVX    A,@DPTR
0161 FB                MOV     R3,A
0162 900000      R     MOV     DPTR,#ref_slide
0165 E0                MOVX    A,@DPTR
0166 FC                MOV     R4,A
0167 A3                INC     DPTR
0168 E0                MOVX    A,@DPTR
0169 FD                MOV     R5,A
016A A3                INC     DPTR
016B E0                MOVX    A,@DPTR
016C FE                MOV     R6,A
016D A3                INC     DPTR
016E E0                MOVX    A,@DPTR
016F C3                CLR     C
0170 9B                SUBB    A,R3
0171 FF                MOV     R7,A
0172 EE                MOV     A,R6
0173 9A                SUBB    A,R2
0174 FE                MOV     R6,A
0175 ED                MOV     A,R5
0176 99                SUBB    A,R1
0177 FD                MOV     R5,A
0178 EC                MOV     A,R4
0179 98                SUBB    A,R0
017A FC                MOV     R4,A
017B 900000      R     MOV     DPTR,#aux_p1
017E 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 1385
0181 900000      R     MOV     DPTR,#ref_force
0184 E0                MOVX    A,@DPTR
0185 FC                MOV     R4,A
0186 A3                INC     DPTR
0187 E0                MOVX    A,@DPTR
0188 FD                MOV     R5,A
0189 A3                INC     DPTR
018A E0                MOVX    A,@DPTR
018B FE                MOV     R6,A
018C A3                INC     DPTR
018D E0                MOVX    A,@DPTR
018E FF                MOV     R7,A
018F 900000      R     MOV     DPTR,#ref_slide
0192 E0                MOVX    A,@DPTR
0193 F8                MOV     R0,A
0194 A3                INC     DPTR
0195 E0                MOVX    A,@DPTR
0196 F9                MOV     R1,A
0197 A3                INC     DPTR
0198 E0                MOVX    A,@DPTR
0199 FA                MOV     R2,A
019A A3                INC     DPTR
019B E0                MOVX    A,@DPTR
019C 2F                ADD     A,R7
019D FF                MOV     R7,A
019E EA                MOV     A,R2
019F 3E                ADDC    A,R6
01A0 FE                MOV     R6,A
01A1 E9                MOV     A,R1
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 169 

01A2 3D                ADDC    A,R5
01A3 FD                MOV     R5,A
01A4 E8                MOV     A,R0
01A5 3C                ADDC    A,R4
01A6 FC                MOV     R4,A
01A7 900000      R     MOV     DPTR,#aux_p2
01AA 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 1386
01AD         ?C0312:
                                           ; SOURCE LINE # 1389
01AD 750082      R     MOV     packet_data,#082H
                                           ; SOURCE LINE # 1390
01B0 900000      R     MOV     DPTR,#aux_p1
01B3 E0                MOVX    A,@DPTR
01B4 A3                INC     DPTR
01B5 E0                MOVX    A,@DPTR
01B6 A3                INC     DPTR
01B7 E0                MOVX    A,@DPTR
01B8 FE                MOV     R6,A
01B9 A3                INC     DPTR
01BA E0                MOVX    A,@DPTR
01BB 8E00        R     MOV     packet_data+01H,R6
01BD F500        R     MOV     packet_data+02H,A
                                           ; SOURCE LINE # 1391
01BF A3                INC     DPTR
01C0 E0                MOVX    A,@DPTR
01C1 A3                INC     DPTR
01C2 E0                MOVX    A,@DPTR
01C3 A3                INC     DPTR
01C4 E0                MOVX    A,@DPTR
01C5 FE                MOV     R6,A
01C6 A3                INC     DPTR
01C7 E0                MOVX    A,@DPTR
01C8 8E00        R     MOV     packet_data+03H,R6
01CA F500        R     MOV     packet_data+04H,A
                                           ; SOURCE LINE # 1392
01CC 7B00              MOV     R3,#00H
01CE 7A00        R     MOV     R2,#HIGH packet_data
01D0 7900        R     MOV     R1,#LOW packet_data
01D2 7D05              MOV     R5,#05H
01D4 120000      R     LCALL   _LCRChecksum
01D7 8F00        R     MOV     packet_data+05H,R7
                                           ; SOURCE LINE # 1393
01D9 7B00              MOV     R3,#00H
01DB 7A00        R     MOV     R2,#HIGH packet_data
01DD 7900        R     MOV     R1,#LOW packet_data
01DF 900000      E     MOV     DPTR,#c_mem+068H
01E2 E0                MOVX    A,@DPTR
01E3 900000      R     MOV     DPTR,#?_commWriteID?BYTE+05H
01E6 F0                MOVX    @DPTR,A
01E7 7D06              MOV     R5,#06H
01E9 7C00              MOV     R4,#00H
01EB 120000      R     LCALL   _commWriteID
                                           ; SOURCE LINE # 1395
01EE 22                RET     
             ; FUNCTION drive_force_proprio_fb (END)

             ; FUNCTION deactivate_slaves (BEGIN)
                                           ; SOURCE LINE # 1401
                                           ; SOURCE LINE # 1406
0000 900000      E     MOV     DPTR,#c_mem+02H
0003 E0                MOVX    A,@DPTR
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 170 

0004 FF                MOV     R7,A
0005 6402              XRL     A,#02H
0007 6015              JZ      ?C0314
0009 EF                MOV     A,R7
000A 6403              XRL     A,#03H
000C 6010              JZ      ?C0314
000E EF                MOV     A,R7
000F 6404              XRL     A,#04H
0011 600B              JZ      ?C0314
0013 EF                MOV     A,R7
0014 6405              XRL     A,#05H
0016 6006              JZ      ?C0314
                                           ; SOURCE LINE # 1409
                                           ; SOURCE LINE # 1410
0018 E4                CLR     A
0019 900000      E     MOV     DPTR,#master_mode
001C F0                MOVX    @DPTR,A
001D 22                RET     
                                           ; SOURCE LINE # 1412
001E         ?C0314:
                                           ; SOURCE LINE # 1415
001E 900000      R     MOV     DPTR,#packet_data
0021 7480              MOV     A,#080H
0023 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 1417
0024 E4                CLR     A
0025 A3                INC     DPTR
0026 F0                MOVX    @DPTR,A
0027 A3                INC     DPTR
0028 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 1418
0029 900000      R     MOV     DPTR,#packet_lenght
002C 7403              MOV     A,#03H
002E F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 1419
002F 7B01              MOV     R3,#01H
0031 7A00        R     MOV     R2,#HIGH packet_data
0033 7900        R     MOV     R1,#LOW packet_data
0035 14                DEC     A
0036 FD                MOV     R5,A
0037 120000      R     LCALL   _LCRChecksum
003A 900000      R     MOV     DPTR,#packet_lenght
003D E0                MOVX    A,@DPTR
003E FE                MOV     R6,A
003F 2400        R     ADD     A,#LOW packet_data+0FFFFH
0041 F582              MOV     DPL,A
0043 E4                CLR     A
0044 3400        R     ADDC    A,#HIGH packet_data+0FFFFH
0046 F583              MOV     DPH,A
0048 EF                MOV     A,R7
0049 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 1421
004A 7B01              MOV     R3,#01H
004C 7A00        R     MOV     R2,#HIGH packet_data
004E 7900        R     MOV     R1,#LOW packet_data
0050 EE                MOV     A,R6
0051 FD                MOV     R5,A
0052 7C00              MOV     R4,#00H
0054 120000      R     LCALL   _commWrite
                                           ; SOURCE LINE # 1423
0057         ?C0315:
0057 22                RET     
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 171 

             ; FUNCTION deactivate_slaves (END)

             ; FUNCTION _LCRChecksum (BEGIN)
                                           ; SOURCE LINE # 1431
0000 900000      R     MOV     DPTR,#data_array
0003 EB                MOV     A,R3
0004 F0                MOVX    @DPTR,A
0005 A3                INC     DPTR
0006 EA                MOV     A,R2
0007 F0                MOVX    @DPTR,A
0008 A3                INC     DPTR
0009 E9                MOV     A,R1
000A F0                MOVX    @DPTR,A
;---- Variable 'data_length' assigned to Register 'R5' ----
                                           ; SOURCE LINE # 1434
000B E4                CLR     A
000C F500        R     MOV     checksum,A
                                           ; SOURCE LINE # 1436
000E F500        R     MOV     i,A
0010         ?C0316:
0010 E500        R     MOV     A,i
0012 C3                CLR     C
0013 9D                SUBB    A,R5
0014 5019              JNC     ?C0317
                                           ; SOURCE LINE # 1437
0016 900000      R     MOV     DPTR,#data_array
0019 E0                MOVX    A,@DPTR
001A FB                MOV     R3,A
001B A3                INC     DPTR
001C E0                MOVX    A,@DPTR
001D FA                MOV     R2,A
001E A3                INC     DPTR
001F E0                MOVX    A,@DPTR
0020 2500        R     ADD     A,i
0022 F9                MOV     R1,A
0023 E4                CLR     A
0024 3A                ADDC    A,R2
0025 FA                MOV     R2,A
0026 120000      E     LCALL   ?C?CLDPTR
0029 6200        R     XRL     checksum,A
002B 0500        R     INC     i
002D 80E1              SJMP    ?C0316
002F         ?C0317:
                                           ; SOURCE LINE # 1439
002F AF00        R     MOV     R7,checksum
                                           ; SOURCE LINE # 1440
0031         ?C0319:
0031 22                RET     
             ; FUNCTION _LCRChecksum (END)

             ; FUNCTION _sendAcknowledgment (BEGIN)
                                           ; SOURCE LINE # 1447
;---- Variable 'value' assigned to Register 'R7' ----
                                           ; SOURCE LINE # 1448
;---- Variable 'packet_lenght' assigned to Register 'R4/R5' ----
0000 7D02              MOV     R5,#02H
0002 7C00              MOV     R4,#00H
                                           ; SOURCE LINE # 1451
0004 900000      R     MOV     DPTR,#packet_data
0007 EF                MOV     A,R7
0008 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 1452
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 172 

0009 A3                INC     DPTR
000A F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 1454
000B 7B01              MOV     R3,#01H
000D 7A00        R     MOV     R2,#HIGH packet_data
000F 7900        R     MOV     R1,#LOW packet_data
0011 120000      R     LCALL   _commWrite
                                           ; SOURCE LINE # 1455
0014 22                RET     
             ; FUNCTION _sendAcknowledgment (END)

             ; FUNCTION _memStore (BEGIN)
                                           ; SOURCE LINE # 1462
0000 900000      R     MOV     DPTR,#displacement
0003 EE                MOV     A,R6
0004 F0                MOVX    @DPTR,A
0005 A3                INC     DPTR
0006 EF                MOV     A,R7
0007 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 1463
                                           ; SOURCE LINE # 1467
0008 900000      R     MOV     DPTR,#ret_val
000B 7401              MOV     A,#01H
000D F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 1470
000E 120000      E     LCALL   ISR_RS485_RX_Disable
                                           ; SOURCE LINE # 1473
0011 120000      E     LCALL   CySetTemp
                                           ; SOURCE LINE # 1475
0014 7800        E     MOV     R0,#LOW c_mem
0016 7C00        E     MOV     R4,#HIGH c_mem
0018 7D01              MOV     R5,#01H
001A 7B01              MOV     R3,#01H
001C 7A00        E     MOV     R2,#HIGH g_mem
001E 7900        E     MOV     R1,#LOW g_mem
0020 7E00              MOV     R6,#00H
0022 7F6F              MOV     R7,#06FH
0024 120000      E     LCALL   ?C?COPYAMD
                                           ; SOURCE LINE # 1477
0027 900000      R     MOV     DPTR,#pages
002A E4                CLR     A
002B F0                MOVX    @DPTR,A
002C A3                INC     DPTR
002D 7407              MOV     A,#07H
002F F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 1479
0030 E4                CLR     A
0031 900000      R     MOV     DPTR,#i
0034 F0                MOVX    @DPTR,A
0035 A3                INC     DPTR
0036 F0                MOVX    @DPTR,A
0037         ?C0321:
0037 900000      R     MOV     DPTR,#pages
003A E0                MOVX    A,@DPTR
003B FE                MOV     R6,A
003C A3                INC     DPTR
003D E0                MOVX    A,@DPTR
003E FF                MOV     R7,A
003F 900000      R     MOV     DPTR,#i
0042 E0                MOVX    A,@DPTR
0043 FC                MOV     R4,A
0044 A3                INC     DPTR
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 173 

0045 E0                MOVX    A,@DPTR
0046 FD                MOV     R5,A
0047 C3                CLR     C
0048 9F                SUBB    A,R7
0049 EE                MOV     A,R6
004A 6480              XRL     A,#080H
004C F8                MOV     R0,A
004D EC                MOV     A,R4
004E 6480              XRL     A,#080H
0050 98                SUBB    A,R0
0051 503F              JNC     ?C0322
                                           ; SOURCE LINE # 1480
0053 ED                MOV     A,R5
0054 C4                SWAP    A
0055 F8                MOV     R0,A
0056 540F              ANL     A,#0FH
0058 C8                XCH     A,R0
0059 68                XRL     A,R0
005A FF                MOV     R7,A
005B EC                MOV     A,R4
005C C4                SWAP    A
005D 54F0              ANL     A,#0F0H
005F 48                ORL     A,R0
0060 FE                MOV     R6,A
0061 7B01              MOV     R3,#01H
0063 7400        E     MOV     A,#LOW g_mem
0065 2F                ADD     A,R7
0066 F9                MOV     R1,A
0067 7400        E     MOV     A,#HIGH g_mem
0069 3E                ADDC    A,R6
006A FA                MOV     R2,A
006B 900000      R     MOV     DPTR,#displacement
006E E0                MOVX    A,@DPTR
006F A3                INC     DPTR
0070 E0                MOVX    A,@DPTR
0071 FF                MOV     R7,A
0072 ED                MOV     A,R5
0073 2F                ADD     A,R7
0074 FD                MOV     R5,A
0075 120000      E     LCALL   _EEPROM_Write
;---- Variable 'writeStatus' assigned to Register 'R7' ----
                                           ; SOURCE LINE # 1481
0078 EF                MOV     A,R7
0079 6007              JZ      ?C0323
                                           ; SOURCE LINE # 1482
007B E4                CLR     A
007C 900000      R     MOV     DPTR,#ret_val
007F F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 1483
0080 8010              SJMP    ?C0322
                                           ; SOURCE LINE # 1484
                                           ; SOURCE LINE # 1485
0082         ?C0323:
0082 900000      R     MOV     DPTR,#i+01H
0085 E0                MOVX    A,@DPTR
0086 04                INC     A
0087 F0                MOVX    @DPTR,A
0088 7006              JNZ     ?C0400
008A 900000      R     MOV     DPTR,#i
008D E0                MOVX    A,@DPTR
008E 04                INC     A
008F F0                MOVX    @DPTR,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 174 

0090         ?C0400:
0090 80A5              SJMP    ?C0321
0092         ?C0322:
                                           ; SOURCE LINE # 1487
0092 7800        E     MOV     R0,#LOW g_mem
0094 7C00        E     MOV     R4,#HIGH g_mem
0096 7D01              MOV     R5,#01H
0098 7B01              MOV     R3,#01H
009A 7A00        E     MOV     R2,#HIGH c_mem
009C 7900        E     MOV     R1,#LOW c_mem
009E 7E00              MOV     R6,#00H
00A0 7F6F              MOV     R7,#06FH
00A2 120000      E     LCALL   ?C?COPYAMD
                                           ; SOURCE LINE # 1490
00A5 120000      E     LCALL   ISR_RS485_RX_Enable
                                           ; SOURCE LINE # 1492
00A8 900000      R     MOV     DPTR,#ret_val
00AB E0                MOVX    A,@DPTR
00AC FF                MOV     R7,A
                                           ; SOURCE LINE # 1493
00AD         ?C0325:
00AD 22                RET     
             ; FUNCTION _memStore (END)

             ; FUNCTION memRecall (BEGIN)
                                           ; SOURCE LINE # 1501
                                           ; SOURCE LINE # 1502
                                           ; SOURCE LINE # 1505
;---- Variable 'i' assigned to Register 'R6/R7' ----
0000 E4                CLR     A
0001 FF                MOV     R7,A
0002 FE                MOV     R6,A
0003         ?C0326:
0003 C3                CLR     C
0004 EF                MOV     A,R7
0005 946F              SUBB    A,#06FH
0007 EE                MOV     A,R6
0008 9400              SUBB    A,#00H
000A 5023              JNC     ?C0327
                                           ; SOURCE LINE # 1506
000C 900000      R     MOV     DPTR,#EEPROM_ADDR
000F E0                MOVX    A,@DPTR
0010 FC                MOV     R4,A
0011 A3                INC     DPTR
0012 E0                MOVX    A,@DPTR
0013 2F                ADD     A,R7
0014 F582              MOV     DPL,A
0016 EC                MOV     A,R4
0017 3E                ADDC    A,R6
0018 F583              MOV     DPH,A
001A E0                MOVX    A,@DPTR
001B FD                MOV     R5,A
001C 7400        E     MOV     A,#LOW g_mem
001E 2F                ADD     A,R7
001F F582              MOV     DPL,A
0021 7400        E     MOV     A,#HIGH g_mem
0023 3E                ADDC    A,R6
0024 F583              MOV     DPH,A
0026 ED                MOV     A,R5
0027 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 1507
0028 0F                INC     R7
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 175 

0029 EF                MOV     A,R7
002A 7001              JNZ     ?C0401
002C 0E                INC     R6
002D         ?C0401:
002D 80D4              SJMP    ?C0326
002F         ?C0327:
                                           ; SOURCE LINE # 1510
002F 900000      E     MOV     DPTR,#g_mem
0032 E0                MOVX    A,@DPTR
0033 7004              JNZ     ?C0329
                                           ; SOURCE LINE # 1511
0035 120000      R     LCALL   memRestore
                                           ; SOURCE LINE # 1512
0038 22                RET     
0039         ?C0329:
                                           ; SOURCE LINE # 1513
0039 7800        E     MOV     R0,#LOW c_mem
003B 7C00        E     MOV     R4,#HIGH c_mem
003D 7D01              MOV     R5,#01H
003F 7B01              MOV     R3,#01H
0041 7A00        E     MOV     R2,#HIGH g_mem
0043 7900        E     MOV     R1,#LOW g_mem
0045 7E00              MOV     R6,#00H
0047 7F6F              MOV     R7,#06FH
0049 120000      E     LCALL   ?C?COPYAMD
                                           ; SOURCE LINE # 1514
                                           ; SOURCE LINE # 1515
004C         ?C0331:
004C 22                RET     
             ; FUNCTION memRecall (END)

             ; FUNCTION memRestore (BEGIN)
                                           ; SOURCE LINE # 1523
                                           ; SOURCE LINE # 1526
;---- Variable 'i' assigned to Register 'R6/R7' ----
0000 E4                CLR     A
0001 FF                MOV     R7,A
0002 FE                MOV     R6,A
0003         ?C0332:
0003 C3                CLR     C
0004 EF                MOV     A,R7
0005 946F              SUBB    A,#06FH
0007 EE                MOV     A,R6
0008 9400              SUBB    A,#00H
000A 502B              JNC     ?C0333
                                           ; SOURCE LINE # 1527
000C EF                MOV     A,R7
000D 2420              ADD     A,#020H
000F FD                MOV     R5,A
0010 EE                MOV     A,R6
0011 3403              ADDC    A,#03H
0013 FC                MOV     R4,A
0014 900000      R     MOV     DPTR,#EEPROM_ADDR
0017 E0                MOVX    A,@DPTR
0018 FA                MOV     R2,A
0019 A3                INC     DPTR
001A E0                MOVX    A,@DPTR
001B 2D                ADD     A,R5
001C F582              MOV     DPL,A
001E EA                MOV     A,R2
001F 3C                ADDC    A,R4
0020 F583              MOV     DPH,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 176 

0022 E0                MOVX    A,@DPTR
0023 FD                MOV     R5,A
0024 7400        E     MOV     A,#LOW g_mem
0026 2F                ADD     A,R7
0027 F582              MOV     DPL,A
0029 7400        E     MOV     A,#HIGH g_mem
002B 3E                ADDC    A,R6
002C F583              MOV     DPH,A
002E ED                MOV     A,R5
002F F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 1528
0030 0F                INC     R7
0031 EF                MOV     A,R7
0032 7001              JNZ     ?C0402
0034 0E                INC     R6
0035         ?C0402:
0035 80CC              SJMP    ?C0332
0037         ?C0333:
                                           ; SOURCE LINE # 1531
0037 900000      E     MOV     DPTR,#g_mem
003A E0                MOVX    A,@DPTR
003B 7004              JNZ     ?C0335
                                           ; SOURCE LINE # 1532
003D 120000      R     LCALL   memInit
0040 22                RET     
                                           ; SOURCE LINE # 1533
0041         ?C0335:
                                           ; SOURCE LINE # 1534
0041 E4                CLR     A
0042 FF                MOV     R7,A
0043 FE                MOV     R6,A
0044 120000      R     LCALL   _memStore
                                           ; SOURCE LINE # 1535
                                           ; SOURCE LINE # 1536
0047         ?C0336:
0047 22                RET     
             ; FUNCTION memRestore (END)

             ; FUNCTION memInit (BEGIN)
                                           ; SOURCE LINE # 1542
                                           ; SOURCE LINE # 1543
                                           ; SOURCE LINE # 1547
0000 900000      E     MOV     DPTR,#g_mem+01H
0003 7401              MOV     A,#01H
0005 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 1549
0006 E4                CLR     A
0007 A3                INC     DPTR
0008 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 1551
0009 900000      E     MOV     DPTR,#g_mem+01EH
000C 04                INC     A
000D F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 1553
000E 900000      E     MOV     DPTR,#g_mem+03H
0011 7403              MOV     A,#03H
0013 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 1554
0014 A3                INC     DPTR
0015 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 1555
0016 A3                INC     DPTR
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 177 

0017 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 1557
;---- Variable 'i' assigned to Register 'R3' ----
0018 E4                CLR     A
0019 FB                MOV     R3,A
001A         ?C0338:
001A EB                MOV     A,R3
001B C3                CLR     C
001C 9402              SUBB    A,#02H
001E 503A              JNC     ?C0339
                                           ; SOURCE LINE # 1558
0020 E4                CLR     A
0021 FF                MOV     R7,A
0022 FE                MOV     R6,A
0023 FD                MOV     R5,A
0024 FC                MOV     R4,A
0025 EB                MOV     A,R3
0026 25E0              ADD     A,ACC
0028 25E0              ADD     A,ACC
002A 2400        E     ADD     A,#LOW g_mem+01FH
002C F582              MOV     DPL,A
002E E4                CLR     A
002F 3400        E     ADDC    A,#HIGH g_mem+01FH
0031 F583              MOV     DPH,A
0033 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 1559
0036 E4                CLR     A
0037 7F38              MOV     R7,#038H
0039 7E4A              MOV     R6,#04AH
003B FD                MOV     R5,A
003C FC                MOV     R4,A
003D 900000      E     MOV     DPTR,#g_mem+03H
0040 E0                MOVX    A,@DPTR
0041 F9                MOV     R1,A
0042 F8                MOV     R0,A
0043 120000      E     LCALL   ?C?LSHL
0046 EB                MOV     A,R3
0047 25E0              ADD     A,ACC
0049 25E0              ADD     A,ACC
004B 2400        E     ADD     A,#LOW g_mem+027H
004D F582              MOV     DPL,A
004F E4                CLR     A
0050 3400        E     ADDC    A,#HIGH g_mem+027H
0052 F583              MOV     DPH,A
0054 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 1560
0057 0B                INC     R3
0058 80C0              SJMP    ?C0338
005A         ?C0339:
                                           ; SOURCE LINE # 1562
005A E4                CLR     A
005B FB                MOV     R3,A
005C         ?C0341:
005C EB                MOV     A,R3
005D C3                CLR     C
005E 9403              SUBB    A,#03H
0060 5041              JNC     ?C0342
                                           ; SOURCE LINE # 1563
                                           ; SOURCE LINE # 1564
0062 E4                CLR     A
0063 FF                MOV     R7,A
0064 FE                MOV     R6,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 178 

0065 7D80              MOV     R5,#080H
0067 7C3F              MOV     R4,#03FH
0069 EB                MOV     A,R3
006A 25E0              ADD     A,ACC
006C 25E0              ADD     A,ACC
006E 2400        E     ADD     A,#LOW g_mem+012H
0070 F582              MOV     DPL,A
0072 E4                CLR     A
0073 3400        E     ADDC    A,#HIGH g_mem+012H
0075 F583              MOV     DPH,A
0077 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 1565
007A E4                CLR     A
007B FF                MOV     R7,A
007C FE                MOV     R6,A
007D FD                MOV     R5,A
007E FC                MOV     R4,A
007F 7400        E     MOV     A,#LOW g_mem+03H
0081 2B                ADD     A,R3
0082 F582              MOV     DPL,A
0084 E4                CLR     A
0085 3400        E     ADDC    A,#HIGH g_mem+03H
0087 F583              MOV     DPH,A
0089 E0                MOVX    A,@DPTR
008A F9                MOV     R1,A
008B F8                MOV     R0,A
008C 120000      E     LCALL   ?C?LSHL
008F EB                MOV     A,R3
0090 25E0              ADD     A,ACC
0092 25E0              ADD     A,ACC
0094 2400        E     ADD     A,#LOW g_mem+06H
0096 F582              MOV     DPL,A
0098 E4                CLR     A
0099 3400        E     ADDC    A,#HIGH g_mem+06H
009B F583              MOV     DPH,A
009D 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 1566
00A0 0B                INC     R3
00A1 80B9              SJMP    ?C0341
00A3         ?C0342:
                                           ; SOURCE LINE # 1568
00A3 E4                CLR     A
00A4 FF                MOV     R7,A
00A5 FE                MOV     R6,A
00A6 FD                MOV     R5,A
00A7 FC                MOV     R4,A
00A8 900000      E     MOV     DPTR,#g_mem+057H
00AB 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 1569
00AE E4                CLR     A
00AF 900000      E     MOV     DPTR,#g_mem+05BH
00B2 F0                MOVX    @DPTR,A
00B3 A3                INC     DPTR
00B4 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 1570
00B5 A3                INC     DPTR
00B6 F0                MOVX    @DPTR,A
00B7 A3                INC     DPTR
00B8 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 1572
00B9 FF                MOV     R7,A
00BA FE                MOV     R6,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 179 

00BB FD                MOV     R5,A
00BC FC                MOV     R4,A
00BD 900000      E     MOV     DPTR,#g_mem+02FH
00C0 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 1573
00C3 E4                CLR     A
00C4 FF                MOV     R7,A
00C5 FE                MOV     R6,A
00C6 FD                MOV     R5,A
00C7 FC                MOV     R4,A
00C8 900000      E     MOV     DPTR,#g_mem+033H
00CB 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 1576
00CE E4                CLR     A
00CF 900000      E     MOV     DPTR,#g_mem+03BH
00D2 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 1578
00D3 FF                MOV     R7,A
00D4 7E04              MOV     R6,#04H
00D6 FD                MOV     R5,A
00D7 FC                MOV     R4,A
00D8 A3                INC     DPTR
00D9 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 1579
00DC E4                CLR     A
00DD FF                MOV     R7,A
00DE 7E04              MOV     R6,#04H
00E0 FD                MOV     R5,A
00E1 FC                MOV     R4,A
00E2 900000      E     MOV     DPTR,#g_mem+040H
00E5 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 1581
00E8 900000      E     MOV     DPTR,#g_mem+037H
00EB E4                CLR     A
00EC F0                MOVX    @DPTR,A
00ED A3                INC     DPTR
00EE 7464              MOV     A,#064H
00F0 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 1582
00F1 A3                INC     DPTR
00F2 E4                CLR     A
00F3 F0                MOVX    @DPTR,A
00F4 A3                INC     DPTR
00F5 7464              MOV     A,#064H
00F7 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 1584
00F8 900000      E     MOV     DPTR,#g_mem+044H
00FB F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 1586
00FC A3                INC     DPTR
00FD 7416              MOV     A,#016H
00FF F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 1587
0100 900000      E     MOV     DPTR,#g_mem+06BH
0103 E4                CLR     A
0104 F0                MOVX    @DPTR,A
0105 A3                INC     DPTR
0106 7496              MOV     A,#096H
0108 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 1588
0109 A3                INC     DPTR
010A 7404              MOV     A,#04H
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 180 

010C F0                MOVX    @DPTR,A
010D A3                INC     DPTR
010E E4                CLR     A
010F F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 1591
0110 900000      E     MOV     DPTR,#g_mem+047H
0113 04                INC     A
0114 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 1592
0115 E4                CLR     A
0116 7F58              MOV     R7,#058H
0118 7E1B              MOV     R6,#01BH
011A FD                MOV     R5,A
011B FC                MOV     R4,A
011C 900000      E     MOV     DPTR,#g_mem+03H
011F E0                MOVX    A,@DPTR
0120 F9                MOV     R1,A
0121 F8                MOV     R0,A
0122 120000      E     LCALL   ?C?LSHL
0125 900000      E     MOV     DPTR,#g_mem+048H
0128 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 1593
012B E4                CLR     A
012C 7F0A              MOV     R7,#0AH
012E FE                MOV     R6,A
012F FD                MOV     R5,A
0130 FC                MOV     R4,A
0131 900000      E     MOV     DPTR,#g_mem+04CH
0134 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 1594
0137 E4                CLR     A
0138 7F10              MOV     R7,#010H
013A 7E27              MOV     R6,#027H
013C FD                MOV     R5,A
013D FC                MOV     R4,A
013E 900000      E     MOV     DPTR,#g_mem+050H
0141 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 1596
0144 E4                CLR     A
0145 900000      E     MOV     DPTR,#g_mem+054H
0148 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 1597
0149 A3                INC     DPTR
014A F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 1598
014B A3                INC     DPTR
014C 04                INC     A
014D F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 1600
014E 7F9A              MOV     R7,#09AH
0150 7E99              MOV     R6,#099H
0152 7D99              MOV     R5,#099H
0154 7C3E              MOV     R4,#03EH
0156 A3                INC     DPTR
0157 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 1601
015A 900000      E     MOV     DPTR,#g_mem+05BH
015D 7403              MOV     A,#03H
015F F0                MOVX    @DPTR,A
0160 A3                INC     DPTR
0161 74E8              MOV     A,#0E8H
0163 F0                MOVX    @DPTR,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 181 

                                           ; SOURCE LINE # 1602
0164 A3                INC     DPTR
0165 E4                CLR     A
0166 F0                MOVX    @DPTR,A
0167 A3                INC     DPTR
0168 744B              MOV     A,#04BH
016A F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 1603
016B E4                CLR     A
016C 7F10              MOV     R7,#010H
016E 7E27              MOV     R6,#027H
0170 FD                MOV     R5,A
0171 FC                MOV     R4,A
0172 A3                INC     DPTR
0173 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 1604
0176 900000      E     MOV     DPTR,#g_mem+027H
0179 E0                MOVX    A,@DPTR
017A FC                MOV     R4,A
017B A3                INC     DPTR
017C E0                MOVX    A,@DPTR
017D FD                MOV     R5,A
017E A3                INC     DPTR
017F E0                MOVX    A,@DPTR
0180 FE                MOV     R6,A
0181 A3                INC     DPTR
0182 E0                MOVX    A,@DPTR
0183 FF                MOV     R7,A
0184 900000      E     MOV     DPTR,#g_mem+03H
0187 E0                MOVX    A,@DPTR
0188 F9                MOV     R1,A
0189 F8                MOV     R0,A
018A 120000      E     LCALL   ?C?SLSHR
018D 900000      E     MOV     DPTR,#g_mem+063H
0190 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 1606
0193 900000      E     MOV     DPTR,#g_mem+067H
0196 7402              MOV     A,#02H
0198 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 1607
0199 A3                INC     DPTR
019A 04                INC     A
019B F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 1608
019C A3                INC     DPTR
019D 04                INC     A
019E F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 1609
019F E4                CLR     A
01A0 A3                INC     DPTR
01A1 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 1612
01A2 900000      E     MOV     DPTR,#g_mem
01A5 04                INC     A
01A6 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 1615
01A7 E4                CLR     A
01A8 FF                MOV     R7,A
01A9 FE                MOV     R6,A
01AA 120000      R     LCALL   _memStore
01AD EF                MOV     A,R7
01AE 600E              JZ      ?C0344
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 182 

01B0 7F32              MOV     R7,#032H
01B2 7E00              MOV     R6,#00H
01B4 120000      R     LCALL   _memStore
01B7 EF                MOV     A,R7
01B8 6004              JZ      ?C0344
01BA 7F01              MOV     R7,#01H
01BC 8002              SJMP    ?C0345
01BE         ?C0344:
01BE 7F00              MOV     R7,#00H
01C0         ?C0345:
                                           ; SOURCE LINE # 1616
01C0         ?C0346:
01C0 22                RET     
             ; FUNCTION memInit (END)

             ; FUNCTION cmd_get_measurements (BEGIN)
                                           ; SOURCE LINE # 1625
                                           ; SOURCE LINE # 1634
0000 900000      R     MOV     DPTR,#packet_data
0003 7484              MOV     A,#084H
0005 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 1636
0006 750003      R     MOV     index,#03H
0009         ?C0347:
0009 AF00        R     MOV     R7,index
000B 1500        R     DEC     index
000D EF                MOV     A,R7
000E 603F              JZ      ?C0348
                                           ; SOURCE LINE # 1637
0010 E500        R     MOV     A,index
0012 25E0              ADD     A,ACC
0014 25E0              ADD     A,ACC
0016 2400        E     ADD     A,#LOW g_measOld
0018 F582              MOV     DPL,A
001A E4                CLR     A
001B 3400        E     ADDC    A,#HIGH g_measOld
001D F583              MOV     DPH,A
001F E0                MOVX    A,@DPTR
0020 FC                MOV     R4,A
0021 A3                INC     DPTR
0022 E0                MOVX    A,@DPTR
0023 FD                MOV     R5,A
0024 A3                INC     DPTR
0025 E0                MOVX    A,@DPTR
0026 FE                MOV     R6,A
0027 A3                INC     DPTR
0028 E0                MOVX    A,@DPTR
0029 FF                MOV     R7,A
002A 7400        E     MOV     A,#LOW g_mem+03H
002C 2500        R     ADD     A,index
002E F582              MOV     DPL,A
0030 E4                CLR     A
0031 3400        E     ADDC    A,#HIGH g_mem+03H
0033 F583              MOV     DPH,A
0035 E0                MOVX    A,@DPTR
0036 F9                MOV     R1,A
0037 F8                MOV     R0,A
0038 120000      E     LCALL   ?C?SLSHR
003B E500        R     MOV     A,index
003D 25E0              ADD     A,ACC
003F 2400        R     ADD     A,#LOW packet_data+01H
0041 F582              MOV     DPL,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 183 

0043 E4                CLR     A
0044 3400        R     ADDC    A,#HIGH packet_data+01H
0046 F583              MOV     DPH,A
0048 EE                MOV     A,R6
0049 F0                MOVX    @DPTR,A
004A A3                INC     DPTR
004B EF                MOV     A,R7
004C F0                MOVX    @DPTR,A
004D 80BA              SJMP    ?C0347
004F         ?C0348:
                                           ; SOURCE LINE # 1641
004F 7B01              MOV     R3,#01H
0051 7A00        R     MOV     R2,#HIGH packet_data
0053 7900        R     MOV     R1,#LOW packet_data
0055 7D07              MOV     R5,#07H
0057 120000      R     LCALL   _LCRChecksum
005A 900000      R     MOV     DPTR,#packet_data+07H
005D EF                MOV     A,R7
005E F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 1643
005F 7B01              MOV     R3,#01H
0061 7A00        R     MOV     R2,#HIGH packet_data
0063 7900        R     MOV     R1,#LOW packet_data
0065 0D                INC     R5
0066 7C00              MOV     R4,#00H
0068 120000      R     LCALL   _commWrite
                                           ; SOURCE LINE # 1645
006B 22                RET     
             ; FUNCTION cmd_get_measurements (END)

             ; FUNCTION cmd_set_inputs (BEGIN)
                                           ; SOURCE LINE # 1647
                                           ; SOURCE LINE # 1651
0000 900000      E     MOV     DPTR,#g_rx+01H
0003 E0                MOVX    A,@DPTR
0004 FE                MOV     R6,A
0005 A3                INC     DPTR
0006 E0                MOVX    A,@DPTR
0007 FF                MOV     R7,A
0008 EE                MOV     A,R6
0009 33                RLC     A
000A 95E0              SUBB    A,ACC
000C FD                MOV     R5,A
000D FC                MOV     R4,A
000E 900000      E     MOV     DPTR,#g_refNew
0011 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 1652
0014 900000      E     MOV     DPTR,#g_refNew
0017 E0                MOVX    A,@DPTR
0018 FC                MOV     R4,A
0019 A3                INC     DPTR
001A E0                MOVX    A,@DPTR
001B FD                MOV     R5,A
001C A3                INC     DPTR
001D E0                MOVX    A,@DPTR
001E FE                MOV     R6,A
001F A3                INC     DPTR
0020 E0                MOVX    A,@DPTR
0021 FF                MOV     R7,A
0022 900000      E     MOV     DPTR,#g_mem+03H
0025 E0                MOVX    A,@DPTR
0026 F9                MOV     R1,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 184 

0027 F8                MOV     R0,A
0028 120000      E     LCALL   ?C?LSHL
002B 900000      E     MOV     DPTR,#g_refNew
002E 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 1654
0031 900000      E     MOV     DPTR,#g_rx+03H
0034 E0                MOVX    A,@DPTR
0035 FE                MOV     R6,A
0036 A3                INC     DPTR
0037 E0                MOVX    A,@DPTR
0038 FF                MOV     R7,A
0039 EE                MOV     A,R6
003A 33                RLC     A
003B 95E0              SUBB    A,ACC
003D FD                MOV     R5,A
003E FC                MOV     R4,A
003F 900000      E     MOV     DPTR,#g_refNew+04H
0042 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 1655
0045 900000      E     MOV     DPTR,#g_refNew+04H
0048 E0                MOVX    A,@DPTR
0049 FC                MOV     R4,A
004A A3                INC     DPTR
004B E0                MOVX    A,@DPTR
004C FD                MOV     R5,A
004D A3                INC     DPTR
004E E0                MOVX    A,@DPTR
004F FE                MOV     R6,A
0050 A3                INC     DPTR
0051 E0                MOVX    A,@DPTR
0052 FF                MOV     R7,A
0053 900000      E     MOV     DPTR,#g_mem+04H
0056 E0                MOVX    A,@DPTR
0057 F9                MOV     R1,A
0058 F8                MOV     R0,A
0059 120000      E     LCALL   ?C?LSHL
005C 900000      E     MOV     DPTR,#g_refNew+04H
005F 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 1659
0062 900000      E     MOV     DPTR,#c_mem+01EH
0065 E0                MOVX    A,@DPTR
0066 7003              JNZ     $ + 5H
0068 020000      R     LJMP    ?C0355
                                           ; SOURCE LINE # 1661
006B A3                INC     DPTR
006C E0                MOVX    A,@DPTR
006D FC                MOV     R4,A
006E A3                INC     DPTR
006F E0                MOVX    A,@DPTR
0070 FD                MOV     R5,A
0071 A3                INC     DPTR
0072 E0                MOVX    A,@DPTR
0073 FE                MOV     R6,A
0074 A3                INC     DPTR
0075 E0                MOVX    A,@DPTR
0076 FF                MOV     R7,A
0077 900000      E     MOV     DPTR,#g_refNew
007A E0                MOVX    A,@DPTR
007B F8                MOV     R0,A
007C A3                INC     DPTR
007D E0                MOVX    A,@DPTR
007E F9                MOV     R1,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 185 

007F A3                INC     DPTR
0080 E0                MOVX    A,@DPTR
0081 FA                MOV     R2,A
0082 A3                INC     DPTR
0083 E0                MOVX    A,@DPTR
0084 FB                MOV     R3,A
0085 C3                CLR     C
0086 120000      E     LCALL   ?C?SLCMP
0089 5014              JNC     ?C0351
                                           ; SOURCE LINE # 1662
008B 900000      E     MOV     DPTR,#c_mem+01FH
008E E0                MOVX    A,@DPTR
008F FC                MOV     R4,A
0090 A3                INC     DPTR
0091 E0                MOVX    A,@DPTR
0092 FD                MOV     R5,A
0093 A3                INC     DPTR
0094 E0                MOVX    A,@DPTR
0095 FE                MOV     R6,A
0096 A3                INC     DPTR
0097 E0                MOVX    A,@DPTR
0098 FF                MOV     R7,A
0099 900000      E     MOV     DPTR,#g_refNew
009C 120000      E     LCALL   ?C?LSTXDATA
009F         ?C0351:
                                           ; SOURCE LINE # 1663
009F 900000      E     MOV     DPTR,#c_mem+023H
00A2 E0                MOVX    A,@DPTR
00A3 FC                MOV     R4,A
00A4 A3                INC     DPTR
00A5 E0                MOVX    A,@DPTR
00A6 FD                MOV     R5,A
00A7 A3                INC     DPTR
00A8 E0                MOVX    A,@DPTR
00A9 FE                MOV     R6,A
00AA A3                INC     DPTR
00AB E0                MOVX    A,@DPTR
00AC FF                MOV     R7,A
00AD 900000      E     MOV     DPTR,#g_refNew+04H
00B0 E0                MOVX    A,@DPTR
00B1 F8                MOV     R0,A
00B2 A3                INC     DPTR
00B3 E0                MOVX    A,@DPTR
00B4 F9                MOV     R1,A
00B5 A3                INC     DPTR
00B6 E0                MOVX    A,@DPTR
00B7 FA                MOV     R2,A
00B8 A3                INC     DPTR
00B9 E0                MOVX    A,@DPTR
00BA FB                MOV     R3,A
00BB C3                CLR     C
00BC 120000      E     LCALL   ?C?SLCMP
00BF 5014              JNC     ?C0352
                                           ; SOURCE LINE # 1664
00C1 900000      E     MOV     DPTR,#c_mem+023H
00C4 E0                MOVX    A,@DPTR
00C5 FC                MOV     R4,A
00C6 A3                INC     DPTR
00C7 E0                MOVX    A,@DPTR
00C8 FD                MOV     R5,A
00C9 A3                INC     DPTR
00CA E0                MOVX    A,@DPTR
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 186 

00CB FE                MOV     R6,A
00CC A3                INC     DPTR
00CD E0                MOVX    A,@DPTR
00CE FF                MOV     R7,A
00CF 900000      E     MOV     DPTR,#g_refNew+04H
00D2 120000      E     LCALL   ?C?LSTXDATA
00D5         ?C0352:
                                           ; SOURCE LINE # 1666
00D5 900000      E     MOV     DPTR,#c_mem+027H
00D8 E0                MOVX    A,@DPTR
00D9 FC                MOV     R4,A
00DA A3                INC     DPTR
00DB E0                MOVX    A,@DPTR
00DC FD                MOV     R5,A
00DD A3                INC     DPTR
00DE E0                MOVX    A,@DPTR
00DF FE                MOV     R6,A
00E0 A3                INC     DPTR
00E1 E0                MOVX    A,@DPTR
00E2 FF                MOV     R7,A
00E3 900000      E     MOV     DPTR,#g_refNew
00E6 E0                MOVX    A,@DPTR
00E7 F8                MOV     R0,A
00E8 A3                INC     DPTR
00E9 E0                MOVX    A,@DPTR
00EA F9                MOV     R1,A
00EB A3                INC     DPTR
00EC E0                MOVX    A,@DPTR
00ED FA                MOV     R2,A
00EE A3                INC     DPTR
00EF E0                MOVX    A,@DPTR
00F0 FB                MOV     R3,A
00F1 D3                SETB    C
00F2 120000      E     LCALL   ?C?SLCMP
00F5 4014              JC      ?C0353
                                           ; SOURCE LINE # 1667
00F7 900000      E     MOV     DPTR,#c_mem+027H
00FA E0                MOVX    A,@DPTR
00FB FC                MOV     R4,A
00FC A3                INC     DPTR
00FD E0                MOVX    A,@DPTR
00FE FD                MOV     R5,A
00FF A3                INC     DPTR
0100 E0                MOVX    A,@DPTR
0101 FE                MOV     R6,A
0102 A3                INC     DPTR
0103 E0                MOVX    A,@DPTR
0104 FF                MOV     R7,A
0105 900000      E     MOV     DPTR,#g_refNew
0108 120000      E     LCALL   ?C?LSTXDATA
010B         ?C0353:
                                           ; SOURCE LINE # 1668
010B 900000      E     MOV     DPTR,#c_mem+02BH
010E E0                MOVX    A,@DPTR
010F FC                MOV     R4,A
0110 A3                INC     DPTR
0111 E0                MOVX    A,@DPTR
0112 FD                MOV     R5,A
0113 A3                INC     DPTR
0114 E0                MOVX    A,@DPTR
0115 FE                MOV     R6,A
0116 A3                INC     DPTR
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 187 

0117 E0                MOVX    A,@DPTR
0118 FF                MOV     R7,A
0119 900000      E     MOV     DPTR,#g_refNew+04H
011C E0                MOVX    A,@DPTR
011D F8                MOV     R0,A
011E A3                INC     DPTR
011F E0                MOVX    A,@DPTR
0120 F9                MOV     R1,A
0121 A3                INC     DPTR
0122 E0                MOVX    A,@DPTR
0123 FA                MOV     R2,A
0124 A3                INC     DPTR
0125 E0                MOVX    A,@DPTR
0126 FB                MOV     R3,A
0127 D3                SETB    C
0128 120000      E     LCALL   ?C?SLCMP
012B 4014              JC      ?C0355
                                           ; SOURCE LINE # 1669
012D 900000      E     MOV     DPTR,#c_mem+02BH
0130 E0                MOVX    A,@DPTR
0131 FC                MOV     R4,A
0132 A3                INC     DPTR
0133 E0                MOVX    A,@DPTR
0134 FD                MOV     R5,A
0135 A3                INC     DPTR
0136 E0                MOVX    A,@DPTR
0137 FE                MOV     R6,A
0138 A3                INC     DPTR
0139 E0                MOVX    A,@DPTR
013A FF                MOV     R7,A
013B 900000      E     MOV     DPTR,#g_refNew+04H
013E 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 1670
                                           ; SOURCE LINE # 1671
0141         ?C0355:
0141 22                RET     
             ; FUNCTION cmd_set_inputs (END)

             ; FUNCTION cmd_activate (BEGIN)
                                           ; SOURCE LINE # 1673
                                           ; SOURCE LINE # 1676
0000 900000      E     MOV     DPTR,#g_meas
0003 E0                MOVX    A,@DPTR
0004 FC                MOV     R4,A
0005 A3                INC     DPTR
0006 E0                MOVX    A,@DPTR
0007 FD                MOV     R5,A
0008 A3                INC     DPTR
0009 E0                MOVX    A,@DPTR
000A FE                MOV     R6,A
000B A3                INC     DPTR
000C E0                MOVX    A,@DPTR
000D FF                MOV     R7,A
000E 900000      E     MOV     DPTR,#g_refNew
0011 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 1677
0014 900000      E     MOV     DPTR,#g_meas+04H
0017 E0                MOVX    A,@DPTR
0018 FC                MOV     R4,A
0019 A3                INC     DPTR
001A E0                MOVX    A,@DPTR
001B FD                MOV     R5,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 188 

001C A3                INC     DPTR
001D E0                MOVX    A,@DPTR
001E FE                MOV     R6,A
001F A3                INC     DPTR
0020 E0                MOVX    A,@DPTR
0021 FF                MOV     R7,A
0022 900000      E     MOV     DPTR,#g_refNew+04H
0025 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 1678
0028 22                RET     
             ; FUNCTION cmd_activate (END)

             ; FUNCTION cmd_get_joystick (BEGIN)
                                           ; SOURCE LINE # 1680
                                           ; SOURCE LINE # 1684
0000 900000      R     MOV     DPTR,#packet_data
0003 7492              MOV     A,#092H
0005 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 1686
0006 900000      E     MOV     DPTR,#g_measOld+02FH
0009 E0                MOVX    A,@DPTR
000A FF                MOV     R7,A
000B A3                INC     DPTR
000C E0                MOVX    A,@DPTR
000D 900000      R     MOV     DPTR,#packet_data+01H
0010 CF                XCH     A,R7
0011 F0                MOVX    @DPTR,A
0012 A3                INC     DPTR
0013 EF                MOV     A,R7
0014 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 1687
0015 900000      E     MOV     DPTR,#g_measOld+031H
0018 E0                MOVX    A,@DPTR
0019 FF                MOV     R7,A
001A A3                INC     DPTR
001B E0                MOVX    A,@DPTR
001C 900000      R     MOV     DPTR,#packet_data+03H
001F CF                XCH     A,R7
0020 F0                MOVX    @DPTR,A
0021 A3                INC     DPTR
0022 EF                MOV     A,R7
0023 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 1689
0024 7B01              MOV     R3,#01H
0026 7A00        R     MOV     R2,#HIGH packet_data
0028 7900        R     MOV     R1,#LOW packet_data
002A 7D05              MOV     R5,#05H
002C 120000      R     LCALL   _LCRChecksum
002F 900000      R     MOV     DPTR,#packet_data+05H
0032 EF                MOV     A,R7
0033 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 1691
0034 7B01              MOV     R3,#01H
0036 7A00        R     MOV     R2,#HIGH packet_data
0038 7900        R     MOV     R1,#LOW packet_data
003A 0D                INC     R5
003B 7C00              MOV     R4,#00H
003D 120000      R     LCALL   _commWrite
                                           ; SOURCE LINE # 1692
0040 22                RET     
             ; FUNCTION cmd_get_joystick (END)

C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 189 

             ; FUNCTION cmd_set_baudrate (BEGIN)
                                           ; SOURCE LINE # 1694
                                           ; SOURCE LINE # 1697
0000 900000      E     MOV     DPTR,#g_rx+01H
0003 E0                MOVX    A,@DPTR
0004 900000      E     MOV     DPTR,#c_mem+046H
0007 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 1699
0008 24F3              ADD     A,#0F3H
000A 700A              JNZ     ?C0360
                                           ; SOURCE LINE # 1700
000C         ?C0359:
                                           ; SOURCE LINE # 1701
000C 7D01              MOV     R5,#01H
000E 7F0C              MOV     R7,#0CH
0010 7E00              MOV     R6,#00H
0012 120000      E     LCALL   _CLOCK_UART_SetDividerRegister
                                           ; SOURCE LINE # 1702
0015 22                RET     
                                           ; SOURCE LINE # 1703
0016         ?C0360:
                                           ; SOURCE LINE # 1704
0016 7D01              MOV     R5,#01H
0018 7F02              MOV     R7,#02H
001A 7E00              MOV     R6,#00H
001C 120000      E     LCALL   _CLOCK_UART_SetDividerRegister
                                           ; SOURCE LINE # 1705
                                           ; SOURCE LINE # 1706
001F         ?C0361:
001F 22                RET     
             ; FUNCTION cmd_set_baudrate (END)

             ; FUNCTION cmd_ping (BEGIN)
                                           ; SOURCE LINE # 1708
                                           ; SOURCE LINE # 1713
0000 E4                CLR     A
0001 900000      R     MOV     DPTR,#packet_data
0004 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 1716
0005 A3                INC     DPTR
0006 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 1719
0007 7B01              MOV     R3,#01H
0009 7A00        R     MOV     R2,#HIGH packet_data
000B 7900        R     MOV     R1,#LOW packet_data
000D 7D02              MOV     R5,#02H
000F FC                MOV     R4,A
0010 120000      R     LCALL   _commWrite
                                           ; SOURCE LINE # 1720
0013 22                RET     
             ; FUNCTION cmd_ping (END)

             ; FUNCTION cmd_get_inputs (BEGIN)
                                           ; SOURCE LINE # 1722
                                           ; SOURCE LINE # 1730
0000 900000      R     MOV     DPTR,#packet_data
0003 7483              MOV     A,#083H
0005 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 1732
0006 900000      E     MOV     DPTR,#g_refOld
0009 E0                MOVX    A,@DPTR
000A FC                MOV     R4,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 190 

000B A3                INC     DPTR
000C E0                MOVX    A,@DPTR
000D FD                MOV     R5,A
000E A3                INC     DPTR
000F E0                MOVX    A,@DPTR
0010 FE                MOV     R6,A
0011 A3                INC     DPTR
0012 E0                MOVX    A,@DPTR
0013 FF                MOV     R7,A
0014 900000      E     MOV     DPTR,#g_mem+03H
0017 E0                MOVX    A,@DPTR
0018 F9                MOV     R1,A
0019 F8                MOV     R0,A
001A 120000      E     LCALL   ?C?SLSHR
001D 900000      R     MOV     DPTR,#packet_data+01H
0020 EE                MOV     A,R6
0021 F0                MOVX    @DPTR,A
0022 A3                INC     DPTR
0023 EF                MOV     A,R7
0024 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 1733
0025 900000      E     MOV     DPTR,#g_refOld+04H
0028 E0                MOVX    A,@DPTR
0029 FC                MOV     R4,A
002A A3                INC     DPTR
002B E0                MOVX    A,@DPTR
002C FD                MOV     R5,A
002D A3                INC     DPTR
002E E0                MOVX    A,@DPTR
002F FE                MOV     R6,A
0030 A3                INC     DPTR
0031 E0                MOVX    A,@DPTR
0032 FF                MOV     R7,A
0033 900000      E     MOV     DPTR,#g_mem+04H
0036 E0                MOVX    A,@DPTR
0037 F9                MOV     R1,A
0038 F8                MOV     R0,A
0039 120000      E     LCALL   ?C?SLSHR
003C 900000      R     MOV     DPTR,#packet_data+03H
003F EE                MOV     A,R6
0040 F0                MOVX    @DPTR,A
0041 A3                INC     DPTR
0042 EF                MOV     A,R7
0043 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 1737
0044 7B01              MOV     R3,#01H
0046 7A00        R     MOV     R2,#HIGH packet_data
0048 7900        R     MOV     R1,#LOW packet_data
004A 7D05              MOV     R5,#05H
004C 120000      R     LCALL   _LCRChecksum
004F 900000      R     MOV     DPTR,#packet_data+05H
0052 EF                MOV     A,R7
0053 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 1739
0054 7B01              MOV     R3,#01H
0056 7A00        R     MOV     R2,#HIGH packet_data
0058 7900        R     MOV     R1,#LOW packet_data
005A 0D                INC     R5
005B 7C00              MOV     R4,#00H
005D 120000      R     LCALL   _commWrite
                                           ; SOURCE LINE # 1740
0060 22                RET     
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 191 

             ; FUNCTION cmd_get_inputs (END)

             ; FUNCTION cmd_store_params (BEGIN)
                                           ; SOURCE LINE # 1742
                                           ; SOURCE LINE # 1747
0000 750002      R     MOV     packet_lenght,#02H
                                           ; SOURCE LINE # 1751
0003 900000      E     MOV     DPTR,#c_mem+02H
0006 E0                MOVX    A,@DPTR
0007 6003              JZ      $ + 5H
0009 020000      R     LJMP    ?C0364
                                           ; SOURCE LINE # 1752
000C 900000      E     MOV     DPTR,#c_mem+06H
000F E0                MOVX    A,@DPTR
0010 FC                MOV     R4,A
0011 A3                INC     DPTR
0012 E0                MOVX    A,@DPTR
0013 FD                MOV     R5,A
0014 A3                INC     DPTR
0015 E0                MOVX    A,@DPTR
0016 FE                MOV     R6,A
0017 A3                INC     DPTR
0018 E0                MOVX    A,@DPTR
0019 FF                MOV     R7,A
001A 900000      R     MOV     DPTR,#off_1
001D 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 1753
0020 900000      E     MOV     DPTR,#c_mem+0AH
0023 E0                MOVX    A,@DPTR
0024 FC                MOV     R4,A
0025 A3                INC     DPTR
0026 E0                MOVX    A,@DPTR
0027 FD                MOV     R5,A
0028 A3                INC     DPTR
0029 E0                MOVX    A,@DPTR
002A FE                MOV     R6,A
002B A3                INC     DPTR
002C E0                MOVX    A,@DPTR
002D FF                MOV     R7,A
002E 900000      R     MOV     DPTR,#off_2
0031 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 1754
0034 900000      E     MOV     DPTR,#c_mem+012H
0037 E0                MOVX    A,@DPTR
0038 FC                MOV     R4,A
0039 A3                INC     DPTR
003A E0                MOVX    A,@DPTR
003B FD                MOV     R5,A
003C A3                INC     DPTR
003D E0                MOVX    A,@DPTR
003E FE                MOV     R6,A
003F A3                INC     DPTR
0040 E0                MOVX    A,@DPTR
0041 FF                MOV     R7,A
0042 900000      R     MOV     DPTR,#mult_1
0045 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 1755
0048 900000      E     MOV     DPTR,#c_mem+016H
004B E0                MOVX    A,@DPTR
004C FC                MOV     R4,A
004D A3                INC     DPTR
004E E0                MOVX    A,@DPTR
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 192 

004F FD                MOV     R5,A
0050 A3                INC     DPTR
0051 E0                MOVX    A,@DPTR
0052 FE                MOV     R6,A
0053 A3                INC     DPTR
0054 E0                MOVX    A,@DPTR
0055 FF                MOV     R7,A
0056 900000      R     MOV     DPTR,#mult_2
0059 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 1757
005C 900000      E     MOV     DPTR,#g_refNew
005F E0                MOVX    A,@DPTR
0060 FC                MOV     R4,A
0061 A3                INC     DPTR
0062 E0                MOVX    A,@DPTR
0063 FD                MOV     R5,A
0064 A3                INC     DPTR
0065 E0                MOVX    A,@DPTR
0066 FE                MOV     R6,A
0067 A3                INC     DPTR
0068 E0                MOVX    A,@DPTR
0069 FF                MOV     R7,A
006A EC                MOV     A,R4
006B 120000      E     LCALL   ?C?FCASTL
006E 900000      R     MOV     DPTR,#mult_1
0071 E0                MOVX    A,@DPTR
0072 F8                MOV     R0,A
0073 A3                INC     DPTR
0074 E0                MOVX    A,@DPTR
0075 F9                MOV     R1,A
0076 A3                INC     DPTR
0077 E0                MOVX    A,@DPTR
0078 FA                MOV     R2,A
0079 A3                INC     DPTR
007A E0                MOVX    A,@DPTR
007B FB                MOV     R3,A
007C 120000      E     LCALL   ?C?FPDIV
007F 120000      E     LCALL   ?C?CASTF
0082 900000      E     MOV     DPTR,#g_refNew
0085 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 1758
0088 900000      E     MOV     DPTR,#g_refNew+04H
008B E0                MOVX    A,@DPTR
008C FC                MOV     R4,A
008D A3                INC     DPTR
008E E0                MOVX    A,@DPTR
008F FD                MOV     R5,A
0090 A3                INC     DPTR
0091 E0                MOVX    A,@DPTR
0092 FE                MOV     R6,A
0093 A3                INC     DPTR
0094 E0                MOVX    A,@DPTR
0095 FF                MOV     R7,A
0096 EC                MOV     A,R4
0097 120000      E     LCALL   ?C?FCASTL
009A 900000      R     MOV     DPTR,#mult_2
009D E0                MOVX    A,@DPTR
009E F8                MOV     R0,A
009F A3                INC     DPTR
00A0 E0                MOVX    A,@DPTR
00A1 F9                MOV     R1,A
00A2 A3                INC     DPTR
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 193 

00A3 E0                MOVX    A,@DPTR
00A4 FA                MOV     R2,A
00A5 A3                INC     DPTR
00A6 E0                MOVX    A,@DPTR
00A7 FB                MOV     R3,A
00A8 120000      E     LCALL   ?C?FPDIV
00AB 120000      E     LCALL   ?C?CASTF
00AE 900000      E     MOV     DPTR,#g_refNew+04H
00B1 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 1760
00B4 900000      E     MOV     DPTR,#g_refNew
00B7 E0                MOVX    A,@DPTR
00B8 FC                MOV     R4,A
00B9 A3                INC     DPTR
00BA E0                MOVX    A,@DPTR
00BB FD                MOV     R5,A
00BC A3                INC     DPTR
00BD E0                MOVX    A,@DPTR
00BE FE                MOV     R6,A
00BF A3                INC     DPTR
00C0 E0                MOVX    A,@DPTR
00C1 FF                MOV     R7,A
00C2 EC                MOV     A,R4
00C3 120000      E     LCALL   ?C?FCASTL
00C6 900000      E     MOV     DPTR,#g_mem+012H
00C9 E0                MOVX    A,@DPTR
00CA F8                MOV     R0,A
00CB A3                INC     DPTR
00CC E0                MOVX    A,@DPTR
00CD F9                MOV     R1,A
00CE A3                INC     DPTR
00CF E0                MOVX    A,@DPTR
00D0 FA                MOV     R2,A
00D1 A3                INC     DPTR
00D2 E0                MOVX    A,@DPTR
00D3 FB                MOV     R3,A
00D4 120000      E     LCALL   ?C?FPMUL
00D7 120000      E     LCALL   ?C?CASTF
00DA 900000      E     MOV     DPTR,#g_refNew
00DD 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 1761
00E0 900000      E     MOV     DPTR,#g_refNew+04H
00E3 E0                MOVX    A,@DPTR
00E4 FC                MOV     R4,A
00E5 A3                INC     DPTR
00E6 E0                MOVX    A,@DPTR
00E7 FD                MOV     R5,A
00E8 A3                INC     DPTR
00E9 E0                MOVX    A,@DPTR
00EA FE                MOV     R6,A
00EB A3                INC     DPTR
00EC E0                MOVX    A,@DPTR
00ED FF                MOV     R7,A
00EE EC                MOV     A,R4
00EF 120000      E     LCALL   ?C?FCASTL
00F2 900000      E     MOV     DPTR,#g_mem+016H
00F5 E0                MOVX    A,@DPTR
00F6 F8                MOV     R0,A
00F7 A3                INC     DPTR
00F8 E0                MOVX    A,@DPTR
00F9 F9                MOV     R1,A
00FA A3                INC     DPTR
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 194 

00FB E0                MOVX    A,@DPTR
00FC FA                MOV     R2,A
00FD A3                INC     DPTR
00FE E0                MOVX    A,@DPTR
00FF FB                MOV     R3,A
0100 120000      E     LCALL   ?C?FPMUL
0103 120000      E     LCALL   ?C?CASTF
0106 900000      E     MOV     DPTR,#g_refNew+04H
0109 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 1763
010C 900000      E     MOV     DPTR,#g_refNew
010F E0                MOVX    A,@DPTR
0110 F8                MOV     R0,A
0111 A3                INC     DPTR
0112 E0                MOVX    A,@DPTR
0113 F9                MOV     R1,A
0114 A3                INC     DPTR
0115 E0                MOVX    A,@DPTR
0116 FA                MOV     R2,A
0117 A3                INC     DPTR
0118 E0                MOVX    A,@DPTR
0119 FB                MOV     R3,A
011A C000              PUSH    AR0
011C C001              PUSH    AR1
011E C002              PUSH    AR2
0120 C003              PUSH    AR3
0122 900000      R     MOV     DPTR,#off_1
0125 E0                MOVX    A,@DPTR
0126 FC                MOV     R4,A
0127 A3                INC     DPTR
0128 E0                MOVX    A,@DPTR
0129 FD                MOV     R5,A
012A A3                INC     DPTR
012B E0                MOVX    A,@DPTR
012C FE                MOV     R6,A
012D A3                INC     DPTR
012E E0                MOVX    A,@DPTR
012F FF                MOV     R7,A
0130 FB                MOV     R3,A
0131 AA06              MOV     R2,AR6
0133 A905              MOV     R1,AR5
0135 A804              MOV     R0,AR4
0137 900000      E     MOV     DPTR,#g_mem+06H
013A E0                MOVX    A,@DPTR
013B FC                MOV     R4,A
013C A3                INC     DPTR
013D E0                MOVX    A,@DPTR
013E FD                MOV     R5,A
013F A3                INC     DPTR
0140 E0                MOVX    A,@DPTR
0141 FE                MOV     R6,A
0142 A3                INC     DPTR
0143 E0                MOVX    A,@DPTR
0144 C3                CLR     C
0145 9B                SUBB    A,R3
0146 FF                MOV     R7,A
0147 EE                MOV     A,R6
0148 9A                SUBB    A,R2
0149 FE                MOV     R6,A
014A ED                MOV     A,R5
014B 99                SUBB    A,R1
014C FD                MOV     R5,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 195 

014D EC                MOV     A,R4
014E 98                SUBB    A,R0
014F FC                MOV     R4,A
0150 D003              POP     AR3
0152 D002              POP     AR2
0154 D001              POP     AR1
0156 D000              POP     AR0
0158 EB                MOV     A,R3
0159 2F                ADD     A,R7
015A FF                MOV     R7,A
015B EA                MOV     A,R2
015C 3E                ADDC    A,R6
015D FE                MOV     R6,A
015E E9                MOV     A,R1
015F 3D                ADDC    A,R5
0160 FD                MOV     R5,A
0161 E8                MOV     A,R0
0162 3C                ADDC    A,R4
0163 FC                MOV     R4,A
0164 900000      E     MOV     DPTR,#g_refNew
0167 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 1764
016A 900000      E     MOV     DPTR,#g_refNew+04H
016D E0                MOVX    A,@DPTR
016E F8                MOV     R0,A
016F A3                INC     DPTR
0170 E0                MOVX    A,@DPTR
0171 F9                MOV     R1,A
0172 A3                INC     DPTR
0173 E0                MOVX    A,@DPTR
0174 FA                MOV     R2,A
0175 A3                INC     DPTR
0176 E0                MOVX    A,@DPTR
0177 FB                MOV     R3,A
0178 C000              PUSH    AR0
017A C001              PUSH    AR1
017C C002              PUSH    AR2
017E C003              PUSH    AR3
0180 900000      R     MOV     DPTR,#off_2
0183 E0                MOVX    A,@DPTR
0184 FC                MOV     R4,A
0185 A3                INC     DPTR
0186 E0                MOVX    A,@DPTR
0187 FD                MOV     R5,A
0188 A3                INC     DPTR
0189 E0                MOVX    A,@DPTR
018A FE                MOV     R6,A
018B A3                INC     DPTR
018C E0                MOVX    A,@DPTR
018D FF                MOV     R7,A
018E FB                MOV     R3,A
018F AA06              MOV     R2,AR6
0191 A905              MOV     R1,AR5
0193 A804              MOV     R0,AR4
0195 900000      E     MOV     DPTR,#g_mem+0AH
0198 E0                MOVX    A,@DPTR
0199 FC                MOV     R4,A
019A A3                INC     DPTR
019B E0                MOVX    A,@DPTR
019C FD                MOV     R5,A
019D A3                INC     DPTR
019E E0                MOVX    A,@DPTR
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 196 

019F FE                MOV     R6,A
01A0 A3                INC     DPTR
01A1 E0                MOVX    A,@DPTR
01A2 C3                CLR     C
01A3 9B                SUBB    A,R3
01A4 FF                MOV     R7,A
01A5 EE                MOV     A,R6
01A6 9A                SUBB    A,R2
01A7 FE                MOV     R6,A
01A8 ED                MOV     A,R5
01A9 99                SUBB    A,R1
01AA FD                MOV     R5,A
01AB EC                MOV     A,R4
01AC 98                SUBB    A,R0
01AD FC                MOV     R4,A
01AE D003              POP     AR3
01B0 D002              POP     AR2
01B2 D001              POP     AR1
01B4 D000              POP     AR0
01B6 EB                MOV     A,R3
01B7 2F                ADD     A,R7
01B8 FF                MOV     R7,A
01B9 EA                MOV     A,R2
01BA 3E                ADDC    A,R6
01BB FE                MOV     R6,A
01BC E9                MOV     A,R1
01BD 3D                ADDC    A,R5
01BE FD                MOV     R5,A
01BF E8                MOV     A,R0
01C0 3C                ADDC    A,R4
01C1 FC                MOV     R4,A
01C2 900000      E     MOV     DPTR,#g_refNew+04H
01C5 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 1768
01C8 900000      E     MOV     DPTR,#c_mem+01EH
01CB E0                MOVX    A,@DPTR
01CC 7003              JNZ     $ + 5H
01CE 020000      R     LJMP    ?C0364
                                           ; SOURCE LINE # 1769
01D1 A3                INC     DPTR
01D2 E0                MOVX    A,@DPTR
01D3 FC                MOV     R4,A
01D4 A3                INC     DPTR
01D5 E0                MOVX    A,@DPTR
01D6 FD                MOV     R5,A
01D7 A3                INC     DPTR
01D8 E0                MOVX    A,@DPTR
01D9 FE                MOV     R6,A
01DA A3                INC     DPTR
01DB E0                MOVX    A,@DPTR
01DC FF                MOV     R7,A
01DD 900000      E     MOV     DPTR,#g_refNew
01E0 E0                MOVX    A,@DPTR
01E1 F8                MOV     R0,A
01E2 A3                INC     DPTR
01E3 E0                MOVX    A,@DPTR
01E4 F9                MOV     R1,A
01E5 A3                INC     DPTR
01E6 E0                MOVX    A,@DPTR
01E7 FA                MOV     R2,A
01E8 A3                INC     DPTR
01E9 E0                MOVX    A,@DPTR
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 197 

01EA FB                MOV     R3,A
01EB C3                CLR     C
01EC 120000      E     LCALL   ?C?SLCMP
01EF 5014              JNC     ?C0366
                                           ; SOURCE LINE # 1770
01F1 900000      E     MOV     DPTR,#c_mem+01FH
01F4 E0                MOVX    A,@DPTR
01F5 FC                MOV     R4,A
01F6 A3                INC     DPTR
01F7 E0                MOVX    A,@DPTR
01F8 FD                MOV     R5,A
01F9 A3                INC     DPTR
01FA E0                MOVX    A,@DPTR
01FB FE                MOV     R6,A
01FC A3                INC     DPTR
01FD E0                MOVX    A,@DPTR
01FE FF                MOV     R7,A
01FF 900000      E     MOV     DPTR,#g_refNew
0202 120000      E     LCALL   ?C?LSTXDATA
0205         ?C0366:
                                           ; SOURCE LINE # 1771
0205 900000      E     MOV     DPTR,#c_mem+023H
0208 E0                MOVX    A,@DPTR
0209 FC                MOV     R4,A
020A A3                INC     DPTR
020B E0                MOVX    A,@DPTR
020C FD                MOV     R5,A
020D A3                INC     DPTR
020E E0                MOVX    A,@DPTR
020F FE                MOV     R6,A
0210 A3                INC     DPTR
0211 E0                MOVX    A,@DPTR
0212 FF                MOV     R7,A
0213 900000      E     MOV     DPTR,#g_refNew+04H
0216 E0                MOVX    A,@DPTR
0217 F8                MOV     R0,A
0218 A3                INC     DPTR
0219 E0                MOVX    A,@DPTR
021A F9                MOV     R1,A
021B A3                INC     DPTR
021C E0                MOVX    A,@DPTR
021D FA                MOV     R2,A
021E A3                INC     DPTR
021F E0                MOVX    A,@DPTR
0220 FB                MOV     R3,A
0221 C3                CLR     C
0222 120000      E     LCALL   ?C?SLCMP
0225 5014              JNC     ?C0367
                                           ; SOURCE LINE # 1772
0227 900000      E     MOV     DPTR,#c_mem+023H
022A E0                MOVX    A,@DPTR
022B FC                MOV     R4,A
022C A3                INC     DPTR
022D E0                MOVX    A,@DPTR
022E FD                MOV     R5,A
022F A3                INC     DPTR
0230 E0                MOVX    A,@DPTR
0231 FE                MOV     R6,A
0232 A3                INC     DPTR
0233 E0                MOVX    A,@DPTR
0234 FF                MOV     R7,A
0235 900000      E     MOV     DPTR,#g_refNew+04H
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 198 

0238 120000      E     LCALL   ?C?LSTXDATA
023B         ?C0367:
                                           ; SOURCE LINE # 1774
023B 900000      E     MOV     DPTR,#c_mem+027H
023E E0                MOVX    A,@DPTR
023F FC                MOV     R4,A
0240 A3                INC     DPTR
0241 E0                MOVX    A,@DPTR
0242 FD                MOV     R5,A
0243 A3                INC     DPTR
0244 E0                MOVX    A,@DPTR
0245 FE                MOV     R6,A
0246 A3                INC     DPTR
0247 E0                MOVX    A,@DPTR
0248 FF                MOV     R7,A
0249 900000      E     MOV     DPTR,#g_refNew
024C E0                MOVX    A,@DPTR
024D F8                MOV     R0,A
024E A3                INC     DPTR
024F E0                MOVX    A,@DPTR
0250 F9                MOV     R1,A
0251 A3                INC     DPTR
0252 E0                MOVX    A,@DPTR
0253 FA                MOV     R2,A
0254 A3                INC     DPTR
0255 E0                MOVX    A,@DPTR
0256 FB                MOV     R3,A
0257 D3                SETB    C
0258 120000      E     LCALL   ?C?SLCMP
025B 4014              JC      ?C0368
                                           ; SOURCE LINE # 1775
025D 900000      E     MOV     DPTR,#c_mem+027H
0260 E0                MOVX    A,@DPTR
0261 FC                MOV     R4,A
0262 A3                INC     DPTR
0263 E0                MOVX    A,@DPTR
0264 FD                MOV     R5,A
0265 A3                INC     DPTR
0266 E0                MOVX    A,@DPTR
0267 FE                MOV     R6,A
0268 A3                INC     DPTR
0269 E0                MOVX    A,@DPTR
026A FF                MOV     R7,A
026B 900000      E     MOV     DPTR,#g_refNew
026E 120000      E     LCALL   ?C?LSTXDATA
0271         ?C0368:
                                           ; SOURCE LINE # 1776
0271 900000      E     MOV     DPTR,#c_mem+02BH
0274 E0                MOVX    A,@DPTR
0275 FC                MOV     R4,A
0276 A3                INC     DPTR
0277 E0                MOVX    A,@DPTR
0278 FD                MOV     R5,A
0279 A3                INC     DPTR
027A E0                MOVX    A,@DPTR
027B FE                MOV     R6,A
027C A3                INC     DPTR
027D E0                MOVX    A,@DPTR
027E FF                MOV     R7,A
027F 900000      E     MOV     DPTR,#g_refNew+04H
0282 E0                MOVX    A,@DPTR
0283 F8                MOV     R0,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 199 

0284 A3                INC     DPTR
0285 E0                MOVX    A,@DPTR
0286 F9                MOV     R1,A
0287 A3                INC     DPTR
0288 E0                MOVX    A,@DPTR
0289 FA                MOV     R2,A
028A A3                INC     DPTR
028B E0                MOVX    A,@DPTR
028C FB                MOV     R3,A
028D D3                SETB    C
028E 120000      E     LCALL   ?C?SLCMP
0291 4014              JC      ?C0364
                                           ; SOURCE LINE # 1777
0293 900000      E     MOV     DPTR,#c_mem+02BH
0296 E0                MOVX    A,@DPTR
0297 FC                MOV     R4,A
0298 A3                INC     DPTR
0299 E0                MOVX    A,@DPTR
029A FD                MOV     R5,A
029B A3                INC     DPTR
029C E0                MOVX    A,@DPTR
029D FE                MOV     R6,A
029E A3                INC     DPTR
029F E0                MOVX    A,@DPTR
02A0 FF                MOV     R7,A
02A1 900000      E     MOV     DPTR,#g_refNew+04H
02A4 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 1778
                                           ; SOURCE LINE # 1779
02A7         ?C0364:
                                           ; SOURCE LINE # 1782
02A7 900000      E     MOV     DPTR,#g_mem+01H
02AA E0                MOVX    A,@DPTR
02AB FF                MOV     R7,A
02AC 900000      E     MOV     DPTR,#c_mem+01H
02AF E0                MOVX    A,@DPTR
02B0 FE                MOV     R6,A
02B1 6F                XRL     A,R7
02B2 603F              JZ      ?C0370
                                           ; SOURCE LINE # 1783
02B4 8E00        R     MOV     old_id,R6
                                           ; SOURCE LINE # 1784
02B6 E4                CLR     A
02B7 FF                MOV     R7,A
02B8 FE                MOV     R6,A
02B9 120000      R     LCALL   _memStore
02BC EF                MOV     A,R7
02BD 601B              JZ      ?C0371
                                           ; SOURCE LINE # 1785
02BF 750001      R     MOV     packet_data,#01H
                                           ; SOURCE LINE # 1786
02C2 750001      R     MOV     packet_data+01H,#01H
                                           ; SOURCE LINE # 1787
02C5 7B00              MOV     R3,#00H
02C7 7A00        R     MOV     R2,#HIGH packet_data
02C9 7900        R     MOV     R1,#LOW packet_data
02CB E500        R     MOV     A,packet_lenght
02CD FD                MOV     R5,A
02CE 7C00              MOV     R4,#00H
02D0 900000      R     MOV     DPTR,#?_commWrite_old_id?BYTE+05H
02D3 E500        R     MOV     A,old_id
02D5 F0                MOVX    @DPTR,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 200 

02D6 120000      R     LCALL   _commWrite_old_id
                                           ; SOURCE LINE # 1788
02D9 22                RET     
02DA         ?C0371:
                                           ; SOURCE LINE # 1789
                                           ; SOURCE LINE # 1790
02DA E4                CLR     A
02DB F500        R     MOV     packet_data,A
                                           ; SOURCE LINE # 1791
02DD F500        R     MOV     packet_data+01H,A
                                           ; SOURCE LINE # 1792
02DF FB                MOV     R3,A
02E0 7A00        R     MOV     R2,#HIGH packet_data
02E2 7900        R     MOV     R1,#LOW packet_data
02E4 E500        R     MOV     A,packet_lenght
02E6 FD                MOV     R5,A
02E7 7C00              MOV     R4,#00H
02E9 900000      R     MOV     DPTR,#?_commWrite_old_id?BYTE+05H
02EC E500        R     MOV     A,old_id
02EE F0                MOVX    @DPTR,A
02EF 120000      R     LCALL   _commWrite_old_id
                                           ; SOURCE LINE # 1793
                                           ; SOURCE LINE # 1794
02F2 22                RET     
02F3         ?C0370:
                                           ; SOURCE LINE # 1795
                                           ; SOURCE LINE # 1796
02F3 E4                CLR     A
02F4 FF                MOV     R7,A
02F5 FE                MOV     R6,A
02F6 120000      R     LCALL   _memStore
02F9 EF                MOV     A,R7
02FA 6006              JZ      ?C0374
                                           ; SOURCE LINE # 1797
02FC 7F01              MOV     R7,#01H
02FE 120000      R     LCALL   _sendAcknowledgment
0301 22                RET     
0302         ?C0374:
                                           ; SOURCE LINE # 1799
0302 E4                CLR     A
0303 FF                MOV     R7,A
0304 120000      R     LCALL   _sendAcknowledgment
                                           ; SOURCE LINE # 1800
                                           ; SOURCE LINE # 1801
0307         ?C0376:
0307 22                RET     
             ; FUNCTION cmd_store_params (END)

             ; FUNCTION cmd_get_emg (BEGIN)
                                           ; SOURCE LINE # 1803
                                           ; SOURCE LINE # 1808
0000 900000      R     MOV     DPTR,#packet_data
0003 7488              MOV     A,#088H
0005 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 1810
0006 900000      E     MOV     DPTR,#g_measOld+0FH
0009 E0                MOVX    A,@DPTR
000A A3                INC     DPTR
000B E0                MOVX    A,@DPTR
000C A3                INC     DPTR
000D E0                MOVX    A,@DPTR
000E FF                MOV     R7,A
C51 COMPILER V9.51   COMMAND_PROCESSING                                                    04/16/2024 16:28:21 PAGE 201 

000F A3                INC     DPTR
0010 E0                MOVX    A,@DPTR
0011 900000      R     MOV     DPTR,#packet_data+01H
0014 CF                XCH     A,R7
0015 F0                MOVX    @DPTR,A
0016 A3                INC     DPTR
0017 EF                MOV     A,R7
0018 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 1811
0019 900000      E     MOV     DPTR,#g_measOld+013H
001C E0                MOVX    A,@DPTR
001D A3                INC     DPTR
001E E0                MOVX    A,@DPTR
001F A3                INC     DPTR
0020 E0                MOVX    A,@DPTR
0021 FF                MOV     R7,A
0022 A3                INC     DPTR
0023 E0                MOVX    A,@DPTR
0024 900000      R     MOV     DPTR,#packet_data+03H
0027 CF                XCH     A,R7
0028 F0                MOVX    @DPTR,A
0029 A3                INC     DPTR
002A EF                MOV     A,R7
002B F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 1813
002C 7B01              MOV     R3,#01H
002E 7A00        R     MOV     R2,#HIGH packet_data
0030 7900        R     MOV     R1,#LOW packet_data
0032 7D05              MOV     R5,#05H
0034 120000      R     LCALL   _LCRChecksum
0037 900000      R     MOV     DPTR,#packet_data+05H
003A EF                MOV     A,R7
003B F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 1815
003C 7B01              MOV     R3,#01H
003E 7A00        R     MOV     R2,#HIGH packet_data
0040 7900        R     MOV     R1,#LOW packet_data
0042 0D                INC     R5
0043 7C00              MOV     R4,#00H
0045 120000      R     LCALL   _commWrite
                                           ; SOURCE LINE # 1817
0048 22                RET     
             ; FUNCTION cmd_get_emg (END)



MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =  14338    ----
   CONSTANT SIZE    =   6018    ----
   XDATA SIZE       =      2    6587
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      2      59
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
   EDATA SIZE       =   ----    ----
   HDATA SIZE       =   ----    ----
   XDATA CONST SIZE =   ----    ----
   FAR CONST SIZE   =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
