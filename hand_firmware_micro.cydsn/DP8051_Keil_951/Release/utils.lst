C51 COMPILER V9.51   UTILS                                                                 02/14/2023 11:08:55 PAGE 1   


C51 COMPILER V9.51, COMPILATION OF MODULE UTILS
OBJECT MODULE PLACED IN .\DP8051_Keil_951\Release\utils.obj
COMPILER INVOKED BY: C:\Program Files (x86)\Cypress\PSoC Creator\4.4\PSoC Creator\import\keil\pk51\9.51\C51\BIN\c51.exe 
                    -utils.c NOIV LARGE MODDP2 OMF2 VB(1) NOIP INCDIR(.,Generated_Source\PSoC3) FF(3) DB DF(NDEBUG) WL(2) PR(.\DP8051_Keil_95
                    -1\Release/utils.lst) CD OT(8,SPEED) OJ(.\DP8051_Keil_951\Release\utils.obj)

line level    source

*** MESSAGE C286 IN LINE 0 OF (null): license limits optimization to level 5
   1          // ----------------------------------------------------------------------------
   2          // BSD 3-Clause License
   3          
   4          // Copyright (c) 2016, qbrobotics
   5          // Copyright (c) 2017, Centro "E.Piaggio"
   6          // All rights reserved.
   7          
   8          // Redistribution and use in source and binary forms, with or without
   9          // modification, are permitted provided that the following conditions are met:
  10          
  11          // * Redistributions of source code must retain the above copyright notice, this
  12          //   list of conditions and the following disclaimer.
  13          
  14          // * Redistributions in binary form must reproduce the above copyright notice,
  15          //   this list of conditions and the following disclaimer in the documentation
  16          //   and/or other materials provided with the distribution.
  17          
  18          // * Neither the name of the copyright holder nor the names of its
  19          //   contributors may be used to endorse or promote products derived from
  20          //   this software without specific prior written permission.
  21          
  22          // THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
  23          // AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
  24          // IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
  25          // DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
  26          // FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
  27          // DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
  28          // SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
  29          // CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
  30          // OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
  31          // OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  32          // POSSIBILITY OF SUCH DAMAGE.
  33          // ----------------------------------------------------------------------------
  34          
  35          /**
  36          * \file         utils.c
  37          *
  38          * \brief        Definition of utility functions.
  39          * \date         October 01, 2017
  40          * \author       _Centro "E.Piaggio"_
  41          * \copyright    (C) 2012-2016 qbrobotics. All rights reserved.
  42          * \copyright    (C) 2017 Centro "E.Piaggio". All rights reserved.
  43          */
  44          
  45          #include <utils.h>
  46          #include <math.h>
  47          
  48          //==============================================================================
  49          //                                                   Voltage and current filters
  50          //==============================================================================
  51          
  52          int32 filter_v(int32 new_value) {
C51 COMPILER V9.51   UTILS                                                                 02/14/2023 11:08:55 PAGE 2   

  53   1      
  54   1          static int32 old_value, aux;
  55   1      
  56   1          aux = (old_value * (1024 - ALPHA) + (new_value << 6) * (ALPHA)) >> 10;
  57   1      
  58   1          old_value = aux;
  59   1      
  60   1          return (aux >> 6);
  61   1      }
  62          
  63          int32 filter_i1(int32 new_value) {
  64   1      
  65   1          static int32 old_value, aux;
  66   1      
  67   1          aux = (old_value * (1024 - ALPHA) + (new_value << 6) * (ALPHA)) >> 10;
  68   1      
  69   1          old_value = aux;
  70   1      
  71   1          return (aux >> 6);
  72   1      }
  73          
  74          //==============================================================================
  75          //                                                              First Emg Filter
  76          //==============================================================================
  77          
  78          int32 filter_ch1(int32 new_value) {
  79   1      
  80   1         static int32 old_value, aux;    
  81   1           
  82   1          if (new_value < 0)
  83   1              new_value = 0;
  84   1      
  85   1          aux = (old_value * (1024 - BETA) + (new_value << 6) * (BETA)) /1024;
  86   1      
  87   1          old_value = aux;
  88   1      
  89   1          return (aux /64);
  90   1      }
  91          
  92          //==============================================================================
  93          //                                                             Second Emg Filter
  94          //==============================================================================
  95          
  96          int32 filter_ch2(int32 new_value) {
  97   1      
  98   1          static int32 old_value, aux;
  99   1          
 100   1          if (new_value < 0)
 101   1              new_value = 0;
 102   1      
 103   1          aux = (old_value * (1024 - BETA) + (new_value << 6) * (BETA)) /1024;
 104   1      
 105   1          old_value = aux;
 106   1      
 107   1          return (aux /64);
 108   1      }
 109          
 110          //==============================================================================
 111          //                                                              Velocity filters
 112          //==============================================================================
 113          
 114          int32 filter_vel_1(int32 new_value) {
C51 COMPILER V9.51   UTILS                                                                 02/14/2023 11:08:55 PAGE 3   

 115   1      
 116   1          static int32 old_out, aux;
 117   1      
 118   1          aux = (old_out * (1024 - GAMMA) + new_value * (GAMMA)) / 1024;
 119   1      
 120   1          old_out = aux;
 121   1      
 122   1          return aux;
 123   1      }
 124          
 125          int32 filter_vel_2(int32 new_value) {
 126   1      
 127   1          static int32 old_out, aux;
 128   1      
 129   1          aux = (old_out * (1024 - GAMMA) + new_value * (GAMMA)) / 1024;
 130   1      
 131   1          old_out = aux;
 132   1      
 133   1          return aux;
 134   1      }
 135          
 136          int32 filter_vel_3(int32 new_value) {
 137   1      
 138   1          static int32 old_out, aux;
 139   1      
 140   1          aux = (old_out * (1024 - GAMMA) + new_value * (GAMMA)) / 1024;
 141   1      
 142   1          old_out = aux;
 143   1      
 144   1          return aux;
 145   1      }
 146          
 147          //==============================================================================
 148          //                                                          Acceleration filters
 149          //==============================================================================
 150          
 151          int32 filter_acc_1(int32 new_value) {
 152   1      
 153   1          static int32 old_out, aux;
 154   1      
 155   1          aux = (old_out * (1024 - DELTA) + new_value * (DELTA)) / 1024;
 156   1      
 157   1          old_out = aux;
 158   1      
 159   1          return aux;
 160   1      }
 161          
 162          int32 filter_acc_2(int32 new_value) {
 163   1      
 164   1          static int32 old_out, aux;
 165   1      
 166   1          aux = (old_out * (1024 - DELTA) + new_value * (DELTA)) / 1024;
 167   1      
 168   1          old_out = aux;
 169   1      
 170   1          return aux;
 171   1      }
 172          
 173          int32 filter_acc_3(int32 new_value) {
 174   1      
 175   1          static int32 old_out, aux;
 176   1      
C51 COMPILER V9.51   UTILS                                                                 02/14/2023 11:08:55 PAGE 4   

 177   1          aux = (old_out * (1024 - DELTA) + new_value * (DELTA)) / 1024;
 178   1      
 179   1          old_out = aux;
 180   1      
 181   1          return aux;
 182   1      }
 183          
 184          //==============================================================================
 185          //                                                        Voltage reading filter
 186          //==============================================================================
 187          
 188          int32 filter_voltage(int32 new_value) {
 189   1      
 190   1          static int32 old_value = 12000;
 191   1          static int32 aux;
 192   1      
 193   1          aux = (old_value * (1024 - EPSILON) + (new_value << 6) * (EPSILON)) /1024;
 194   1      
 195   1          old_value = aux;
 196   1      
 197   1          return (aux /64);
 198   1      }
 199          
 200          //==============================================================================
 201          //                                                                CHECK ENC DATA
 202          //==============================================================================
 203          
 204          // Returns 1 if the encoder data is correct, 0 otherwise
 205          
 206          CYBIT check_enc_data(const uint32 *value) {
 207   1      
 208   1          const uint8* CYIDATA p = (const uint8*)value;
 209   1          uint8 CYDATA a = *p;
 210   1      
 211   1          a = a ^ *(++p);
 212   1          a = a ^ *(++p);
 213   1          a = a ^ *(++p);
 214   1          a = (a & 0x0F) ^ (a>>4);
 215   1      
 216   1          return (0x9669 >> a) & 0x01;
 217   1          //0x9669 is a bit vector representing the !(bitwise XOR) of 4bits
 218   1      }
 219          
 220          //==============================================================================
 221          //                                                                ROUND_FUNCTION
 222          //==============================================================================
 223          
 224          int my_round(const double x) {
 225   1      
 226   1          if (x < 0.0)
 227   1              return (int)(x - 0.5);
 228   1          else
 229   1              return (int)(x + 0.5);
 230   1      }
 231          
 232          //==============================================================================
 233          //                                                                        MODULE
 234          //==============================================================================
 235          
 236          uint32 my_mod(int32 val, int32 divisor) {
 237   1      
 238   1          if (val >= 0) {
C51 COMPILER V9.51   UTILS                                                                 02/14/2023 11:08:55 PAGE 5   

 239   2              return (int32)(val % divisor);
 240   2          } else {
 241   2              return (int32)(divisor - (-val % divisor));
 242   2          }
 243   1      }
 244          
 245          
 246          //==============================================================================
 247          //                                                                     CALIBRATE
 248          //==============================================================================
 249          
 250          void calibration(void) {
 251   1          static uint8 direction;                 //0 closing, 1 opening.
 252   1          static uint16 closure_counter;          //Range [0 - 2^16].
 253   1      
 254   1      
 255   1          // closing
 256   1          if (direction == 0) {
 257   2              g_ref.pos[0] += (calib.speed << g_mem.res[0]);
 258   2              if ((g_ref.pos[0]) > g_mem.pos_lim_sup[0]) {
 259   3                  direction = 1;
 260   3              }
 261   2          } else { //opening
 262   2              g_ref.pos[0] -= (calib.speed << g_mem.res[0]);
 263   2              if (SIGN(g_ref.pos[0]) != 1) {
 264   3                  direction = 0;
 265   3                  closure_counter++;
 266   3                  if (closure_counter == calib.repetitions) {
 267   4                      closure_counter = 0;
 268   4                      calib.enabled = FALSE;
 269   4                  }
 270   3              }
 271   2          }
 272   1      }
 273          
 274          
 275          //==============================================================================
 276          //                                                      DOUBLE ENCODER CALC TURN
 277          //==============================================================================
 278          
 279          // Use this matlab function to calculate I1 and I2
 280          //
 281          // function [inv_a, inv_b] = mod_mul_inv(a, b)
 282          //     a = int32(a);
 283          //     b = int32(b);
 284          //     if b == 0
 285          //         inv_a = 1;
 286          //         inv_b = 0;
 287          //         return
 288          //     else
 289          //         q = idivide(a,b,'floor');
 290          //         r = mod(a,b);
 291          //         [s, t] = mod_mul_inv(b, r);
 292          //     end
 293          //     inv_a = t;
 294          //     inv_b = s - q * t;
 295          // return
 296          
 297          // Number of teeth of the two wheels
 298          #define N1 15           ///< Teeth of the first encoder wheel.
 299          #define N2 14           ///< Teeth of the second encoder wheel.
 300          
C51 COMPILER V9.51   UTILS                                                                 02/14/2023 11:08:55 PAGE 6   

 301          #define I1 1            ///< First wheel invariant value.
 302          #define I2 (-1)         ///< Second wheel invariant value.
 303          
 304          // Number of ticks per turn
 305          #define M 65536          ///< Number of encoder ticks per turn.
 306          
 307          
 308          int calc_turns_fcn(const int32 pos1, const int32 pos2) {
 309   1          
 310   1          int32 x = (my_mod( - N2*pos2 - N1*pos1, M*N2) + M/2) / M;
 311   1      
 312   1          int32 aux = my_mod(x*I1, N2);
 313   1          
 314   1          return (my_mod(aux + N2/2, N2) - N2/2);
 315   1      }
 316          
 317          
 318          //==============================================================================
 319          //                                                                 REST POSITION
 320          //==============================================================================
 321          
 322          void check_rest_position(void) {     // 100 Hz frequency.
 323   1          
 324   1          static uint32 count = 0;        // Range [0 - 2^31].
 325   1          static uint8 flag_count = 1;
 326   1          static uint8 first_time = 1;
 327   1          static float m = 0;
 328   1          static int32 abs_err_thr = 0;
 329   1          static int32 delta_inc = 0;
 330   1          int32 curr_pos = 0;
 331   1          static int32 rest_error;
 332   1          float rest_vel_ticks_ms = ((float)g_mem.rest_vel)/1000.0;    //[ticks/s] -> [ticks/ms]
 333   1          
 334   1          if (first_time){
 335   2              count = 0;
 336   2              first_time = 0;
 337   2          }
 338   1          
 339   1          curr_pos = (int32)(curr_pos_res >> g_mem.res[0]);
 340   1          
 341   1          if ( ( (c_mem.input_mode >= 2 && c_mem.input_mode <= 5 && g_meas.emg[0] < 200 && g_meas.emg[1] < 200) 
             -|| 
 342   1                 (c_mem.input_mode == INPUT_MODE_JOYSTICK && g_meas.joystick[0] < 50 && g_meas.joystick[0] > -50
             -)) && curr_pos < 10000){
 343   2              if (flag_count == 1){
 344   3                  count = count + 1;
 345   3              }
 346   2          }
 347   1          else {
 348   2              count = 0;
 349   2              rest_enabled = 0;
 350   2              flag_count = 1;
 351   2          }
 352   1          
 353   1          /********** Velocity closure procedure *************
 354   1          * m = error/time
 355   1          * m = (g_mem.rest_pos - init_pos)/time
 356   1          * time = g_mem.rest_pos/rest_vel_ticks_ms (rest_vel_ticks_ms is in [ticks/ms])
 357   1          ***************************************************/
 358   1          
 359   1          if (count == (uint32)(g_mem.rest_delay/CALIBRATION_DIV)){ 
 360   2              // This routine is executed every 10 firmware cycles -> g_mem.rest_delay must be major than 10 ms
C51 COMPILER V9.51   UTILS                                                                 02/14/2023 11:08:55 PAGE 7   

 361   2              rest_enabled = 1;
 362   2              rest_pos_curr_ref = curr_pos_res;
 363   2              
 364   2              // Ramp angular coefficient
 365   2              m = ((float)(g_mem.rest_pos - curr_pos_res)/((float)g_mem.rest_pos))*(rest_vel_ticks_ms);
 366   2              
 367   2              // Stop condition threshold is related to m coefficient by REST_RATIO value
 368   2              abs_err_thr = (int32)( (int32)(((float)REST_POS_ERR_THR_GAIN)*m*((float)CALIBRATION_DIV)) << g_mem
             -.res[0]);
 369   2              abs_err_thr = (abs_err_thr>0)?abs_err_thr:(0-abs_err_thr);
 370   2              
 371   2              rest_error = g_mem.rest_pos - curr_pos_res;    
 372   2              
 373   2              delta_inc = (int32)( ((int32)(m*(float)CALIBRATION_DIV)) << g_mem.res[0] );
 374   2              delta_inc = (delta_inc>0)?delta_inc:(0-delta_inc);
 375   2              
 376   2              count = 0;
 377   2              flag_count = 0;
 378   2          }
 379   1          
 380   1          if (rest_enabled){
 381   2      
 382   2              if (rest_error < abs_err_thr && rest_error > -abs_err_thr){
 383   3                  // Stop condition
 384   3                  rest_pos_curr_ref = g_mem.rest_pos;
 385   3                  
 386   3                  if (c_mem.input_mode >= 2)   // EMG input mode
 387   3                      forced_open = 1; 
 388   3                  
 389   3                  count = 0;
 390   3              }
 391   2              else {
 392   3                  rest_error = g_mem.rest_pos - curr_pos_res;        
 393   3      
 394   3                  if (rest_error > 0){
 395   4                      rest_pos_curr_ref = rest_pos_curr_ref + delta_inc;
 396   4                  }
 397   3                  if (rest_error < 0){
 398   4                      rest_pos_curr_ref = rest_pos_curr_ref - delta_inc;
 399   4                  }
 400   3              } 
 401   2          }
 402   1          
 403   1          // Position limit saturation
 404   1          if (c_mem.pos_lim_flag) {
 405   2              if (rest_pos_curr_ref < c_mem.pos_lim_inf[0]) 
 406   2                  rest_pos_curr_ref = c_mem.pos_lim_inf[0];
 407   2              if (rest_pos_curr_ref > c_mem.pos_lim_sup[0]) 
 408   2                  rest_pos_curr_ref = c_mem.pos_lim_sup[0];
 409   2          }
 410   1      
 411   1      }
 412          
 413          
 414          /* [] END OF FILE */
C51 COMPILER V9.51   UTILS                                                                 02/14/2023 11:08:55 PAGE 8   

ASSEMBLY LISTING OF GENERATED OBJECT CODE


             ; FUNCTION _filter_v (BEGIN)
                                           ; SOURCE LINE # 52
;---- Variable 'new_value' assigned to Register 'R4/R5/R6/R7' ----
                                           ; SOURCE LINE # 56
0000 7806              MOV     R0,#06H
0002 120000      E     LCALL   ?C?LSHL
0005 E4                CLR     A
0006 7B20              MOV     R3,#020H
0008 FA                MOV     R2,A
0009 F9                MOV     R1,A
000A F8                MOV     R0,A
000B 120000      E     LCALL   ?C?LMUL
000E C004              PUSH    AR4
0010 C005              PUSH    AR5
0012 C006              PUSH    AR6
0014 C007              PUSH    AR7
0016 E4                CLR     A
0017 7FE0              MOV     R7,#0E0H
0019 7E03              MOV     R6,#03H
001B FD                MOV     R5,A
001C FC                MOV     R4,A
001D 900000      R     MOV     DPTR,#old_value
0020 E0                MOVX    A,@DPTR
0021 F8                MOV     R0,A
0022 A3                INC     DPTR
0023 E0                MOVX    A,@DPTR
0024 F9                MOV     R1,A
0025 A3                INC     DPTR
0026 E0                MOVX    A,@DPTR
0027 FA                MOV     R2,A
0028 A3                INC     DPTR
0029 E0                MOVX    A,@DPTR
002A FB                MOV     R3,A
002B 120000      E     LCALL   ?C?LMUL
002E D003              POP     AR3
0030 D002              POP     AR2
0032 D001              POP     AR1
0034 D000              POP     AR0
0036 EF                MOV     A,R7
0037 2B                ADD     A,R3
0038 FF                MOV     R7,A
0039 EE                MOV     A,R6
003A 3A                ADDC    A,R2
003B FE                MOV     R6,A
003C ED                MOV     A,R5
003D 39                ADDC    A,R1
003E FD                MOV     R5,A
003F EC                MOV     A,R4
0040 38                ADDC    A,R0
0041 FC                MOV     R4,A
0042 780A              MOV     R0,#0AH
0044 120000      E     LCALL   ?C?SLSHR
0047 900000      R     MOV     DPTR,#aux
004A 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 58
004D 900000      R     MOV     DPTR,#aux
0050 E0                MOVX    A,@DPTR
0051 FC                MOV     R4,A
0052 A3                INC     DPTR
C51 COMPILER V9.51   UTILS                                                                 02/14/2023 11:08:55 PAGE 9   

0053 E0                MOVX    A,@DPTR
0054 FD                MOV     R5,A
0055 A3                INC     DPTR
0056 E0                MOVX    A,@DPTR
0057 FE                MOV     R6,A
0058 A3                INC     DPTR
0059 E0                MOVX    A,@DPTR
005A FF                MOV     R7,A
005B 900000      R     MOV     DPTR,#old_value
005E 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 60
0061 900000      R     MOV     DPTR,#aux
0064 E0                MOVX    A,@DPTR
0065 FC                MOV     R4,A
0066 A3                INC     DPTR
0067 E0                MOVX    A,@DPTR
0068 FD                MOV     R5,A
0069 A3                INC     DPTR
006A E0                MOVX    A,@DPTR
006B FE                MOV     R6,A
006C A3                INC     DPTR
006D E0                MOVX    A,@DPTR
006E FF                MOV     R7,A
006F 7806              MOV     R0,#06H
0071 120000      E     LCALL   ?C?SLSHR
                                           ; SOURCE LINE # 61
0074         ?C0001:
0074 22                RET     
             ; FUNCTION _filter_v (END)

             ; FUNCTION _filter_i1 (BEGIN)
                                           ; SOURCE LINE # 63
;---- Variable 'new_value' assigned to Register 'R4/R5/R6/R7' ----
                                           ; SOURCE LINE # 67
0000 7806              MOV     R0,#06H
0002 120000      E     LCALL   ?C?LSHL
0005 E4                CLR     A
0006 7B20              MOV     R3,#020H
0008 FA                MOV     R2,A
0009 F9                MOV     R1,A
000A F8                MOV     R0,A
000B 120000      E     LCALL   ?C?LMUL
000E C004              PUSH    AR4
0010 C005              PUSH    AR5
0012 C006              PUSH    AR6
0014 C007              PUSH    AR7
0016 E4                CLR     A
0017 7FE0              MOV     R7,#0E0H
0019 7E03              MOV     R6,#03H
001B FD                MOV     R5,A
001C FC                MOV     R4,A
001D 900000      R     MOV     DPTR,#old_value
0020 E0                MOVX    A,@DPTR
0021 F8                MOV     R0,A
0022 A3                INC     DPTR
0023 E0                MOVX    A,@DPTR
0024 F9                MOV     R1,A
0025 A3                INC     DPTR
0026 E0                MOVX    A,@DPTR
0027 FA                MOV     R2,A
0028 A3                INC     DPTR
0029 E0                MOVX    A,@DPTR
C51 COMPILER V9.51   UTILS                                                                 02/14/2023 11:08:55 PAGE 10  

002A FB                MOV     R3,A
002B 120000      E     LCALL   ?C?LMUL
002E D003              POP     AR3
0030 D002              POP     AR2
0032 D001              POP     AR1
0034 D000              POP     AR0
0036 EF                MOV     A,R7
0037 2B                ADD     A,R3
0038 FF                MOV     R7,A
0039 EE                MOV     A,R6
003A 3A                ADDC    A,R2
003B FE                MOV     R6,A
003C ED                MOV     A,R5
003D 39                ADDC    A,R1
003E FD                MOV     R5,A
003F EC                MOV     A,R4
0040 38                ADDC    A,R0
0041 FC                MOV     R4,A
0042 780A              MOV     R0,#0AH
0044 120000      E     LCALL   ?C?SLSHR
0047 900000      R     MOV     DPTR,#aux
004A 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 69
004D 900000      R     MOV     DPTR,#aux
0050 E0                MOVX    A,@DPTR
0051 FC                MOV     R4,A
0052 A3                INC     DPTR
0053 E0                MOVX    A,@DPTR
0054 FD                MOV     R5,A
0055 A3                INC     DPTR
0056 E0                MOVX    A,@DPTR
0057 FE                MOV     R6,A
0058 A3                INC     DPTR
0059 E0                MOVX    A,@DPTR
005A FF                MOV     R7,A
005B 900000      R     MOV     DPTR,#old_value
005E 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 71
0061 900000      R     MOV     DPTR,#aux
0064 E0                MOVX    A,@DPTR
0065 FC                MOV     R4,A
0066 A3                INC     DPTR
0067 E0                MOVX    A,@DPTR
0068 FD                MOV     R5,A
0069 A3                INC     DPTR
006A E0                MOVX    A,@DPTR
006B FE                MOV     R6,A
006C A3                INC     DPTR
006D E0                MOVX    A,@DPTR
006E FF                MOV     R7,A
006F 7806              MOV     R0,#06H
0071 120000      E     LCALL   ?C?SLSHR
                                           ; SOURCE LINE # 72
0074         ?C0002:
0074 22                RET     
             ; FUNCTION _filter_i1 (END)

             ; FUNCTION _filter_ch1 (BEGIN)
                                           ; SOURCE LINE # 78
0000 900000      R     MOV     DPTR,#new_value
0003 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 82
C51 COMPILER V9.51   UTILS                                                                 02/14/2023 11:08:55 PAGE 11  

0006 E4                CLR     A
0007 FF                MOV     R7,A
0008 FE                MOV     R6,A
0009 FD                MOV     R5,A
000A FC                MOV     R4,A
000B 900000      R     MOV     DPTR,#new_value
000E E0                MOVX    A,@DPTR
000F F8                MOV     R0,A
0010 A3                INC     DPTR
0011 E0                MOVX    A,@DPTR
0012 F9                MOV     R1,A
0013 A3                INC     DPTR
0014 E0                MOVX    A,@DPTR
0015 FA                MOV     R2,A
0016 A3                INC     DPTR
0017 E0                MOVX    A,@DPTR
0018 FB                MOV     R3,A
0019 C3                CLR     C
001A 120000      E     LCALL   ?C?SLCMP
001D 500B              JNC     ?C0003
                                           ; SOURCE LINE # 83
001F E4                CLR     A
0020 FF                MOV     R7,A
0021 FE                MOV     R6,A
0022 FD                MOV     R5,A
0023 FC                MOV     R4,A
0024 900000      R     MOV     DPTR,#new_value
0027 120000      E     LCALL   ?C?LSTXDATA
002A         ?C0003:
                                           ; SOURCE LINE # 85
002A 900000      R     MOV     DPTR,#new_value
002D E0                MOVX    A,@DPTR
002E FC                MOV     R4,A
002F A3                INC     DPTR
0030 E0                MOVX    A,@DPTR
0031 FD                MOV     R5,A
0032 A3                INC     DPTR
0033 E0                MOVX    A,@DPTR
0034 FE                MOV     R6,A
0035 A3                INC     DPTR
0036 E0                MOVX    A,@DPTR
0037 FF                MOV     R7,A
0038 7806              MOV     R0,#06H
003A 120000      E     LCALL   ?C?LSHL
003D E4                CLR     A
003E 7B32              MOV     R3,#032H
0040 FA                MOV     R2,A
0041 F9                MOV     R1,A
0042 F8                MOV     R0,A
0043 120000      E     LCALL   ?C?LMUL
0046 C004              PUSH    AR4
0048 C005              PUSH    AR5
004A C006              PUSH    AR6
004C C007              PUSH    AR7
004E E4                CLR     A
004F 7FCE              MOV     R7,#0CEH
0051 7E03              MOV     R6,#03H
0053 FD                MOV     R5,A
0054 FC                MOV     R4,A
0055 900000      R     MOV     DPTR,#old_value
0058 E0                MOVX    A,@DPTR
0059 F8                MOV     R0,A
C51 COMPILER V9.51   UTILS                                                                 02/14/2023 11:08:55 PAGE 12  

005A A3                INC     DPTR
005B E0                MOVX    A,@DPTR
005C F9                MOV     R1,A
005D A3                INC     DPTR
005E E0                MOVX    A,@DPTR
005F FA                MOV     R2,A
0060 A3                INC     DPTR
0061 E0                MOVX    A,@DPTR
0062 FB                MOV     R3,A
0063 120000      E     LCALL   ?C?LMUL
0066 D003              POP     AR3
0068 D002              POP     AR2
006A D001              POP     AR1
006C D000              POP     AR0
006E EF                MOV     A,R7
006F 2B                ADD     A,R3
0070 FF                MOV     R7,A
0071 EE                MOV     A,R6
0072 3A                ADDC    A,R2
0073 FE                MOV     R6,A
0074 ED                MOV     A,R5
0075 39                ADDC    A,R1
0076 FD                MOV     R5,A
0077 EC                MOV     A,R4
0078 38                ADDC    A,R0
0079 FC                MOV     R4,A
007A E4                CLR     A
007B FB                MOV     R3,A
007C 7A04              MOV     R2,#04H
007E F9                MOV     R1,A
007F F8                MOV     R0,A
0080 120000      E     LCALL   ?C?SLDIV
0083 900000      R     MOV     DPTR,#aux
0086 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 87
0089 900000      R     MOV     DPTR,#aux
008C E0                MOVX    A,@DPTR
008D FC                MOV     R4,A
008E A3                INC     DPTR
008F E0                MOVX    A,@DPTR
0090 FD                MOV     R5,A
0091 A3                INC     DPTR
0092 E0                MOVX    A,@DPTR
0093 FE                MOV     R6,A
0094 A3                INC     DPTR
0095 E0                MOVX    A,@DPTR
0096 FF                MOV     R7,A
0097 900000      R     MOV     DPTR,#old_value
009A 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 89
009D E4                CLR     A
009E 7B40              MOV     R3,#040H
00A0 FA                MOV     R2,A
00A1 F9                MOV     R1,A
00A2 F8                MOV     R0,A
00A3 900000      R     MOV     DPTR,#aux
00A6 E0                MOVX    A,@DPTR
00A7 FC                MOV     R4,A
00A8 A3                INC     DPTR
00A9 E0                MOVX    A,@DPTR
00AA FD                MOV     R5,A
00AB A3                INC     DPTR
C51 COMPILER V9.51   UTILS                                                                 02/14/2023 11:08:55 PAGE 13  

00AC E0                MOVX    A,@DPTR
00AD FE                MOV     R6,A
00AE A3                INC     DPTR
00AF E0                MOVX    A,@DPTR
00B0 FF                MOV     R7,A
00B1 120000      E     LCALL   ?C?SLDIV
                                           ; SOURCE LINE # 90
00B4         ?C0004:
00B4 22                RET     
             ; FUNCTION _filter_ch1 (END)

             ; FUNCTION _filter_ch2 (BEGIN)
                                           ; SOURCE LINE # 96
0000 900000      R     MOV     DPTR,#new_value
0003 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 100
0006 E4                CLR     A
0007 FF                MOV     R7,A
0008 FE                MOV     R6,A
0009 FD                MOV     R5,A
000A FC                MOV     R4,A
000B 900000      R     MOV     DPTR,#new_value
000E E0                MOVX    A,@DPTR
000F F8                MOV     R0,A
0010 A3                INC     DPTR
0011 E0                MOVX    A,@DPTR
0012 F9                MOV     R1,A
0013 A3                INC     DPTR
0014 E0                MOVX    A,@DPTR
0015 FA                MOV     R2,A
0016 A3                INC     DPTR
0017 E0                MOVX    A,@DPTR
0018 FB                MOV     R3,A
0019 C3                CLR     C
001A 120000      E     LCALL   ?C?SLCMP
001D 500B              JNC     ?C0005
                                           ; SOURCE LINE # 101
001F E4                CLR     A
0020 FF                MOV     R7,A
0021 FE                MOV     R6,A
0022 FD                MOV     R5,A
0023 FC                MOV     R4,A
0024 900000      R     MOV     DPTR,#new_value
0027 120000      E     LCALL   ?C?LSTXDATA
002A         ?C0005:
                                           ; SOURCE LINE # 103
002A 900000      R     MOV     DPTR,#new_value
002D E0                MOVX    A,@DPTR
002E FC                MOV     R4,A
002F A3                INC     DPTR
0030 E0                MOVX    A,@DPTR
0031 FD                MOV     R5,A
0032 A3                INC     DPTR
0033 E0                MOVX    A,@DPTR
0034 FE                MOV     R6,A
0035 A3                INC     DPTR
0036 E0                MOVX    A,@DPTR
0037 FF                MOV     R7,A
0038 7806              MOV     R0,#06H
003A 120000      E     LCALL   ?C?LSHL
003D E4                CLR     A
003E 7B32              MOV     R3,#032H
C51 COMPILER V9.51   UTILS                                                                 02/14/2023 11:08:55 PAGE 14  

0040 FA                MOV     R2,A
0041 F9                MOV     R1,A
0042 F8                MOV     R0,A
0043 120000      E     LCALL   ?C?LMUL
0046 C004              PUSH    AR4
0048 C005              PUSH    AR5
004A C006              PUSH    AR6
004C C007              PUSH    AR7
004E E4                CLR     A
004F 7FCE              MOV     R7,#0CEH
0051 7E03              MOV     R6,#03H
0053 FD                MOV     R5,A
0054 FC                MOV     R4,A
0055 900000      R     MOV     DPTR,#old_value
0058 E0                MOVX    A,@DPTR
0059 F8                MOV     R0,A
005A A3                INC     DPTR
005B E0                MOVX    A,@DPTR
005C F9                MOV     R1,A
005D A3                INC     DPTR
005E E0                MOVX    A,@DPTR
005F FA                MOV     R2,A
0060 A3                INC     DPTR
0061 E0                MOVX    A,@DPTR
0062 FB                MOV     R3,A
0063 120000      E     LCALL   ?C?LMUL
0066 D003              POP     AR3
0068 D002              POP     AR2
006A D001              POP     AR1
006C D000              POP     AR0
006E EF                MOV     A,R7
006F 2B                ADD     A,R3
0070 FF                MOV     R7,A
0071 EE                MOV     A,R6
0072 3A                ADDC    A,R2
0073 FE                MOV     R6,A
0074 ED                MOV     A,R5
0075 39                ADDC    A,R1
0076 FD                MOV     R5,A
0077 EC                MOV     A,R4
0078 38                ADDC    A,R0
0079 FC                MOV     R4,A
007A E4                CLR     A
007B FB                MOV     R3,A
007C 7A04              MOV     R2,#04H
007E F9                MOV     R1,A
007F F8                MOV     R0,A
0080 120000      E     LCALL   ?C?SLDIV
0083 900000      R     MOV     DPTR,#aux
0086 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 105
0089 900000      R     MOV     DPTR,#aux
008C E0                MOVX    A,@DPTR
008D FC                MOV     R4,A
008E A3                INC     DPTR
008F E0                MOVX    A,@DPTR
0090 FD                MOV     R5,A
0091 A3                INC     DPTR
0092 E0                MOVX    A,@DPTR
0093 FE                MOV     R6,A
0094 A3                INC     DPTR
0095 E0                MOVX    A,@DPTR
C51 COMPILER V9.51   UTILS                                                                 02/14/2023 11:08:55 PAGE 15  

0096 FF                MOV     R7,A
0097 900000      R     MOV     DPTR,#old_value
009A 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 107
009D E4                CLR     A
009E 7B40              MOV     R3,#040H
00A0 FA                MOV     R2,A
00A1 F9                MOV     R1,A
00A2 F8                MOV     R0,A
00A3 900000      R     MOV     DPTR,#aux
00A6 E0                MOVX    A,@DPTR
00A7 FC                MOV     R4,A
00A8 A3                INC     DPTR
00A9 E0                MOVX    A,@DPTR
00AA FD                MOV     R5,A
00AB A3                INC     DPTR
00AC E0                MOVX    A,@DPTR
00AD FE                MOV     R6,A
00AE A3                INC     DPTR
00AF E0                MOVX    A,@DPTR
00B0 FF                MOV     R7,A
00B1 120000      E     LCALL   ?C?SLDIV
                                           ; SOURCE LINE # 108
00B4         ?C0006:
00B4 22                RET     
             ; FUNCTION _filter_ch2 (END)

             ; FUNCTION _filter_vel_1 (BEGIN)
                                           ; SOURCE LINE # 114
0000 900000      R     MOV     DPTR,#new_value
0003 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 118
0006 E4                CLR     A
0007 7F20              MOV     R7,#020H
0009 FE                MOV     R6,A
000A FD                MOV     R5,A
000B FC                MOV     R4,A
000C 900000      R     MOV     DPTR,#new_value
000F E0                MOVX    A,@DPTR
0010 F8                MOV     R0,A
0011 A3                INC     DPTR
0012 E0                MOVX    A,@DPTR
0013 F9                MOV     R1,A
0014 A3                INC     DPTR
0015 E0                MOVX    A,@DPTR
0016 FA                MOV     R2,A
0017 A3                INC     DPTR
0018 E0                MOVX    A,@DPTR
0019 FB                MOV     R3,A
001A 120000      E     LCALL   ?C?LMUL
001D C004              PUSH    AR4
001F C005              PUSH    AR5
0021 C006              PUSH    AR6
0023 C007              PUSH    AR7
0025 E4                CLR     A
0026 7FE0              MOV     R7,#0E0H
0028 7E03              MOV     R6,#03H
002A FD                MOV     R5,A
002B FC                MOV     R4,A
002C 900000      R     MOV     DPTR,#old_out
002F E0                MOVX    A,@DPTR
0030 F8                MOV     R0,A
C51 COMPILER V9.51   UTILS                                                                 02/14/2023 11:08:55 PAGE 16  

0031 A3                INC     DPTR
0032 E0                MOVX    A,@DPTR
0033 F9                MOV     R1,A
0034 A3                INC     DPTR
0035 E0                MOVX    A,@DPTR
0036 FA                MOV     R2,A
0037 A3                INC     DPTR
0038 E0                MOVX    A,@DPTR
0039 FB                MOV     R3,A
003A 120000      E     LCALL   ?C?LMUL
003D D003              POP     AR3
003F D002              POP     AR2
0041 D001              POP     AR1
0043 D000              POP     AR0
0045 EF                MOV     A,R7
0046 2B                ADD     A,R3
0047 FF                MOV     R7,A
0048 EE                MOV     A,R6
0049 3A                ADDC    A,R2
004A FE                MOV     R6,A
004B ED                MOV     A,R5
004C 39                ADDC    A,R1
004D FD                MOV     R5,A
004E EC                MOV     A,R4
004F 38                ADDC    A,R0
0050 FC                MOV     R4,A
0051 E4                CLR     A
0052 FB                MOV     R3,A
0053 7A04              MOV     R2,#04H
0055 F9                MOV     R1,A
0056 F8                MOV     R0,A
0057 120000      E     LCALL   ?C?SLDIV
005A 900000      R     MOV     DPTR,#aux
005D 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 120
0060 900000      R     MOV     DPTR,#aux
0063 E0                MOVX    A,@DPTR
0064 FC                MOV     R4,A
0065 A3                INC     DPTR
0066 E0                MOVX    A,@DPTR
0067 FD                MOV     R5,A
0068 A3                INC     DPTR
0069 E0                MOVX    A,@DPTR
006A FE                MOV     R6,A
006B A3                INC     DPTR
006C E0                MOVX    A,@DPTR
006D FF                MOV     R7,A
006E 900000      R     MOV     DPTR,#old_out
0071 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 122
0074 900000      R     MOV     DPTR,#aux
0077 E0                MOVX    A,@DPTR
0078 FC                MOV     R4,A
0079 A3                INC     DPTR
007A E0                MOVX    A,@DPTR
007B FD                MOV     R5,A
007C A3                INC     DPTR
007D E0                MOVX    A,@DPTR
007E FE                MOV     R6,A
007F A3                INC     DPTR
0080 E0                MOVX    A,@DPTR
0081 FF                MOV     R7,A
C51 COMPILER V9.51   UTILS                                                                 02/14/2023 11:08:55 PAGE 17  

                                           ; SOURCE LINE # 123
0082         ?C0007:
0082 22                RET     
             ; FUNCTION _filter_vel_1 (END)

             ; FUNCTION _filter_vel_2 (BEGIN)
                                           ; SOURCE LINE # 125
0000 900000      R     MOV     DPTR,#new_value
0003 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 129
0006 E4                CLR     A
0007 7F20              MOV     R7,#020H
0009 FE                MOV     R6,A
000A FD                MOV     R5,A
000B FC                MOV     R4,A
000C 900000      R     MOV     DPTR,#new_value
000F E0                MOVX    A,@DPTR
0010 F8                MOV     R0,A
0011 A3                INC     DPTR
0012 E0                MOVX    A,@DPTR
0013 F9                MOV     R1,A
0014 A3                INC     DPTR
0015 E0                MOVX    A,@DPTR
0016 FA                MOV     R2,A
0017 A3                INC     DPTR
0018 E0                MOVX    A,@DPTR
0019 FB                MOV     R3,A
001A 120000      E     LCALL   ?C?LMUL
001D C004              PUSH    AR4
001F C005              PUSH    AR5
0021 C006              PUSH    AR6
0023 C007              PUSH    AR7
0025 E4                CLR     A
0026 7FE0              MOV     R7,#0E0H
0028 7E03              MOV     R6,#03H
002A FD                MOV     R5,A
002B FC                MOV     R4,A
002C 900000      R     MOV     DPTR,#old_out
002F E0                MOVX    A,@DPTR
0030 F8                MOV     R0,A
0031 A3                INC     DPTR
0032 E0                MOVX    A,@DPTR
0033 F9                MOV     R1,A
0034 A3                INC     DPTR
0035 E0                MOVX    A,@DPTR
0036 FA                MOV     R2,A
0037 A3                INC     DPTR
0038 E0                MOVX    A,@DPTR
0039 FB                MOV     R3,A
003A 120000      E     LCALL   ?C?LMUL
003D D003              POP     AR3
003F D002              POP     AR2
0041 D001              POP     AR1
0043 D000              POP     AR0
0045 EF                MOV     A,R7
0046 2B                ADD     A,R3
0047 FF                MOV     R7,A
0048 EE                MOV     A,R6
0049 3A                ADDC    A,R2
004A FE                MOV     R6,A
004B ED                MOV     A,R5
004C 39                ADDC    A,R1
C51 COMPILER V9.51   UTILS                                                                 02/14/2023 11:08:55 PAGE 18  

004D FD                MOV     R5,A
004E EC                MOV     A,R4
004F 38                ADDC    A,R0
0050 FC                MOV     R4,A
0051 E4                CLR     A
0052 FB                MOV     R3,A
0053 7A04              MOV     R2,#04H
0055 F9                MOV     R1,A
0056 F8                MOV     R0,A
0057 120000      E     LCALL   ?C?SLDIV
005A 900000      R     MOV     DPTR,#aux
005D 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 131
0060 900000      R     MOV     DPTR,#aux
0063 E0                MOVX    A,@DPTR
0064 FC                MOV     R4,A
0065 A3                INC     DPTR
0066 E0                MOVX    A,@DPTR
0067 FD                MOV     R5,A
0068 A3                INC     DPTR
0069 E0                MOVX    A,@DPTR
006A FE                MOV     R6,A
006B A3                INC     DPTR
006C E0                MOVX    A,@DPTR
006D FF                MOV     R7,A
006E 900000      R     MOV     DPTR,#old_out
0071 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 133
0074 900000      R     MOV     DPTR,#aux
0077 E0                MOVX    A,@DPTR
0078 FC                MOV     R4,A
0079 A3                INC     DPTR
007A E0                MOVX    A,@DPTR
007B FD                MOV     R5,A
007C A3                INC     DPTR
007D E0                MOVX    A,@DPTR
007E FE                MOV     R6,A
007F A3                INC     DPTR
0080 E0                MOVX    A,@DPTR
0081 FF                MOV     R7,A
                                           ; SOURCE LINE # 134
0082         ?C0008:
0082 22                RET     
             ; FUNCTION _filter_vel_2 (END)

             ; FUNCTION _filter_vel_3 (BEGIN)
                                           ; SOURCE LINE # 136
0000 900000      R     MOV     DPTR,#new_value
0003 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 140
0006 E4                CLR     A
0007 7F20              MOV     R7,#020H
0009 FE                MOV     R6,A
000A FD                MOV     R5,A
000B FC                MOV     R4,A
000C 900000      R     MOV     DPTR,#new_value
000F E0                MOVX    A,@DPTR
0010 F8                MOV     R0,A
0011 A3                INC     DPTR
0012 E0                MOVX    A,@DPTR
0013 F9                MOV     R1,A
0014 A3                INC     DPTR
C51 COMPILER V9.51   UTILS                                                                 02/14/2023 11:08:55 PAGE 19  

0015 E0                MOVX    A,@DPTR
0016 FA                MOV     R2,A
0017 A3                INC     DPTR
0018 E0                MOVX    A,@DPTR
0019 FB                MOV     R3,A
001A 120000      E     LCALL   ?C?LMUL
001D C004              PUSH    AR4
001F C005              PUSH    AR5
0021 C006              PUSH    AR6
0023 C007              PUSH    AR7
0025 E4                CLR     A
0026 7FE0              MOV     R7,#0E0H
0028 7E03              MOV     R6,#03H
002A FD                MOV     R5,A
002B FC                MOV     R4,A
002C 900000      R     MOV     DPTR,#old_out
002F E0                MOVX    A,@DPTR
0030 F8                MOV     R0,A
0031 A3                INC     DPTR
0032 E0                MOVX    A,@DPTR
0033 F9                MOV     R1,A
0034 A3                INC     DPTR
0035 E0                MOVX    A,@DPTR
0036 FA                MOV     R2,A
0037 A3                INC     DPTR
0038 E0                MOVX    A,@DPTR
0039 FB                MOV     R3,A
003A 120000      E     LCALL   ?C?LMUL
003D D003              POP     AR3
003F D002              POP     AR2
0041 D001              POP     AR1
0043 D000              POP     AR0
0045 EF                MOV     A,R7
0046 2B                ADD     A,R3
0047 FF                MOV     R7,A
0048 EE                MOV     A,R6
0049 3A                ADDC    A,R2
004A FE                MOV     R6,A
004B ED                MOV     A,R5
004C 39                ADDC    A,R1
004D FD                MOV     R5,A
004E EC                MOV     A,R4
004F 38                ADDC    A,R0
0050 FC                MOV     R4,A
0051 E4                CLR     A
0052 FB                MOV     R3,A
0053 7A04              MOV     R2,#04H
0055 F9                MOV     R1,A
0056 F8                MOV     R0,A
0057 120000      E     LCALL   ?C?SLDIV
005A 900000      R     MOV     DPTR,#aux
005D 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 142
0060 900000      R     MOV     DPTR,#aux
0063 E0                MOVX    A,@DPTR
0064 FC                MOV     R4,A
0065 A3                INC     DPTR
0066 E0                MOVX    A,@DPTR
0067 FD                MOV     R5,A
0068 A3                INC     DPTR
0069 E0                MOVX    A,@DPTR
006A FE                MOV     R6,A
C51 COMPILER V9.51   UTILS                                                                 02/14/2023 11:08:55 PAGE 20  

006B A3                INC     DPTR
006C E0                MOVX    A,@DPTR
006D FF                MOV     R7,A
006E 900000      R     MOV     DPTR,#old_out
0071 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 144
0074 900000      R     MOV     DPTR,#aux
0077 E0                MOVX    A,@DPTR
0078 FC                MOV     R4,A
0079 A3                INC     DPTR
007A E0                MOVX    A,@DPTR
007B FD                MOV     R5,A
007C A3                INC     DPTR
007D E0                MOVX    A,@DPTR
007E FE                MOV     R6,A
007F A3                INC     DPTR
0080 E0                MOVX    A,@DPTR
0081 FF                MOV     R7,A
                                           ; SOURCE LINE # 145
0082         ?C0009:
0082 22                RET     
             ; FUNCTION _filter_vel_3 (END)

             ; FUNCTION _filter_acc_1 (BEGIN)
                                           ; SOURCE LINE # 151
0000 900000      R     MOV     DPTR,#new_value
0003 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 155
0006 E4                CLR     A
0007 7F20              MOV     R7,#020H
0009 FE                MOV     R6,A
000A FD                MOV     R5,A
000B FC                MOV     R4,A
000C 900000      R     MOV     DPTR,#new_value
000F E0                MOVX    A,@DPTR
0010 F8                MOV     R0,A
0011 A3                INC     DPTR
0012 E0                MOVX    A,@DPTR
0013 F9                MOV     R1,A
0014 A3                INC     DPTR
0015 E0                MOVX    A,@DPTR
0016 FA                MOV     R2,A
0017 A3                INC     DPTR
0018 E0                MOVX    A,@DPTR
0019 FB                MOV     R3,A
001A 120000      E     LCALL   ?C?LMUL
001D C004              PUSH    AR4
001F C005              PUSH    AR5
0021 C006              PUSH    AR6
0023 C007              PUSH    AR7
0025 E4                CLR     A
0026 7FE0              MOV     R7,#0E0H
0028 7E03              MOV     R6,#03H
002A FD                MOV     R5,A
002B FC                MOV     R4,A
002C 900000      R     MOV     DPTR,#old_out
002F E0                MOVX    A,@DPTR
0030 F8                MOV     R0,A
0031 A3                INC     DPTR
0032 E0                MOVX    A,@DPTR
0033 F9                MOV     R1,A
0034 A3                INC     DPTR
C51 COMPILER V9.51   UTILS                                                                 02/14/2023 11:08:55 PAGE 21  

0035 E0                MOVX    A,@DPTR
0036 FA                MOV     R2,A
0037 A3                INC     DPTR
0038 E0                MOVX    A,@DPTR
0039 FB                MOV     R3,A
003A 120000      E     LCALL   ?C?LMUL
003D D003              POP     AR3
003F D002              POP     AR2
0041 D001              POP     AR1
0043 D000              POP     AR0
0045 EF                MOV     A,R7
0046 2B                ADD     A,R3
0047 FF                MOV     R7,A
0048 EE                MOV     A,R6
0049 3A                ADDC    A,R2
004A FE                MOV     R6,A
004B ED                MOV     A,R5
004C 39                ADDC    A,R1
004D FD                MOV     R5,A
004E EC                MOV     A,R4
004F 38                ADDC    A,R0
0050 FC                MOV     R4,A
0051 E4                CLR     A
0052 FB                MOV     R3,A
0053 7A04              MOV     R2,#04H
0055 F9                MOV     R1,A
0056 F8                MOV     R0,A
0057 120000      E     LCALL   ?C?SLDIV
005A 900000      R     MOV     DPTR,#aux
005D 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 157
0060 900000      R     MOV     DPTR,#aux
0063 E0                MOVX    A,@DPTR
0064 FC                MOV     R4,A
0065 A3                INC     DPTR
0066 E0                MOVX    A,@DPTR
0067 FD                MOV     R5,A
0068 A3                INC     DPTR
0069 E0                MOVX    A,@DPTR
006A FE                MOV     R6,A
006B A3                INC     DPTR
006C E0                MOVX    A,@DPTR
006D FF                MOV     R7,A
006E 900000      R     MOV     DPTR,#old_out
0071 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 159
0074 900000      R     MOV     DPTR,#aux
0077 E0                MOVX    A,@DPTR
0078 FC                MOV     R4,A
0079 A3                INC     DPTR
007A E0                MOVX    A,@DPTR
007B FD                MOV     R5,A
007C A3                INC     DPTR
007D E0                MOVX    A,@DPTR
007E FE                MOV     R6,A
007F A3                INC     DPTR
0080 E0                MOVX    A,@DPTR
0081 FF                MOV     R7,A
                                           ; SOURCE LINE # 160
0082         ?C0010:
0082 22                RET     
             ; FUNCTION _filter_acc_1 (END)
C51 COMPILER V9.51   UTILS                                                                 02/14/2023 11:08:55 PAGE 22  


             ; FUNCTION _filter_acc_2 (BEGIN)
                                           ; SOURCE LINE # 162
0000 900000      R     MOV     DPTR,#new_value
0003 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 166
0006 E4                CLR     A
0007 7F20              MOV     R7,#020H
0009 FE                MOV     R6,A
000A FD                MOV     R5,A
000B FC                MOV     R4,A
000C 900000      R     MOV     DPTR,#new_value
000F E0                MOVX    A,@DPTR
0010 F8                MOV     R0,A
0011 A3                INC     DPTR
0012 E0                MOVX    A,@DPTR
0013 F9                MOV     R1,A
0014 A3                INC     DPTR
0015 E0                MOVX    A,@DPTR
0016 FA                MOV     R2,A
0017 A3                INC     DPTR
0018 E0                MOVX    A,@DPTR
0019 FB                MOV     R3,A
001A 120000      E     LCALL   ?C?LMUL
001D C004              PUSH    AR4
001F C005              PUSH    AR5
0021 C006              PUSH    AR6
0023 C007              PUSH    AR7
0025 E4                CLR     A
0026 7FE0              MOV     R7,#0E0H
0028 7E03              MOV     R6,#03H
002A FD                MOV     R5,A
002B FC                MOV     R4,A
002C 900000      R     MOV     DPTR,#old_out
002F E0                MOVX    A,@DPTR
0030 F8                MOV     R0,A
0031 A3                INC     DPTR
0032 E0                MOVX    A,@DPTR
0033 F9                MOV     R1,A
0034 A3                INC     DPTR
0035 E0                MOVX    A,@DPTR
0036 FA                MOV     R2,A
0037 A3                INC     DPTR
0038 E0                MOVX    A,@DPTR
0039 FB                MOV     R3,A
003A 120000      E     LCALL   ?C?LMUL
003D D003              POP     AR3
003F D002              POP     AR2
0041 D001              POP     AR1
0043 D000              POP     AR0
0045 EF                MOV     A,R7
0046 2B                ADD     A,R3
0047 FF                MOV     R7,A
0048 EE                MOV     A,R6
0049 3A                ADDC    A,R2
004A FE                MOV     R6,A
004B ED                MOV     A,R5
004C 39                ADDC    A,R1
004D FD                MOV     R5,A
004E EC                MOV     A,R4
004F 38                ADDC    A,R0
0050 FC                MOV     R4,A
C51 COMPILER V9.51   UTILS                                                                 02/14/2023 11:08:55 PAGE 23  

0051 E4                CLR     A
0052 FB                MOV     R3,A
0053 7A04              MOV     R2,#04H
0055 F9                MOV     R1,A
0056 F8                MOV     R0,A
0057 120000      E     LCALL   ?C?SLDIV
005A 900000      R     MOV     DPTR,#aux
005D 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 168
0060 900000      R     MOV     DPTR,#aux
0063 E0                MOVX    A,@DPTR
0064 FC                MOV     R4,A
0065 A3                INC     DPTR
0066 E0                MOVX    A,@DPTR
0067 FD                MOV     R5,A
0068 A3                INC     DPTR
0069 E0                MOVX    A,@DPTR
006A FE                MOV     R6,A
006B A3                INC     DPTR
006C E0                MOVX    A,@DPTR
006D FF                MOV     R7,A
006E 900000      R     MOV     DPTR,#old_out
0071 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 170
0074 900000      R     MOV     DPTR,#aux
0077 E0                MOVX    A,@DPTR
0078 FC                MOV     R4,A
0079 A3                INC     DPTR
007A E0                MOVX    A,@DPTR
007B FD                MOV     R5,A
007C A3                INC     DPTR
007D E0                MOVX    A,@DPTR
007E FE                MOV     R6,A
007F A3                INC     DPTR
0080 E0                MOVX    A,@DPTR
0081 FF                MOV     R7,A
                                           ; SOURCE LINE # 171
0082         ?C0011:
0082 22                RET     
             ; FUNCTION _filter_acc_2 (END)

             ; FUNCTION _filter_acc_3 (BEGIN)
                                           ; SOURCE LINE # 173
0000 900000      R     MOV     DPTR,#new_value
0003 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 177
0006 E4                CLR     A
0007 7F20              MOV     R7,#020H
0009 FE                MOV     R6,A
000A FD                MOV     R5,A
000B FC                MOV     R4,A
000C 900000      R     MOV     DPTR,#new_value
000F E0                MOVX    A,@DPTR
0010 F8                MOV     R0,A
0011 A3                INC     DPTR
0012 E0                MOVX    A,@DPTR
0013 F9                MOV     R1,A
0014 A3                INC     DPTR
0015 E0                MOVX    A,@DPTR
0016 FA                MOV     R2,A
0017 A3                INC     DPTR
0018 E0                MOVX    A,@DPTR
C51 COMPILER V9.51   UTILS                                                                 02/14/2023 11:08:55 PAGE 24  

0019 FB                MOV     R3,A
001A 120000      E     LCALL   ?C?LMUL
001D C004              PUSH    AR4
001F C005              PUSH    AR5
0021 C006              PUSH    AR6
0023 C007              PUSH    AR7
0025 E4                CLR     A
0026 7FE0              MOV     R7,#0E0H
0028 7E03              MOV     R6,#03H
002A FD                MOV     R5,A
002B FC                MOV     R4,A
002C 900000      R     MOV     DPTR,#old_out
002F E0                MOVX    A,@DPTR
0030 F8                MOV     R0,A
0031 A3                INC     DPTR
0032 E0                MOVX    A,@DPTR
0033 F9                MOV     R1,A
0034 A3                INC     DPTR
0035 E0                MOVX    A,@DPTR
0036 FA                MOV     R2,A
0037 A3                INC     DPTR
0038 E0                MOVX    A,@DPTR
0039 FB                MOV     R3,A
003A 120000      E     LCALL   ?C?LMUL
003D D003              POP     AR3
003F D002              POP     AR2
0041 D001              POP     AR1
0043 D000              POP     AR0
0045 EF                MOV     A,R7
0046 2B                ADD     A,R3
0047 FF                MOV     R7,A
0048 EE                MOV     A,R6
0049 3A                ADDC    A,R2
004A FE                MOV     R6,A
004B ED                MOV     A,R5
004C 39                ADDC    A,R1
004D FD                MOV     R5,A
004E EC                MOV     A,R4
004F 38                ADDC    A,R0
0050 FC                MOV     R4,A
0051 E4                CLR     A
0052 FB                MOV     R3,A
0053 7A04              MOV     R2,#04H
0055 F9                MOV     R1,A
0056 F8                MOV     R0,A
0057 120000      E     LCALL   ?C?SLDIV
005A 900000      R     MOV     DPTR,#aux
005D 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 179
0060 900000      R     MOV     DPTR,#aux
0063 E0                MOVX    A,@DPTR
0064 FC                MOV     R4,A
0065 A3                INC     DPTR
0066 E0                MOVX    A,@DPTR
0067 FD                MOV     R5,A
0068 A3                INC     DPTR
0069 E0                MOVX    A,@DPTR
006A FE                MOV     R6,A
006B A3                INC     DPTR
006C E0                MOVX    A,@DPTR
006D FF                MOV     R7,A
006E 900000      R     MOV     DPTR,#old_out
C51 COMPILER V9.51   UTILS                                                                 02/14/2023 11:08:55 PAGE 25  

0071 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 181
0074 900000      R     MOV     DPTR,#aux
0077 E0                MOVX    A,@DPTR
0078 FC                MOV     R4,A
0079 A3                INC     DPTR
007A E0                MOVX    A,@DPTR
007B FD                MOV     R5,A
007C A3                INC     DPTR
007D E0                MOVX    A,@DPTR
007E FE                MOV     R6,A
007F A3                INC     DPTR
0080 E0                MOVX    A,@DPTR
0081 FF                MOV     R7,A
                                           ; SOURCE LINE # 182
0082         ?C0012:
0082 22                RET     
             ; FUNCTION _filter_acc_3 (END)

             ; FUNCTION _filter_voltage (BEGIN)
                                           ; SOURCE LINE # 188
;---- Variable 'new_value' assigned to Register 'R4/R5/R6/R7' ----
                                           ; SOURCE LINE # 193
0000 7806              MOV     R0,#06H
0002 120000      E     LCALL   ?C?LSHL
0005 E4                CLR     A
0006 7B08              MOV     R3,#08H
0008 FA                MOV     R2,A
0009 F9                MOV     R1,A
000A F8                MOV     R0,A
000B 120000      E     LCALL   ?C?LMUL
000E C004              PUSH    AR4
0010 C005              PUSH    AR5
0012 C006              PUSH    AR6
0014 C007              PUSH    AR7
0016 E4                CLR     A
0017 7FF8              MOV     R7,#0F8H
0019 7E03              MOV     R6,#03H
001B FD                MOV     R5,A
001C FC                MOV     R4,A
001D 900000      R     MOV     DPTR,#old_value
0020 E0                MOVX    A,@DPTR
0021 F8                MOV     R0,A
0022 A3                INC     DPTR
0023 E0                MOVX    A,@DPTR
0024 F9                MOV     R1,A
0025 A3                INC     DPTR
0026 E0                MOVX    A,@DPTR
0027 FA                MOV     R2,A
0028 A3                INC     DPTR
0029 E0                MOVX    A,@DPTR
002A FB                MOV     R3,A
002B 120000      E     LCALL   ?C?LMUL
002E D003              POP     AR3
0030 D002              POP     AR2
0032 D001              POP     AR1
0034 D000              POP     AR0
0036 EF                MOV     A,R7
0037 2B                ADD     A,R3
0038 FF                MOV     R7,A
0039 EE                MOV     A,R6
003A 3A                ADDC    A,R2
C51 COMPILER V9.51   UTILS                                                                 02/14/2023 11:08:55 PAGE 26  

003B FE                MOV     R6,A
003C ED                MOV     A,R5
003D 39                ADDC    A,R1
003E FD                MOV     R5,A
003F EC                MOV     A,R4
0040 38                ADDC    A,R0
0041 FC                MOV     R4,A
0042 E4                CLR     A
0043 FB                MOV     R3,A
0044 7A04              MOV     R2,#04H
0046 F9                MOV     R1,A
0047 F8                MOV     R0,A
0048 120000      E     LCALL   ?C?SLDIV
004B 900000      R     MOV     DPTR,#aux
004E 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 195
0051 900000      R     MOV     DPTR,#aux
0054 E0                MOVX    A,@DPTR
0055 FC                MOV     R4,A
0056 A3                INC     DPTR
0057 E0                MOVX    A,@DPTR
0058 FD                MOV     R5,A
0059 A3                INC     DPTR
005A E0                MOVX    A,@DPTR
005B FE                MOV     R6,A
005C A3                INC     DPTR
005D E0                MOVX    A,@DPTR
005E FF                MOV     R7,A
005F 900000      R     MOV     DPTR,#old_value
0062 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 197
0065 E4                CLR     A
0066 7B40              MOV     R3,#040H
0068 FA                MOV     R2,A
0069 F9                MOV     R1,A
006A F8                MOV     R0,A
006B 900000      R     MOV     DPTR,#aux
006E E0                MOVX    A,@DPTR
006F FC                MOV     R4,A
0070 A3                INC     DPTR
0071 E0                MOVX    A,@DPTR
0072 FD                MOV     R5,A
0073 A3                INC     DPTR
0074 E0                MOVX    A,@DPTR
0075 FE                MOV     R6,A
0076 A3                INC     DPTR
0077 E0                MOVX    A,@DPTR
0078 FF                MOV     R7,A
0079 120000      E     LCALL   ?C?SLDIV
                                           ; SOURCE LINE # 198
007C         ?C0013:
007C 22                RET     
             ; FUNCTION _filter_voltage (END)

             ; FUNCTION _check_enc_data (BEGIN)
                                           ; SOURCE LINE # 206
;---- Variable 'value' assigned to Register 'R1/R2/R3' ----
                                           ; SOURCE LINE # 208
0000 7800        R     MOV     R0,#LOW p
0002 A603              MOV     @R0,AR3
0004 08                INC     R0
0005 A602              MOV     @R0,AR2
C51 COMPILER V9.51   UTILS                                                                 02/14/2023 11:08:55 PAGE 27  

0007 08                INC     R0
0008 A601              MOV     @R0,AR1
                                           ; SOURCE LINE # 209
000A 120000      E     LCALL   ?C?CLDPTR
000D F500        R     MOV     a,A
                                           ; SOURCE LINE # 211
000F 7800        R     MOV     R0,#LOW p
0011 8603              MOV     AR3,@R0
0013 08                INC     R0
0014 08                INC     R0
0015 06                INC     @R0
0016 E6                MOV     A,@R0
0017 18                DEC     R0
0018 7001              JNZ     ?C0051
001A 06                INC     @R0
001B         ?C0051:
001B F9                MOV     R1,A
001C 8602              MOV     AR2,@R0
001E 120000      E     LCALL   ?C?CLDPTR
0021 6200        R     XRL     a,A
                                           ; SOURCE LINE # 212
0023 7800        R     MOV     R0,#LOW p
0025 8603              MOV     AR3,@R0
0027 08                INC     R0
0028 08                INC     R0
0029 06                INC     @R0
002A E6                MOV     A,@R0
002B 18                DEC     R0
002C 7001              JNZ     ?C0052
002E 06                INC     @R0
002F         ?C0052:
002F F9                MOV     R1,A
0030 8602              MOV     AR2,@R0
0032 120000      E     LCALL   ?C?CLDPTR
0035 6200        R     XRL     a,A
                                           ; SOURCE LINE # 213
0037 7800        R     MOV     R0,#LOW p
0039 8603              MOV     AR3,@R0
003B 08                INC     R0
003C 08                INC     R0
003D 06                INC     @R0
003E E6                MOV     A,@R0
003F 18                DEC     R0
0040 7001              JNZ     ?C0053
0042 06                INC     @R0
0043         ?C0053:
0043 F9                MOV     R1,A
0044 8602              MOV     AR2,@R0
0046 120000      E     LCALL   ?C?CLDPTR
0049 6200        R     XRL     a,A
                                           ; SOURCE LINE # 214
004B E500        R     MOV     A,a
004D C4                SWAP    A
004E 540F              ANL     A,#0FH
0050 FF                MOV     R7,A
0051 E500        R     MOV     A,a
0053 540F              ANL     A,#0FH
0055 6F                XRL     A,R7
0056 F500        R     MOV     a,A
                                           ; SOURCE LINE # 216
0058 FF                MOV     R7,A
0059 7469              MOV     A,#069H
C51 COMPILER V9.51   UTILS                                                                 02/14/2023 11:08:55 PAGE 28  

005B 7E96              MOV     R6,#096H
005D A807              MOV     R0,AR7
005F 08                INC     R0
0060 8005              SJMP    ?C0055
0062         ?C0054:
0062 CE                XCH     A,R6
0063 C3                CLR     C
0064 13                RRC     A
0065 CE                XCH     A,R6
0066 13                RRC     A
0067         ?C0055:
0067 D8F9              DJNZ    R0,?C0054
0069 13                RRC     A
                                           ; SOURCE LINE # 218
006A         ?C0014:
006A 22                RET     
             ; FUNCTION _check_enc_data (END)

             ; FUNCTION _my_round (BEGIN)
                                           ; SOURCE LINE # 224
0000 900000      R     MOV     DPTR,#x
0003 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 226
0006 E4                CLR     A
0007 FF                MOV     R7,A
0008 FE                MOV     R6,A
0009 FD                MOV     R5,A
000A FC                MOV     R4,A
000B 900000      R     MOV     DPTR,#x
000E E0                MOVX    A,@DPTR
000F F8                MOV     R0,A
0010 A3                INC     DPTR
0011 E0                MOVX    A,@DPTR
0012 F9                MOV     R1,A
0013 A3                INC     DPTR
0014 E0                MOVX    A,@DPTR
0015 FA                MOV     R2,A
0016 A3                INC     DPTR
0017 E0                MOVX    A,@DPTR
0018 FB                MOV     R3,A
0019 120000      E     LCALL   ?C?FPCMP3
001C 501B              JNC     ?C0015
                                           ; SOURCE LINE # 227
001E E4                CLR     A
001F FF                MOV     R7,A
0020 FE                MOV     R6,A
0021 FD                MOV     R5,A
0022 7CBF              MOV     R4,#0BFH
0024 900000      R     MOV     DPTR,#x
0027 E0                MOVX    A,@DPTR
0028 F8                MOV     R0,A
0029 A3                INC     DPTR
002A E0                MOVX    A,@DPTR
002B F9                MOV     R1,A
002C A3                INC     DPTR
002D E0                MOVX    A,@DPTR
002E FA                MOV     R2,A
002F A3                INC     DPTR
0030 E0                MOVX    A,@DPTR
0031 FB                MOV     R3,A
0032 120000      E     LCALL   ?C?FPADD
0035 120000      E     LCALL   ?C?CASTF
C51 COMPILER V9.51   UTILS                                                                 02/14/2023 11:08:55 PAGE 29  

0038 22                RET     
0039         ?C0015:
                                           ; SOURCE LINE # 229
0039 E4                CLR     A
003A FF                MOV     R7,A
003B FE                MOV     R6,A
003C FD                MOV     R5,A
003D 7C3F              MOV     R4,#03FH
003F 900000      R     MOV     DPTR,#x
0042 E0                MOVX    A,@DPTR
0043 F8                MOV     R0,A
0044 A3                INC     DPTR
0045 E0                MOVX    A,@DPTR
0046 F9                MOV     R1,A
0047 A3                INC     DPTR
0048 E0                MOVX    A,@DPTR
0049 FA                MOV     R2,A
004A A3                INC     DPTR
004B E0                MOVX    A,@DPTR
004C FB                MOV     R3,A
004D 120000      E     LCALL   ?C?FPADD
0050 120000      E     LCALL   ?C?CASTF
                                           ; SOURCE LINE # 230
0053         ?C0016:
0053 22                RET     
             ; FUNCTION _my_round (END)

             ; FUNCTION _my_mod (BEGIN)
                                           ; SOURCE LINE # 236
0000 900000      R     MOV     DPTR,#val
0003 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 238
0006 E4                CLR     A
0007 FF                MOV     R7,A
0008 FE                MOV     R6,A
0009 FD                MOV     R5,A
000A FC                MOV     R4,A
000B 900000      R     MOV     DPTR,#val
000E E0                MOVX    A,@DPTR
000F F8                MOV     R0,A
0010 A3                INC     DPTR
0011 E0                MOVX    A,@DPTR
0012 F9                MOV     R1,A
0013 A3                INC     DPTR
0014 E0                MOVX    A,@DPTR
0015 FA                MOV     R2,A
0016 A3                INC     DPTR
0017 E0                MOVX    A,@DPTR
0018 FB                MOV     R3,A
0019 C3                CLR     C
001A 120000      E     LCALL   ?C?SLCMP
001D 4028              JC      ?C0018
                                           ; SOURCE LINE # 239
001F 900000      R     MOV     DPTR,#divisor
0022 E0                MOVX    A,@DPTR
0023 F8                MOV     R0,A
0024 A3                INC     DPTR
0025 E0                MOVX    A,@DPTR
0026 F9                MOV     R1,A
0027 A3                INC     DPTR
0028 E0                MOVX    A,@DPTR
0029 FA                MOV     R2,A
C51 COMPILER V9.51   UTILS                                                                 02/14/2023 11:08:55 PAGE 30  

002A A3                INC     DPTR
002B E0                MOVX    A,@DPTR
002C FB                MOV     R3,A
002D 900000      R     MOV     DPTR,#val
0030 E0                MOVX    A,@DPTR
0031 FC                MOV     R4,A
0032 A3                INC     DPTR
0033 E0                MOVX    A,@DPTR
0034 FD                MOV     R5,A
0035 A3                INC     DPTR
0036 E0                MOVX    A,@DPTR
0037 FE                MOV     R6,A
0038 A3                INC     DPTR
0039 E0                MOVX    A,@DPTR
003A FF                MOV     R7,A
003B 120000      E     LCALL   ?C?SLDIV
003E AC00              MOV     R4,AR0
0040 AD01              MOV     R5,AR1
0042 AE02              MOV     R6,AR2
0044 AF03              MOV     R7,AR3
0046 22                RET     
                                           ; SOURCE LINE # 240
0047         ?C0018:
                                           ; SOURCE LINE # 241
0047 900000      R     MOV     DPTR,#val
004A E0                MOVX    A,@DPTR
004B FC                MOV     R4,A
004C A3                INC     DPTR
004D E0                MOVX    A,@DPTR
004E FD                MOV     R5,A
004F A3                INC     DPTR
0050 E0                MOVX    A,@DPTR
0051 FE                MOV     R6,A
0052 A3                INC     DPTR
0053 E0                MOVX    A,@DPTR
0054 FF                MOV     R7,A
0055 120000      E     LCALL   ?C?LNEG
0058 A3                INC     DPTR
0059 E0                MOVX    A,@DPTR
005A F8                MOV     R0,A
005B A3                INC     DPTR
005C E0                MOVX    A,@DPTR
005D F9                MOV     R1,A
005E A3                INC     DPTR
005F E0                MOVX    A,@DPTR
0060 FA                MOV     R2,A
0061 A3                INC     DPTR
0062 E0                MOVX    A,@DPTR
0063 FB                MOV     R3,A
0064 120000      E     LCALL   ?C?SLDIV
0067 900000      R     MOV     DPTR,#divisor
006A E0                MOVX    A,@DPTR
006B FC                MOV     R4,A
006C A3                INC     DPTR
006D E0                MOVX    A,@DPTR
006E FD                MOV     R5,A
006F A3                INC     DPTR
0070 E0                MOVX    A,@DPTR
0071 FE                MOV     R6,A
0072 A3                INC     DPTR
0073 E0                MOVX    A,@DPTR
0074 C3                CLR     C
C51 COMPILER V9.51   UTILS                                                                 02/14/2023 11:08:55 PAGE 31  

0075 9B                SUBB    A,R3
0076 FF                MOV     R7,A
0077 EE                MOV     A,R6
0078 9A                SUBB    A,R2
0079 FE                MOV     R6,A
007A ED                MOV     A,R5
007B 99                SUBB    A,R1
007C FD                MOV     R5,A
007D EC                MOV     A,R4
007E 98                SUBB    A,R0
007F FC                MOV     R4,A
                                           ; SOURCE LINE # 242
                                           ; SOURCE LINE # 243
0080         ?C0019:
0080 22                RET     
             ; FUNCTION _my_mod (END)

             ; FUNCTION calibration (BEGIN)
                                           ; SOURCE LINE # 250
                                           ; SOURCE LINE # 256
0000 900000      R     MOV     DPTR,#direction
0003 E0                MOVX    A,@DPTR
0004 707B              JNZ     ?C0021
                                           ; SOURCE LINE # 257
0006 900000      E     MOV     DPTR,#g_ref
0009 E0                MOVX    A,@DPTR
000A F8                MOV     R0,A
000B A3                INC     DPTR
000C E0                MOVX    A,@DPTR
000D F9                MOV     R1,A
000E A3                INC     DPTR
000F E0                MOVX    A,@DPTR
0010 FA                MOV     R2,A
0011 A3                INC     DPTR
0012 E0                MOVX    A,@DPTR
0013 FB                MOV     R3,A
0014 C000              PUSH    AR0
0016 C001              PUSH    AR1
0018 C002              PUSH    AR2
001A C003              PUSH    AR3
001C 900000      E     MOV     DPTR,#g_mem+03H
001F E0                MOVX    A,@DPTR
0020 FF                MOV     R7,A
0021 900000      E     MOV     DPTR,#calib+02H
0024 E0                MOVX    A,@DPTR
0025 FE                MOV     R6,A
0026 A3                INC     DPTR
0027 E0                MOVX    A,@DPTR
0028 A807              MOV     R0,AR7
002A 08                INC     R0
002B 8005              SJMP    ?C0057
002D         ?C0056:
002D C3                CLR     C
002E 33                RLC     A
002F CE                XCH     A,R6
0030 33                RLC     A
0031 CE                XCH     A,R6
0032         ?C0057:
0032 D8F9              DJNZ    R0,?C0056
0034 FF                MOV     R7,A
0035 EE                MOV     A,R6
0036 33                RLC     A
C51 COMPILER V9.51   UTILS                                                                 02/14/2023 11:08:55 PAGE 32  

0037 95E0              SUBB    A,ACC
0039 FD                MOV     R5,A
003A FC                MOV     R4,A
003B D003              POP     AR3
003D D002              POP     AR2
003F D001              POP     AR1
0041 D000              POP     AR0
0043 EB                MOV     A,R3
0044 2F                ADD     A,R7
0045 FF                MOV     R7,A
0046 EA                MOV     A,R2
0047 3E                ADDC    A,R6
0048 FE                MOV     R6,A
0049 E9                MOV     A,R1
004A 3D                ADDC    A,R5
004B FD                MOV     R5,A
004C E8                MOV     A,R0
004D 3C                ADDC    A,R4
004E FC                MOV     R4,A
004F 900000      E     MOV     DPTR,#g_ref
0052 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 258
0055 900000      E     MOV     DPTR,#g_mem+027H
0058 E0                MOVX    A,@DPTR
0059 FC                MOV     R4,A
005A A3                INC     DPTR
005B E0                MOVX    A,@DPTR
005C FD                MOV     R5,A
005D A3                INC     DPTR
005E E0                MOVX    A,@DPTR
005F FE                MOV     R6,A
0060 A3                INC     DPTR
0061 E0                MOVX    A,@DPTR
0062 FF                MOV     R7,A
0063 900000      E     MOV     DPTR,#g_ref
0066 E0                MOVX    A,@DPTR
0067 F8                MOV     R0,A
0068 A3                INC     DPTR
0069 E0                MOVX    A,@DPTR
006A F9                MOV     R1,A
006B A3                INC     DPTR
006C E0                MOVX    A,@DPTR
006D FA                MOV     R2,A
006E A3                INC     DPTR
006F E0                MOVX    A,@DPTR
0070 FB                MOV     R3,A
0071 D3                SETB    C
0072 120000      E     LCALL   ?C?SLCMP
0075 5003              JNC     $ + 5H
0077 020000      R     LJMP    ?C0028
                                           ; SOURCE LINE # 259
007A 900000      R     MOV     DPTR,#direction
007D 7401              MOV     A,#01H
007F F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 260
                                           ; SOURCE LINE # 261
0080 22                RET     
0081         ?C0021:
                                           ; SOURCE LINE # 262
0081 900000      E     MOV     DPTR,#g_ref
0084 E0                MOVX    A,@DPTR
0085 FC                MOV     R4,A
C51 COMPILER V9.51   UTILS                                                                 02/14/2023 11:08:55 PAGE 33  

0086 A3                INC     DPTR
0087 E0                MOVX    A,@DPTR
0088 FD                MOV     R5,A
0089 A3                INC     DPTR
008A E0                MOVX    A,@DPTR
008B FE                MOV     R6,A
008C A3                INC     DPTR
008D E0                MOVX    A,@DPTR
008E FF                MOV     R7,A
008F C004              PUSH    AR4
0091 C005              PUSH    AR5
0093 C006              PUSH    AR6
0095 C007              PUSH    AR7
0097 900000      E     MOV     DPTR,#g_mem+03H
009A E0                MOVX    A,@DPTR
009B FF                MOV     R7,A
009C 900000      E     MOV     DPTR,#calib+02H
009F E0                MOVX    A,@DPTR
00A0 FE                MOV     R6,A
00A1 A3                INC     DPTR
00A2 E0                MOVX    A,@DPTR
00A3 A807              MOV     R0,AR7
00A5 08                INC     R0
00A6 8005              SJMP    ?C0059
00A8         ?C0058:
00A8 C3                CLR     C
00A9 33                RLC     A
00AA CE                XCH     A,R6
00AB 33                RLC     A
00AC CE                XCH     A,R6
00AD         ?C0059:
00AD D8F9              DJNZ    R0,?C0058
00AF FF                MOV     R7,A
00B0 FB                MOV     R3,A
00B1 AA06              MOV     R2,AR6
00B3 EA                MOV     A,R2
00B4 33                RLC     A
00B5 95E0              SUBB    A,ACC
00B7 F9                MOV     R1,A
00B8 F8                MOV     R0,A
00B9 D007              POP     AR7
00BB D006              POP     AR6
00BD D005              POP     AR5
00BF D004              POP     AR4
00C1 C3                CLR     C
00C2 EF                MOV     A,R7
00C3 9B                SUBB    A,R3
00C4 FF                MOV     R7,A
00C5 EE                MOV     A,R6
00C6 9A                SUBB    A,R2
00C7 FE                MOV     R6,A
00C8 ED                MOV     A,R5
00C9 99                SUBB    A,R1
00CA FD                MOV     R5,A
00CB EC                MOV     A,R4
00CC 98                SUBB    A,R0
00CD FC                MOV     R4,A
00CE 900000      E     MOV     DPTR,#g_ref
00D1 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 263
00D4 E4                CLR     A
00D5 FF                MOV     R7,A
C51 COMPILER V9.51   UTILS                                                                 02/14/2023 11:08:55 PAGE 34  

00D6 FE                MOV     R6,A
00D7 FD                MOV     R5,A
00D8 FC                MOV     R4,A
00D9 900000      E     MOV     DPTR,#g_ref
00DC E0                MOVX    A,@DPTR
00DD F8                MOV     R0,A
00DE A3                INC     DPTR
00DF E0                MOVX    A,@DPTR
00E0 F9                MOV     R1,A
00E1 A3                INC     DPTR
00E2 E0                MOVX    A,@DPTR
00E3 FA                MOV     R2,A
00E4 A3                INC     DPTR
00E5 E0                MOVX    A,@DPTR
00E6 FB                MOV     R3,A
00E7 C3                CLR     C
00E8 120000      E     LCALL   ?C?SLCMP
00EB 4006              JC      ?C0025
00ED 7E00              MOV     R6,#00H
00EF 7F01              MOV     R7,#01H
00F1 8004              SJMP    ?C0026
00F3         ?C0025:
00F3 7EFF              MOV     R6,#0FFH
00F5 7FFF              MOV     R7,#0FFH
00F7         ?C0026:
00F7 EF                MOV     A,R7
00F8 6401              XRL     A,#01H
00FA 4E                ORL     A,R6
00FB 6032              JZ      ?C0028
                                           ; SOURCE LINE # 264
00FD E4                CLR     A
00FE 900000      R     MOV     DPTR,#direction
0101 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 265
0102 900000      R     MOV     DPTR,#closure_counter+01H
0105 E0                MOVX    A,@DPTR
0106 04                INC     A
0107 F0                MOVX    @DPTR,A
0108 7006              JNZ     ?C0060
010A 900000      R     MOV     DPTR,#closure_counter
010D E0                MOVX    A,@DPTR
010E 04                INC     A
010F F0                MOVX    @DPTR,A
0110         ?C0060:
                                           ; SOURCE LINE # 266
0110 900000      R     MOV     DPTR,#closure_counter
0113 E0                MOVX    A,@DPTR
0114 FE                MOV     R6,A
0115 A3                INC     DPTR
0116 E0                MOVX    A,@DPTR
0117 FF                MOV     R7,A
0118 900000      E     MOV     DPTR,#calib+04H
011B E0                MOVX    A,@DPTR
011C B50610            CJNE    A,AR6,?C0028
011F A3                INC     DPTR
0120 E0                MOVX    A,@DPTR
0121 B5070B            CJNE    A,AR7,?C0028
                                           ; SOURCE LINE # 267
0124 E4                CLR     A
0125 900000      R     MOV     DPTR,#closure_counter
0128 F0                MOVX    @DPTR,A
0129 A3                INC     DPTR
C51 COMPILER V9.51   UTILS                                                                 02/14/2023 11:08:55 PAGE 35  

012A F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 268
012B 900000      E     MOV     DPTR,#calib
012E F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 269
                                           ; SOURCE LINE # 270
                                           ; SOURCE LINE # 271
                                           ; SOURCE LINE # 272
012F         ?C0028:
012F 22                RET     
             ; FUNCTION calibration (END)

             ; FUNCTION _calc_turns_fcn (BEGIN)
                                           ; SOURCE LINE # 308
0000 900000      R     MOV     DPTR,#pos1
0003 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 310
0006 E4                CLR     A
0007 7F0F              MOV     R7,#0FH
0009 FE                MOV     R6,A
000A FD                MOV     R5,A
000B FC                MOV     R4,A
000C 900000      R     MOV     DPTR,#pos1
000F E0                MOVX    A,@DPTR
0010 F8                MOV     R0,A
0011 A3                INC     DPTR
0012 E0                MOVX    A,@DPTR
0013 F9                MOV     R1,A
0014 A3                INC     DPTR
0015 E0                MOVX    A,@DPTR
0016 FA                MOV     R2,A
0017 A3                INC     DPTR
0018 E0                MOVX    A,@DPTR
0019 FB                MOV     R3,A
001A 120000      E     LCALL   ?C?LMUL
001D C004              PUSH    AR4
001F C005              PUSH    AR5
0021 C006              PUSH    AR6
0023 C007              PUSH    AR7
0025 74FF              MOV     A,#0FFH
0027 7FF2              MOV     R7,#0F2H
0029 FE                MOV     R6,A
002A FD                MOV     R5,A
002B FC                MOV     R4,A
002C 900000      R     MOV     DPTR,#pos2
002F E0                MOVX    A,@DPTR
0030 F8                MOV     R0,A
0031 A3                INC     DPTR
0032 E0                MOVX    A,@DPTR
0033 F9                MOV     R1,A
0034 A3                INC     DPTR
0035 E0                MOVX    A,@DPTR
0036 FA                MOV     R2,A
0037 A3                INC     DPTR
0038 E0                MOVX    A,@DPTR
0039 FB                MOV     R3,A
003A 120000      E     LCALL   ?C?LMUL
003D D003              POP     AR3
003F D002              POP     AR2
0041 D001              POP     AR1
0043 D000              POP     AR0
0045 C3                CLR     C
C51 COMPILER V9.51   UTILS                                                                 02/14/2023 11:08:55 PAGE 36  

0046 EF                MOV     A,R7
0047 9B                SUBB    A,R3
0048 FF                MOV     R7,A
0049 EE                MOV     A,R6
004A 9A                SUBB    A,R2
004B FE                MOV     R6,A
004C ED                MOV     A,R5
004D 99                SUBB    A,R1
004E FD                MOV     R5,A
004F EC                MOV     A,R4
0050 98                SUBB    A,R0
0051 FC                MOV     R4,A
0052 C004              PUSH    AR4
0054 C005              PUSH    AR5
0056 C006              PUSH    AR6
0058 C007              PUSH    AR7
005A E4                CLR     A
005B FF                MOV     R7,A
005C FE                MOV     R6,A
005D 7D0E              MOV     R5,#0EH
005F FC                MOV     R4,A
0060 900000      R     MOV     DPTR,#?_my_mod?BYTE+04H
0063 120000      E     LCALL   ?C?LSTXDATA
0066 D007              POP     AR7
0068 D006              POP     AR6
006A D005              POP     AR5
006C D004              POP     AR4
006E 120000      R     LCALL   _my_mod
0071 E4                CLR     A
0072 2F                ADD     A,R7
0073 FF                MOV     R7,A
0074 EE                MOV     A,R6
0075 3480              ADDC    A,#080H
0077 FE                MOV     R6,A
0078 E4                CLR     A
0079 3D                ADDC    A,R5
007A FD                MOV     R5,A
007B E4                CLR     A
007C 3C                ADDC    A,R4
007D FC                MOV     R4,A
007E E4                CLR     A
007F FB                MOV     R3,A
0080 FA                MOV     R2,A
0081 7901              MOV     R1,#01H
0083 F8                MOV     R0,A
0084 120000      E     LCALL   ?C?ULDIV
;---- Variable 'x' assigned to Register 'R4/R5/R6/R7' ----
                                           ; SOURCE LINE # 312
0087 C004              PUSH    AR4
0089 C005              PUSH    AR5
008B C006              PUSH    AR6
008D C007              PUSH    AR7
008F E4                CLR     A
0090 7F0E              MOV     R7,#0EH
0092 FE                MOV     R6,A
0093 FD                MOV     R5,A
0094 FC                MOV     R4,A
0095 900000      R     MOV     DPTR,#?_my_mod?BYTE+04H
0098 120000      E     LCALL   ?C?LSTXDATA
009B D007              POP     AR7
009D D006              POP     AR6
009F D005              POP     AR5
C51 COMPILER V9.51   UTILS                                                                 02/14/2023 11:08:55 PAGE 37  

00A1 D004              POP     AR4
00A3 120000      R     LCALL   _my_mod
;---- Variable 'aux' assigned to Register 'R4/R5/R6/R7' ----
                                           ; SOURCE LINE # 314
00A6 EF                MOV     A,R7
00A7 2407              ADD     A,#07H
00A9 FF                MOV     R7,A
00AA E4                CLR     A
00AB 3E                ADDC    A,R6
00AC FE                MOV     R6,A
00AD E4                CLR     A
00AE 3D                ADDC    A,R5
00AF FD                MOV     R5,A
00B0 E4                CLR     A
00B1 3C                ADDC    A,R4
00B2 FC                MOV     R4,A
00B3 C004              PUSH    AR4
00B5 C005              PUSH    AR5
00B7 C006              PUSH    AR6
00B9 C007              PUSH    AR7
00BB E4                CLR     A
00BC 7F0E              MOV     R7,#0EH
00BE FE                MOV     R6,A
00BF FD                MOV     R5,A
00C0 FC                MOV     R4,A
00C1 900000      R     MOV     DPTR,#?_my_mod?BYTE+04H
00C4 120000      E     LCALL   ?C?LSTXDATA
00C7 D007              POP     AR7
00C9 D006              POP     AR6
00CB D005              POP     AR5
00CD D004              POP     AR4
00CF 120000      R     LCALL   _my_mod
00D2 EF                MOV     A,R7
00D3 24F9              ADD     A,#0F9H
00D5 FF                MOV     R7,A
00D6 EE                MOV     A,R6
00D7 34FF              ADDC    A,#0FFH
00D9 FE                MOV     R6,A
                                           ; SOURCE LINE # 315
00DA         ?C0029:
00DA 22                RET     
             ; FUNCTION _calc_turns_fcn (END)

             ; FUNCTION check_rest_position (BEGIN)
                                           ; SOURCE LINE # 322
                                           ; SOURCE LINE # 330
0000 E4                CLR     A
0001 FF                MOV     R7,A
0002 FE                MOV     R6,A
0003 FD                MOV     R5,A
0004 FC                MOV     R4,A
0005 900000      R     MOV     DPTR,#curr_pos
0008 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 332
000B 900000      E     MOV     DPTR,#g_mem+050H
000E E0                MOVX    A,@DPTR
000F FC                MOV     R4,A
0010 A3                INC     DPTR
0011 E0                MOVX    A,@DPTR
0012 FD                MOV     R5,A
0013 A3                INC     DPTR
0014 E0                MOVX    A,@DPTR
C51 COMPILER V9.51   UTILS                                                                 02/14/2023 11:08:55 PAGE 38  

0015 FE                MOV     R6,A
0016 A3                INC     DPTR
0017 E0                MOVX    A,@DPTR
0018 FF                MOV     R7,A
0019 EC                MOV     A,R4
001A 120000      E     LCALL   ?C?FCASTL
001D E4                CLR     A
001E FB                MOV     R3,A
001F FA                MOV     R2,A
0020 797A              MOV     R1,#07AH
0022 7844              MOV     R0,#044H
0024 120000      E     LCALL   ?C?FPDIV
0027 900000      R     MOV     DPTR,#rest_vel_ticks_ms
002A 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 334
002D 900000      R     MOV     DPTR,#first_time
0030 E0                MOVX    A,@DPTR
0031 6010              JZ      ?C0030
                                           ; SOURCE LINE # 335
0033 E4                CLR     A
0034 FF                MOV     R7,A
0035 FE                MOV     R6,A
0036 FD                MOV     R5,A
0037 FC                MOV     R4,A
0038 900000      R     MOV     DPTR,#count
003B 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 336
003E E4                CLR     A
003F 900000      R     MOV     DPTR,#first_time
0042 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 337
0043         ?C0030:
                                           ; SOURCE LINE # 339
0043 900000      E     MOV     DPTR,#curr_pos_res
0046 E0                MOVX    A,@DPTR
0047 FC                MOV     R4,A
0048 A3                INC     DPTR
0049 E0                MOVX    A,@DPTR
004A FD                MOV     R5,A
004B A3                INC     DPTR
004C E0                MOVX    A,@DPTR
004D FE                MOV     R6,A
004E A3                INC     DPTR
004F E0                MOVX    A,@DPTR
0050 FF                MOV     R7,A
0051 900000      E     MOV     DPTR,#g_mem+03H
0054 E0                MOVX    A,@DPTR
0055 F9                MOV     R1,A
0056 F8                MOV     R0,A
0057 120000      E     LCALL   ?C?SLSHR
005A 900000      R     MOV     DPTR,#curr_pos
005D 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 341
0060 900000      E     MOV     DPTR,#c_mem+02H
0063 E0                MOVX    A,@DPTR
0064 FF                MOV     R7,A
0065 C3                CLR     C
0066 9402              SUBB    A,#02H
0068 403A              JC      ?C0033
006A EF                MOV     A,R7
006B D3                SETB    C
006C 9405              SUBB    A,#05H
C51 COMPILER V9.51   UTILS                                                                 02/14/2023 11:08:55 PAGE 39  

006E 5034              JNC     ?C0033
0070 E4                CLR     A
0071 7FC8              MOV     R7,#0C8H
0073 FE                MOV     R6,A
0074 FD                MOV     R5,A
0075 FC                MOV     R4,A
0076 900000      E     MOV     DPTR,#g_meas+0FH
0079 E0                MOVX    A,@DPTR
007A F8                MOV     R0,A
007B A3                INC     DPTR
007C E0                MOVX    A,@DPTR
007D F9                MOV     R1,A
007E A3                INC     DPTR
007F E0                MOVX    A,@DPTR
0080 FA                MOV     R2,A
0081 A3                INC     DPTR
0082 E0                MOVX    A,@DPTR
0083 FB                MOV     R3,A
0084 C3                CLR     C
0085 120000      E     LCALL   ?C?SLCMP
0088 501A              JNC     ?C0033
008A E4                CLR     A
008B 7FC8              MOV     R7,#0C8H
008D FE                MOV     R6,A
008E FD                MOV     R5,A
008F FC                MOV     R4,A
0090 900000      E     MOV     DPTR,#g_meas+013H
0093 E0                MOVX    A,@DPTR
0094 F8                MOV     R0,A
0095 A3                INC     DPTR
0096 E0                MOVX    A,@DPTR
0097 F9                MOV     R1,A
0098 A3                INC     DPTR
0099 E0                MOVX    A,@DPTR
009A FA                MOV     R2,A
009B A3                INC     DPTR
009C E0                MOVX    A,@DPTR
009D FB                MOV     R3,A
009E C3                CLR     C
009F 120000      E     LCALL   ?C?SLCMP
00A2 4024              JC      ?C0032
00A4         ?C0033:
00A4 900000      E     MOV     DPTR,#c_mem+02H
00A7 E0                MOVX    A,@DPTR
00A8 6406              XRL     A,#06H
00AA 705F              JNZ     ?C0031
00AC 900000      E     MOV     DPTR,#g_meas+02FH
00AF E0                MOVX    A,@DPTR
00B0 FE                MOV     R6,A
00B1 A3                INC     DPTR
00B2 E0                MOVX    A,@DPTR
00B3 FF                MOV     R7,A
00B4 C3                CLR     C
00B5 9432              SUBB    A,#032H
00B7 EE                MOV     A,R6
00B8 6480              XRL     A,#080H
00BA 9480              SUBB    A,#080H
00BC 504D              JNC     ?C0031
00BE EF                MOV     A,R7
00BF 94CE              SUBB    A,#0CEH
00C1 EE                MOV     A,R6
00C2 6480              XRL     A,#080H
C51 COMPILER V9.51   UTILS                                                                 02/14/2023 11:08:55 PAGE 40  

00C4 947F              SUBB    A,#07FH
00C6 4043              JC      ?C0031
00C8         ?C0032:
00C8 E4                CLR     A
00C9 7F10              MOV     R7,#010H
00CB 7E27              MOV     R6,#027H
00CD FD                MOV     R5,A
00CE FC                MOV     R4,A
00CF 900000      R     MOV     DPTR,#curr_pos
00D2 E0                MOVX    A,@DPTR
00D3 F8                MOV     R0,A
00D4 A3                INC     DPTR
00D5 E0                MOVX    A,@DPTR
00D6 F9                MOV     R1,A
00D7 A3                INC     DPTR
00D8 E0                MOVX    A,@DPTR
00D9 FA                MOV     R2,A
00DA A3                INC     DPTR
00DB E0                MOVX    A,@DPTR
00DC FB                MOV     R3,A
00DD C3                CLR     C
00DE 120000      E     LCALL   ?C?SLCMP
00E1 5028              JNC     ?C0031
                                           ; SOURCE LINE # 342
                                           ; SOURCE LINE # 343
00E3 900000      R     MOV     DPTR,#flag_count
00E6 E0                MOVX    A,@DPTR
00E7 B40136            CJNE    A,#01H,?C0035
                                           ; SOURCE LINE # 344
00EA 900000      R     MOV     DPTR,#count
00ED E0                MOVX    A,@DPTR
00EE FC                MOV     R4,A
00EF A3                INC     DPTR
00F0 E0                MOVX    A,@DPTR
00F1 FD                MOV     R5,A
00F2 A3                INC     DPTR
00F3 E0                MOVX    A,@DPTR
00F4 FE                MOV     R6,A
00F5 A3                INC     DPTR
00F6 E0                MOVX    A,@DPTR
00F7 2401              ADD     A,#01H
00F9 FF                MOV     R7,A
00FA E4                CLR     A
00FB 3E                ADDC    A,R6
00FC FE                MOV     R6,A
00FD E4                CLR     A
00FE 3D                ADDC    A,R5
00FF FD                MOV     R5,A
0100 E4                CLR     A
0101 3C                ADDC    A,R4
0102 FC                MOV     R4,A
0103 900000      R     MOV     DPTR,#count
0106 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 345
                                           ; SOURCE LINE # 346
0109 8015              SJMP    ?C0035
010B         ?C0031:
                                           ; SOURCE LINE # 347
                                           ; SOURCE LINE # 348
010B E4                CLR     A
010C FF                MOV     R7,A
010D FE                MOV     R6,A
C51 COMPILER V9.51   UTILS                                                                 02/14/2023 11:08:55 PAGE 41  

010E FD                MOV     R5,A
010F FC                MOV     R4,A
0110 900000      R     MOV     DPTR,#count
0113 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 349
0116 E4                CLR     A
0117 900000      E     MOV     DPTR,#rest_enabled
011A F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 350
011B 900000      R     MOV     DPTR,#flag_count
011E 04                INC     A
011F F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 351
0120         ?C0035:
                                           ; SOURCE LINE # 359
0120 E4                CLR     A
0121 7B0A              MOV     R3,#0AH
0123 FA                MOV     R2,A
0124 F9                MOV     R1,A
0125 F8                MOV     R0,A
0126 900000      E     MOV     DPTR,#g_mem+04CH
0129 E0                MOVX    A,@DPTR
012A FC                MOV     R4,A
012B A3                INC     DPTR
012C E0                MOVX    A,@DPTR
012D FD                MOV     R5,A
012E A3                INC     DPTR
012F E0                MOVX    A,@DPTR
0130 FE                MOV     R6,A
0131 A3                INC     DPTR
0132 E0                MOVX    A,@DPTR
0133 FF                MOV     R7,A
0134 120000      E     LCALL   ?C?SLDIV
0137 900000      R     MOV     DPTR,#count
013A E0                MOVX    A,@DPTR
013B F8                MOV     R0,A
013C A3                INC     DPTR
013D E0                MOVX    A,@DPTR
013E F9                MOV     R1,A
013F A3                INC     DPTR
0140 E0                MOVX    A,@DPTR
0141 FA                MOV     R2,A
0142 A3                INC     DPTR
0143 E0                MOVX    A,@DPTR
0144 FB                MOV     R3,A
0145 C3                CLR     C
0146 120000      E     LCALL   ?C?ULCMP
0149 6003              JZ      $ + 5H
014B 020000      R     LJMP    ?C0036
                                           ; SOURCE LINE # 361
014E 900000      E     MOV     DPTR,#rest_enabled
0151 04                INC     A
0152 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 362
0153 900000      E     MOV     DPTR,#curr_pos_res
0156 E0                MOVX    A,@DPTR
0157 FC                MOV     R4,A
0158 A3                INC     DPTR
0159 E0                MOVX    A,@DPTR
015A FD                MOV     R5,A
015B A3                INC     DPTR
015C E0                MOVX    A,@DPTR
C51 COMPILER V9.51   UTILS                                                                 02/14/2023 11:08:55 PAGE 42  

015D FE                MOV     R6,A
015E A3                INC     DPTR
015F E0                MOVX    A,@DPTR
0160 FF                MOV     R7,A
0161 900000      E     MOV     DPTR,#rest_pos_curr_ref
0164 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 365
0167 900000      E     MOV     DPTR,#curr_pos_res
016A E0                MOVX    A,@DPTR
016B F8                MOV     R0,A
016C A3                INC     DPTR
016D E0                MOVX    A,@DPTR
016E F9                MOV     R1,A
016F A3                INC     DPTR
0170 E0                MOVX    A,@DPTR
0171 FA                MOV     R2,A
0172 A3                INC     DPTR
0173 E0                MOVX    A,@DPTR
0174 FB                MOV     R3,A
0175 900000      E     MOV     DPTR,#g_mem+048H
0178 E0                MOVX    A,@DPTR
0179 FC                MOV     R4,A
017A A3                INC     DPTR
017B E0                MOVX    A,@DPTR
017C FD                MOV     R5,A
017D A3                INC     DPTR
017E E0                MOVX    A,@DPTR
017F FE                MOV     R6,A
0180 A3                INC     DPTR
0181 E0                MOVX    A,@DPTR
0182 C3                CLR     C
0183 9B                SUBB    A,R3
0184 FF                MOV     R7,A
0185 EE                MOV     A,R6
0186 9A                SUBB    A,R2
0187 FE                MOV     R6,A
0188 ED                MOV     A,R5
0189 99                SUBB    A,R1
018A FD                MOV     R5,A
018B EC                MOV     A,R4
018C 98                SUBB    A,R0
018D FC                MOV     R4,A
018E 120000      E     LCALL   ?C?FCASTL
0191 C004              PUSH    AR4
0193 C005              PUSH    AR5
0195 C006              PUSH    AR6
0197 C007              PUSH    AR7
0199 900000      E     MOV     DPTR,#g_mem+048H
019C E0                MOVX    A,@DPTR
019D FC                MOV     R4,A
019E A3                INC     DPTR
019F E0                MOVX    A,@DPTR
01A0 FD                MOV     R5,A
01A1 A3                INC     DPTR
01A2 E0                MOVX    A,@DPTR
01A3 FE                MOV     R6,A
01A4 A3                INC     DPTR
01A5 E0                MOVX    A,@DPTR
01A6 FF                MOV     R7,A
01A7 EC                MOV     A,R4
01A8 120000      E     LCALL   ?C?FCASTL
01AB A804              MOV     R0,AR4
C51 COMPILER V9.51   UTILS                                                                 02/14/2023 11:08:55 PAGE 43  

01AD A905              MOV     R1,AR5
01AF AA06              MOV     R2,AR6
01B1 AB07              MOV     R3,AR7
01B3 D007              POP     AR7
01B5 D006              POP     AR6
01B7 D005              POP     AR5
01B9 D004              POP     AR4
01BB 120000      E     LCALL   ?C?FPDIV
01BE 900000      R     MOV     DPTR,#rest_vel_ticks_ms
01C1 E0                MOVX    A,@DPTR
01C2 F8                MOV     R0,A
01C3 A3                INC     DPTR
01C4 E0                MOVX    A,@DPTR
01C5 F9                MOV     R1,A
01C6 A3                INC     DPTR
01C7 E0                MOVX    A,@DPTR
01C8 FA                MOV     R2,A
01C9 A3                INC     DPTR
01CA E0                MOVX    A,@DPTR
01CB FB                MOV     R3,A
01CC 120000      E     LCALL   ?C?FPMUL
01CF 900000      R     MOV     DPTR,#m
01D2 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 368
01D5 E4                CLR     A
01D6 FF                MOV     R7,A
01D7 FE                MOV     R6,A
01D8 7DC8              MOV     R5,#0C8H
01DA 7C42              MOV     R4,#042H
01DC 900000      R     MOV     DPTR,#m
01DF E0                MOVX    A,@DPTR
01E0 F8                MOV     R0,A
01E1 A3                INC     DPTR
01E2 E0                MOVX    A,@DPTR
01E3 F9                MOV     R1,A
01E4 A3                INC     DPTR
01E5 E0                MOVX    A,@DPTR
01E6 FA                MOV     R2,A
01E7 A3                INC     DPTR
01E8 E0                MOVX    A,@DPTR
01E9 FB                MOV     R3,A
01EA 120000      E     LCALL   ?C?FPMUL
01ED 120000      E     LCALL   ?C?CASTF
01F0 900000      E     MOV     DPTR,#g_mem+03H
01F3 E0                MOVX    A,@DPTR
01F4 F9                MOV     R1,A
01F5 F8                MOV     R0,A
01F6 120000      E     LCALL   ?C?LSHL
01F9 900000      R     MOV     DPTR,#abs_err_thr
01FC 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 369
01FF E4                CLR     A
0200 FF                MOV     R7,A
0201 FE                MOV     R6,A
0202 FD                MOV     R5,A
0203 FC                MOV     R4,A
0204 900000      R     MOV     DPTR,#abs_err_thr
0207 E0                MOVX    A,@DPTR
0208 F8                MOV     R0,A
0209 A3                INC     DPTR
020A E0                MOVX    A,@DPTR
020B F9                MOV     R1,A
C51 COMPILER V9.51   UTILS                                                                 02/14/2023 11:08:55 PAGE 44  

020C A3                INC     DPTR
020D E0                MOVX    A,@DPTR
020E FA                MOV     R2,A
020F A3                INC     DPTR
0210 E0                MOVX    A,@DPTR
0211 FB                MOV     R3,A
0212 D3                SETB    C
0213 120000      E     LCALL   ?C?SLCMP
0216 4010              JC      ?C0037
0218 900000      R     MOV     DPTR,#abs_err_thr
021B E0                MOVX    A,@DPTR
021C FC                MOV     R4,A
021D A3                INC     DPTR
021E E0                MOVX    A,@DPTR
021F FD                MOV     R5,A
0220 A3                INC     DPTR
0221 E0                MOVX    A,@DPTR
0222 FE                MOV     R6,A
0223 A3                INC     DPTR
0224 E0                MOVX    A,@DPTR
0225 FF                MOV     R7,A
0226 8011              SJMP    ?C0038
0228         ?C0037:
0228 900000      R     MOV     DPTR,#abs_err_thr
022B E0                MOVX    A,@DPTR
022C FC                MOV     R4,A
022D A3                INC     DPTR
022E E0                MOVX    A,@DPTR
022F FD                MOV     R5,A
0230 A3                INC     DPTR
0231 E0                MOVX    A,@DPTR
0232 FE                MOV     R6,A
0233 A3                INC     DPTR
0234 E0                MOVX    A,@DPTR
0235 FF                MOV     R7,A
0236 120000      E     LCALL   ?C?LNEG
0239         ?C0038:
0239 900000      R     MOV     DPTR,#abs_err_thr
023C 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 371
023F 900000      E     MOV     DPTR,#curr_pos_res
0242 E0                MOVX    A,@DPTR
0243 F8                MOV     R0,A
0244 A3                INC     DPTR
0245 E0                MOVX    A,@DPTR
0246 F9                MOV     R1,A
0247 A3                INC     DPTR
0248 E0                MOVX    A,@DPTR
0249 FA                MOV     R2,A
024A A3                INC     DPTR
024B E0                MOVX    A,@DPTR
024C FB                MOV     R3,A
024D 900000      E     MOV     DPTR,#g_mem+048H
0250 E0                MOVX    A,@DPTR
0251 FC                MOV     R4,A
0252 A3                INC     DPTR
0253 E0                MOVX    A,@DPTR
0254 FD                MOV     R5,A
0255 A3                INC     DPTR
0256 E0                MOVX    A,@DPTR
0257 FE                MOV     R6,A
0258 A3                INC     DPTR
C51 COMPILER V9.51   UTILS                                                                 02/14/2023 11:08:55 PAGE 45  

0259 E0                MOVX    A,@DPTR
025A C3                CLR     C
025B 9B                SUBB    A,R3
025C FF                MOV     R7,A
025D EE                MOV     A,R6
025E 9A                SUBB    A,R2
025F FE                MOV     R6,A
0260 ED                MOV     A,R5
0261 99                SUBB    A,R1
0262 FD                MOV     R5,A
0263 EC                MOV     A,R4
0264 98                SUBB    A,R0
0265 FC                MOV     R4,A
0266 900000      R     MOV     DPTR,#rest_error
0269 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 373
026C E4                CLR     A
026D FF                MOV     R7,A
026E FE                MOV     R6,A
026F 7D20              MOV     R5,#020H
0271 7C41              MOV     R4,#041H
0273 900000      R     MOV     DPTR,#m
0276 E0                MOVX    A,@DPTR
0277 F8                MOV     R0,A
0278 A3                INC     DPTR
0279 E0                MOVX    A,@DPTR
027A F9                MOV     R1,A
027B A3                INC     DPTR
027C E0                MOVX    A,@DPTR
027D FA                MOV     R2,A
027E A3                INC     DPTR
027F E0                MOVX    A,@DPTR
0280 FB                MOV     R3,A
0281 120000      E     LCALL   ?C?FPMUL
0284 120000      E     LCALL   ?C?CASTF
0287 900000      E     MOV     DPTR,#g_mem+03H
028A E0                MOVX    A,@DPTR
028B F9                MOV     R1,A
028C F8                MOV     R0,A
028D 120000      E     LCALL   ?C?LSHL
0290 900000      R     MOV     DPTR,#delta_inc
0293 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 374
0296 E4                CLR     A
0297 FF                MOV     R7,A
0298 FE                MOV     R6,A
0299 FD                MOV     R5,A
029A FC                MOV     R4,A
029B 900000      R     MOV     DPTR,#delta_inc
029E E0                MOVX    A,@DPTR
029F F8                MOV     R0,A
02A0 A3                INC     DPTR
02A1 E0                MOVX    A,@DPTR
02A2 F9                MOV     R1,A
02A3 A3                INC     DPTR
02A4 E0                MOVX    A,@DPTR
02A5 FA                MOV     R2,A
02A6 A3                INC     DPTR
02A7 E0                MOVX    A,@DPTR
02A8 FB                MOV     R3,A
02A9 D3                SETB    C
02AA 120000      E     LCALL   ?C?SLCMP
C51 COMPILER V9.51   UTILS                                                                 02/14/2023 11:08:55 PAGE 46  

02AD 4010              JC      ?C0039
02AF 900000      R     MOV     DPTR,#delta_inc
02B2 E0                MOVX    A,@DPTR
02B3 FC                MOV     R4,A
02B4 A3                INC     DPTR
02B5 E0                MOVX    A,@DPTR
02B6 FD                MOV     R5,A
02B7 A3                INC     DPTR
02B8 E0                MOVX    A,@DPTR
02B9 FE                MOV     R6,A
02BA A3                INC     DPTR
02BB E0                MOVX    A,@DPTR
02BC FF                MOV     R7,A
02BD 8011              SJMP    ?C0040
02BF         ?C0039:
02BF 900000      R     MOV     DPTR,#delta_inc
02C2 E0                MOVX    A,@DPTR
02C3 FC                MOV     R4,A
02C4 A3                INC     DPTR
02C5 E0                MOVX    A,@DPTR
02C6 FD                MOV     R5,A
02C7 A3                INC     DPTR
02C8 E0                MOVX    A,@DPTR
02C9 FE                MOV     R6,A
02CA A3                INC     DPTR
02CB E0                MOVX    A,@DPTR
02CC FF                MOV     R7,A
02CD 120000      E     LCALL   ?C?LNEG
02D0         ?C0040:
02D0 900000      R     MOV     DPTR,#delta_inc
02D3 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 376
02D6 E4                CLR     A
02D7 FF                MOV     R7,A
02D8 FE                MOV     R6,A
02D9 FD                MOV     R5,A
02DA FC                MOV     R4,A
02DB 900000      R     MOV     DPTR,#count
02DE 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 377
02E1 E4                CLR     A
02E2 900000      R     MOV     DPTR,#flag_count
02E5 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 378
02E6         ?C0036:
                                           ; SOURCE LINE # 380
02E6 900000      E     MOV     DPTR,#rest_enabled
02E9 E0                MOVX    A,@DPTR
02EA 7003              JNZ     $ + 5H
02EC 020000      R     LJMP    ?C0041
                                           ; SOURCE LINE # 382
02EF 900000      R     MOV     DPTR,#abs_err_thr
02F2 E0                MOVX    A,@DPTR
02F3 FC                MOV     R4,A
02F4 A3                INC     DPTR
02F5 E0                MOVX    A,@DPTR
02F6 FD                MOV     R5,A
02F7 A3                INC     DPTR
02F8 E0                MOVX    A,@DPTR
02F9 FE                MOV     R6,A
02FA A3                INC     DPTR
02FB E0                MOVX    A,@DPTR
C51 COMPILER V9.51   UTILS                                                                 02/14/2023 11:08:55 PAGE 47  

02FC FF                MOV     R7,A
02FD 900000      R     MOV     DPTR,#rest_error
0300 E0                MOVX    A,@DPTR
0301 F8                MOV     R0,A
0302 A3                INC     DPTR
0303 E0                MOVX    A,@DPTR
0304 F9                MOV     R1,A
0305 A3                INC     DPTR
0306 E0                MOVX    A,@DPTR
0307 FA                MOV     R2,A
0308 A3                INC     DPTR
0309 E0                MOVX    A,@DPTR
030A FB                MOV     R3,A
030B C3                CLR     C
030C 120000      E     LCALL   ?C?SLCMP
030F 5053              JNC     ?C0042
0311 900000      R     MOV     DPTR,#abs_err_thr
0314 E0                MOVX    A,@DPTR
0315 FC                MOV     R4,A
0316 A3                INC     DPTR
0317 E0                MOVX    A,@DPTR
0318 FD                MOV     R5,A
0319 A3                INC     DPTR
031A E0                MOVX    A,@DPTR
031B FE                MOV     R6,A
031C A3                INC     DPTR
031D E0                MOVX    A,@DPTR
031E FF                MOV     R7,A
031F 120000      E     LCALL   ?C?LNEG
0322 900000      R     MOV     DPTR,#rest_error
0325 E0                MOVX    A,@DPTR
0326 F8                MOV     R0,A
0327 A3                INC     DPTR
0328 E0                MOVX    A,@DPTR
0329 A3                INC     DPTR
032A E0                MOVX    A,@DPTR
032B A3                INC     DPTR
032C E0                MOVX    A,@DPTR
032D D3                SETB    C
032E 120000      E     LCALL   ?C?SLCMP
0331 4031              JC      ?C0042
                                           ; SOURCE LINE # 384
0333 900000      E     MOV     DPTR,#g_mem+048H
0336 E0                MOVX    A,@DPTR
0337 FC                MOV     R4,A
0338 A3                INC     DPTR
0339 E0                MOVX    A,@DPTR
033A FD                MOV     R5,A
033B A3                INC     DPTR
033C E0                MOVX    A,@DPTR
033D FE                MOV     R6,A
033E A3                INC     DPTR
033F E0                MOVX    A,@DPTR
0340 FF                MOV     R7,A
0341 900000      E     MOV     DPTR,#rest_pos_curr_ref
0344 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 386
0347 900000      E     MOV     DPTR,#c_mem+02H
034A E0                MOVX    A,@DPTR
034B C3                CLR     C
034C 9402              SUBB    A,#02H
034E 4006              JC      ?C0043
C51 COMPILER V9.51   UTILS                                                                 02/14/2023 11:08:55 PAGE 48  

                                           ; SOURCE LINE # 387
0350 900000      E     MOV     DPTR,#forced_open
0353 7401              MOV     A,#01H
0355 F0                MOVX    @DPTR,A
0356         ?C0043:
                                           ; SOURCE LINE # 389
0356 E4                CLR     A
0357 FF                MOV     R7,A
0358 FE                MOV     R6,A
0359 FD                MOV     R5,A
035A FC                MOV     R4,A
035B 900000      R     MOV     DPTR,#count
035E 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 390
0361 020000      R     LJMP    ?C0041
0364         ?C0042:
                                           ; SOURCE LINE # 391
                                           ; SOURCE LINE # 392
0364 900000      E     MOV     DPTR,#curr_pos_res
0367 E0                MOVX    A,@DPTR
0368 F8                MOV     R0,A
0369 A3                INC     DPTR
036A E0                MOVX    A,@DPTR
036B F9                MOV     R1,A
036C A3                INC     DPTR
036D E0                MOVX    A,@DPTR
036E FA                MOV     R2,A
036F A3                INC     DPTR
0370 E0                MOVX    A,@DPTR
0371 FB                MOV     R3,A
0372 900000      E     MOV     DPTR,#g_mem+048H
0375 E0                MOVX    A,@DPTR
0376 FC                MOV     R4,A
0377 A3                INC     DPTR
0378 E0                MOVX    A,@DPTR
0379 FD                MOV     R5,A
037A A3                INC     DPTR
037B E0                MOVX    A,@DPTR
037C FE                MOV     R6,A
037D A3                INC     DPTR
037E E0                MOVX    A,@DPTR
037F C3                CLR     C
0380 9B                SUBB    A,R3
0381 FF                MOV     R7,A
0382 EE                MOV     A,R6
0383 9A                SUBB    A,R2
0384 FE                MOV     R6,A
0385 ED                MOV     A,R5
0386 99                SUBB    A,R1
0387 FD                MOV     R5,A
0388 EC                MOV     A,R4
0389 98                SUBB    A,R0
038A FC                MOV     R4,A
038B 900000      R     MOV     DPTR,#rest_error
038E 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 394
0391 E4                CLR     A
0392 FF                MOV     R7,A
0393 FE                MOV     R6,A
0394 FD                MOV     R5,A
0395 FC                MOV     R4,A
0396 900000      R     MOV     DPTR,#rest_error
C51 COMPILER V9.51   UTILS                                                                 02/14/2023 11:08:55 PAGE 49  

0399 E0                MOVX    A,@DPTR
039A F8                MOV     R0,A
039B A3                INC     DPTR
039C E0                MOVX    A,@DPTR
039D F9                MOV     R1,A
039E A3                INC     DPTR
039F E0                MOVX    A,@DPTR
03A0 FA                MOV     R2,A
03A1 A3                INC     DPTR
03A2 E0                MOVX    A,@DPTR
03A3 FB                MOV     R3,A
03A4 D3                SETB    C
03A5 120000      E     LCALL   ?C?SLCMP
03A8 402E              JC      ?C0045
                                           ; SOURCE LINE # 395
03AA 900000      E     MOV     DPTR,#rest_pos_curr_ref
03AD E0                MOVX    A,@DPTR
03AE FC                MOV     R4,A
03AF A3                INC     DPTR
03B0 E0                MOVX    A,@DPTR
03B1 FD                MOV     R5,A
03B2 A3                INC     DPTR
03B3 E0                MOVX    A,@DPTR
03B4 FE                MOV     R6,A
03B5 A3                INC     DPTR
03B6 E0                MOVX    A,@DPTR
03B7 FF                MOV     R7,A
03B8 900000      R     MOV     DPTR,#delta_inc
03BB E0                MOVX    A,@DPTR
03BC F8                MOV     R0,A
03BD A3                INC     DPTR
03BE E0                MOVX    A,@DPTR
03BF F9                MOV     R1,A
03C0 A3                INC     DPTR
03C1 E0                MOVX    A,@DPTR
03C2 FA                MOV     R2,A
03C3 A3                INC     DPTR
03C4 E0                MOVX    A,@DPTR
03C5 FB                MOV     R3,A
03C6 EF                MOV     A,R7
03C7 2B                ADD     A,R3
03C8 FF                MOV     R7,A
03C9 EE                MOV     A,R6
03CA 3A                ADDC    A,R2
03CB FE                MOV     R6,A
03CC ED                MOV     A,R5
03CD 39                ADDC    A,R1
03CE FD                MOV     R5,A
03CF EC                MOV     A,R4
03D0 38                ADDC    A,R0
03D1 FC                MOV     R4,A
03D2 900000      E     MOV     DPTR,#rest_pos_curr_ref
03D5 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 396
03D8         ?C0045:
                                           ; SOURCE LINE # 397
03D8 E4                CLR     A
03D9 FF                MOV     R7,A
03DA FE                MOV     R6,A
03DB FD                MOV     R5,A
03DC FC                MOV     R4,A
03DD 900000      R     MOV     DPTR,#rest_error
C51 COMPILER V9.51   UTILS                                                                 02/14/2023 11:08:55 PAGE 50  

03E0 E0                MOVX    A,@DPTR
03E1 F8                MOV     R0,A
03E2 A3                INC     DPTR
03E3 E0                MOVX    A,@DPTR
03E4 F9                MOV     R1,A
03E5 A3                INC     DPTR
03E6 E0                MOVX    A,@DPTR
03E7 FA                MOV     R2,A
03E8 A3                INC     DPTR
03E9 E0                MOVX    A,@DPTR
03EA FB                MOV     R3,A
03EB C3                CLR     C
03EC 120000      E     LCALL   ?C?SLCMP
03EF 502F              JNC     ?C0041
                                           ; SOURCE LINE # 398
03F1 900000      E     MOV     DPTR,#rest_pos_curr_ref
03F4 E0                MOVX    A,@DPTR
03F5 FC                MOV     R4,A
03F6 A3                INC     DPTR
03F7 E0                MOVX    A,@DPTR
03F8 FD                MOV     R5,A
03F9 A3                INC     DPTR
03FA E0                MOVX    A,@DPTR
03FB FE                MOV     R6,A
03FC A3                INC     DPTR
03FD E0                MOVX    A,@DPTR
03FE FF                MOV     R7,A
03FF 900000      R     MOV     DPTR,#delta_inc
0402 E0                MOVX    A,@DPTR
0403 F8                MOV     R0,A
0404 A3                INC     DPTR
0405 E0                MOVX    A,@DPTR
0406 F9                MOV     R1,A
0407 A3                INC     DPTR
0408 E0                MOVX    A,@DPTR
0409 FA                MOV     R2,A
040A A3                INC     DPTR
040B E0                MOVX    A,@DPTR
040C FB                MOV     R3,A
040D C3                CLR     C
040E EF                MOV     A,R7
040F 9B                SUBB    A,R3
0410 FF                MOV     R7,A
0411 EE                MOV     A,R6
0412 9A                SUBB    A,R2
0413 FE                MOV     R6,A
0414 ED                MOV     A,R5
0415 99                SUBB    A,R1
0416 FD                MOV     R5,A
0417 EC                MOV     A,R4
0418 98                SUBB    A,R0
0419 FC                MOV     R4,A
041A 900000      E     MOV     DPTR,#rest_pos_curr_ref
041D 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 399
                                           ; SOURCE LINE # 400
                                           ; SOURCE LINE # 401
0420         ?C0041:
                                           ; SOURCE LINE # 404
0420 900000      E     MOV     DPTR,#c_mem+01EH
0423 E0                MOVX    A,@DPTR
0424 606A              JZ      ?C0050
C51 COMPILER V9.51   UTILS                                                                 02/14/2023 11:08:55 PAGE 51  

                                           ; SOURCE LINE # 405
0426 A3                INC     DPTR
0427 E0                MOVX    A,@DPTR
0428 FC                MOV     R4,A
0429 A3                INC     DPTR
042A E0                MOVX    A,@DPTR
042B FD                MOV     R5,A
042C A3                INC     DPTR
042D E0                MOVX    A,@DPTR
042E FE                MOV     R6,A
042F A3                INC     DPTR
0430 E0                MOVX    A,@DPTR
0431 FF                MOV     R7,A
0432 900000      E     MOV     DPTR,#rest_pos_curr_ref
0435 E0                MOVX    A,@DPTR
0436 F8                MOV     R0,A
0437 A3                INC     DPTR
0438 E0                MOVX    A,@DPTR
0439 F9                MOV     R1,A
043A A3                INC     DPTR
043B E0                MOVX    A,@DPTR
043C FA                MOV     R2,A
043D A3                INC     DPTR
043E E0                MOVX    A,@DPTR
043F FB                MOV     R3,A
0440 C3                CLR     C
0441 120000      E     LCALL   ?C?SLCMP
0444 5014              JNC     ?C0048
                                           ; SOURCE LINE # 406
0446 900000      E     MOV     DPTR,#c_mem+01FH
0449 E0                MOVX    A,@DPTR
044A FC                MOV     R4,A
044B A3                INC     DPTR
044C E0                MOVX    A,@DPTR
044D FD                MOV     R5,A
044E A3                INC     DPTR
044F E0                MOVX    A,@DPTR
0450 FE                MOV     R6,A
0451 A3                INC     DPTR
0452 E0                MOVX    A,@DPTR
0453 FF                MOV     R7,A
0454 900000      E     MOV     DPTR,#rest_pos_curr_ref
0457 120000      E     LCALL   ?C?LSTXDATA
045A         ?C0048:
                                           ; SOURCE LINE # 407
045A 900000      E     MOV     DPTR,#c_mem+027H
045D E0                MOVX    A,@DPTR
045E FC                MOV     R4,A
045F A3                INC     DPTR
0460 E0                MOVX    A,@DPTR
0461 FD                MOV     R5,A
0462 A3                INC     DPTR
0463 E0                MOVX    A,@DPTR
0464 FE                MOV     R6,A
0465 A3                INC     DPTR
0466 E0                MOVX    A,@DPTR
0467 FF                MOV     R7,A
0468 900000      E     MOV     DPTR,#rest_pos_curr_ref
046B E0                MOVX    A,@DPTR
046C F8                MOV     R0,A
046D A3                INC     DPTR
046E E0                MOVX    A,@DPTR
C51 COMPILER V9.51   UTILS                                                                 02/14/2023 11:08:55 PAGE 52  

046F F9                MOV     R1,A
0470 A3                INC     DPTR
0471 E0                MOVX    A,@DPTR
0472 FA                MOV     R2,A
0473 A3                INC     DPTR
0474 E0                MOVX    A,@DPTR
0475 FB                MOV     R3,A
0476 D3                SETB    C
0477 120000      E     LCALL   ?C?SLCMP
047A 4014              JC      ?C0050
                                           ; SOURCE LINE # 408
047C 900000      E     MOV     DPTR,#c_mem+027H
047F E0                MOVX    A,@DPTR
0480 FC                MOV     R4,A
0481 A3                INC     DPTR
0482 E0                MOVX    A,@DPTR
0483 FD                MOV     R5,A
0484 A3                INC     DPTR
0485 E0                MOVX    A,@DPTR
0486 FE                MOV     R6,A
0487 A3                INC     DPTR
0488 E0                MOVX    A,@DPTR
0489 FF                MOV     R7,A
048A 900000      E     MOV     DPTR,#rest_pos_curr_ref
048D 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 409
                                           ; SOURCE LINE # 411
0490         ?C0050:
0490 22                RET     
             ; FUNCTION check_rest_position (END)



MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =   3519    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =    113      60
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----       1
   IDATA SIZE       =   ----       3
   BIT SIZE         =   ----    ----
   EDATA SIZE       =   ----    ----
   HDATA SIZE       =   ----    ----
   XDATA CONST SIZE =   ----    ----
   FAR CONST SIZE   =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
