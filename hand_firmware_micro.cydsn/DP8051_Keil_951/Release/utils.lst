C51 COMPILER V9.51   UTILS                                                                 01/18/2018 16:17:47 PAGE 1   


C51 COMPILER V9.51, COMPILATION OF MODULE UTILS
OBJECT MODULE PLACED IN .\DP8051_Keil_951\Release\utils.obj
COMPILER INVOKED BY: C:\Program Files (x86)\Cypress\PSoC Creator\4.1\PSoC Creator\import\keil\pk51\9.51\C51\BIN\c51.exe 
                    -utils.c NOIV LARGE MODDP2 OMF2 VB(1) NOIP INCDIR(.,Generated_Source\PSoC3) FF(3) DB DF(NDEBUG) WL(2) PR(.\DP8051_Keil_95
                    -1\Release/utils.lst) CD OT(8,SPEED) OJ(.\DP8051_Keil_951\Release\utils.obj)

line level    source

*** MESSAGE C286 IN LINE 0 OF (null): license limits optimization to level 5
   1          // ----------------------------------------------------------------------------
   2          // BSD 3-Clause License
   3          
   4          // Copyright (c) 2016, qbrobotics
   5          // Copyright (c) 2017, Centro "E.Piaggio"
   6          // All rights reserved.
   7          
   8          // Redistribution and use in source and binary forms, with or without
   9          // modification, are permitted provided that the following conditions are met:
  10          
  11          // * Redistributions of source code must retain the above copyright notice, this
  12          //   list of conditions and the following disclaimer.
  13          
  14          // * Redistributions in binary form must reproduce the above copyright notice,
  15          //   this list of conditions and the following disclaimer in the documentation
  16          //   and/or other materials provided with the distribution.
  17          
  18          // * Neither the name of the copyright holder nor the names of its
  19          //   contributors may be used to endorse or promote products derived from
  20          //   this software without specific prior written permission.
  21          
  22          // THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
  23          // AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
  24          // IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
  25          // DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
  26          // FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
  27          // DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
  28          // SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
  29          // CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
  30          // OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
  31          // OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  32          // POSSIBILITY OF SUCH DAMAGE.
  33          // ----------------------------------------------------------------------------
  34          
  35          /**
  36          * \file         utils.c
  37          *
  38          * \brief        Definition of utility functions.
  39          * \date         October 01, 2017
  40          * \author       _Centro "E.Piaggio"_
  41          * \copyright    (C) 2012-2016 qbrobotics. All rights reserved.
  42          * \copyright    (C) 2017 Centro "E.Piaggio". All rights reserved.
  43          */
  44          
  45          #include <utils.h>
  46          #include <math.h>
  47          
  48          //==============================================================================
  49          //                                                            Current Estimation
  50          //==============================================================================
  51          
  52          int32 curr_estim (int32 pos, int32 vel, int32 acc) {
C51 COMPILER V9.51   UTILS                                                                 01/18/2018 16:17:47 PAGE 2   

  53   1          return (abs(g_mem.curr_lookup[0]*pos +
  54   1                      g_mem.curr_lookup[1]*pow(pos,2) + 
  55   1                      g_mem.curr_lookup[2]*pow(pos,3) + 
  56   1                      g_mem.curr_lookup[3]*vel + 
  57   1                      g_mem.curr_lookup[4]*pow(vel,2) + 
  58   1                      g_mem.curr_lookup[5]*acc));
  59   1      }
  60          
  61          //==============================================================================
  62          //                                                   Voltage and current filters
  63          //==============================================================================
  64          
  65          int32 filter_v(int32 new_value) {
  66   1      
  67   1          static int32 old_value, aux;
  68   1      
  69   1          aux = (old_value * (1024 - ALPHA) + (new_value << 6) * (ALPHA)) >> 10;
  70   1      
  71   1          old_value = aux;
  72   1      
  73   1          return (aux >> 6);
  74   1      }
  75          
  76          int32 filter_i1(int32 new_value) {
  77   1      
  78   1          static int32 old_value, aux;
  79   1      
  80   1          aux = (old_value * (1024 - ALPHA) + (new_value << 6) * (ALPHA)) >> 10;
  81   1      
  82   1          old_value = aux;
  83   1      
  84   1          return (aux >> 6);
  85   1      }
  86          
  87          //==============================================================================
  88          //                                                              First Emg Filter
  89          //==============================================================================
  90          
  91          int32 filter_ch1(int32 new_value) {
  92   1      
  93   1         static int32 old_value, aux;    
  94   1           
  95   1          if (new_value < 0)
  96   1              new_value = 0;
  97   1      
  98   1          aux = (old_value * (1024 - BETA) + (new_value << 6) * (BETA)) /1024;
  99   1      
 100   1          old_value = aux;
 101   1      
 102   1          return (aux /64);
 103   1      }
 104          
 105          //==============================================================================
 106          //                                                             Second Emg Filter
 107          //==============================================================================
 108          
 109          int32 filter_ch2(int32 new_value) {
 110   1      
 111   1          static int32 old_value, aux;
 112   1          
 113   1          if (new_value < 0)
 114   1              new_value = 0;
C51 COMPILER V9.51   UTILS                                                                 01/18/2018 16:17:47 PAGE 3   

 115   1      
 116   1          aux = (old_value * (1024 - BETA) + (new_value << 6) * (BETA)) /1024;
 117   1      
 118   1          old_value = aux;
 119   1      
 120   1          return (aux /64);
 121   1      }
 122          
 123          //==============================================================================
 124          //                                                     Current difference filter
 125          //==============================================================================
 126          
 127          int32 filter_curr_diff(int32 curr_diff) {
 128   1      
 129   1          static int32 old_out, aux, old_input;
 130   1      
 131   1          aux = (old_out * (1024 - 2) + (curr_diff + old_input) * (0.8)) / 1024;
 132   1      
 133   1          old_out = aux;
 134   1          old_input = curr_diff;
 135   1      
 136   1          return aux;
 137   1      }
 138          
 139          //==============================================================================
 140          //                                                              Velocity filters
 141          //==============================================================================
 142          
 143          int32 filter_vel_1(int32 new_value) {
 144   1      
 145   1          static int32 old_out, aux;
 146   1      
 147   1          aux = (old_out * (1024 - GAMMA) + new_value * (GAMMA)) / 1024;
 148   1      
 149   1          old_out = aux;
 150   1      
 151   1          return aux;
 152   1      }
 153          
 154          int32 filter_vel_2(int32 new_value) {
 155   1      
 156   1          static int32 old_out, aux;
 157   1      
 158   1          aux = (old_out * (1024 - GAMMA) + new_value * (GAMMA)) / 1024;
 159   1      
 160   1          old_out = aux;
 161   1      
 162   1          return aux;
 163   1      }
 164          
 165          int32 filter_vel_3(int32 new_value) {
 166   1      
 167   1          static int32 old_out, aux;
 168   1      
 169   1          aux = (old_out * (1024 - GAMMA) + new_value * (GAMMA)) / 1024;
 170   1      
 171   1          old_out = aux;
 172   1      
 173   1          return aux;
 174   1      }
 175          
 176          //==============================================================================
C51 COMPILER V9.51   UTILS                                                                 01/18/2018 16:17:47 PAGE 4   

 177          //                                                          Acceleration filters
 178          //==============================================================================
 179          
 180          int32 filter_acc_1(int32 new_value) {
 181   1      
 182   1          static int32 old_out, aux;
 183   1      
 184   1          aux = (old_out * (1024 - DELTA) + new_value * (DELTA)) / 1024;
 185   1      
 186   1          old_out = aux;
 187   1      
 188   1          return aux;
 189   1      }
 190          
 191          int32 filter_acc_2(int32 new_value) {
 192   1      
 193   1          static int32 old_out, aux;
 194   1      
 195   1          aux = (old_out * (1024 - DELTA) + new_value * (DELTA)) / 1024;
 196   1      
 197   1          old_out = aux;
 198   1      
 199   1          return aux;
 200   1      }
 201          
 202          int32 filter_acc_3(int32 new_value) {
 203   1      
 204   1          static int32 old_out, aux;
 205   1      
 206   1          aux = (old_out * (1024 - DELTA) + new_value * (DELTA)) / 1024;
 207   1      
 208   1          old_out = aux;
 209   1      
 210   1          return aux;
 211   1      }
 212          
 213          //==============================================================================
 214          //                                                        Voltage reading filter
 215          //==============================================================================
 216          
 217          int32 filter_voltage(int32 new_value) {
 218   1      
 219   1          static int32 old_value = 12000;
 220   1          static int32 aux;
 221   1      
 222   1          aux = (old_value * (1024 - EPSILON) + (new_value << 6) * (EPSILON)) /1024;
 223   1      
 224   1          old_value = aux;
 225   1      
 226   1          return (aux /64);
 227   1      }
 228          
 229          //==============================================================================
 230          //                                                                CHECK ENC DATA
 231          //==============================================================================
 232          
 233          // Returns 1 if the encoder data is correct, 0 otherwise
 234          
 235          CYBIT check_enc_data(const uint32 *value) {
 236   1      
 237   1          const uint8* CYIDATA p = (const uint8*)value;
 238   1          uint8 CYDATA a = *p;
C51 COMPILER V9.51   UTILS                                                                 01/18/2018 16:17:47 PAGE 5   

 239   1      
 240   1          a = a ^ *(++p);
 241   1          a = a ^ *(++p);
 242   1          a = a ^ *(++p);
 243   1          a = (a & 0x0F) ^ (a>>4);
 244   1      
 245   1          return (0x9669 >> a) & 0x01;
 246   1          //0x9669 is a bit vector representing the !(bitwise XOR) of 4bits
 247   1      }
 248          
 249          //==============================================================================
 250          //                                                                ROUND_FUNCTION
 251          //==============================================================================
 252          
 253          int my_round(const double x) {
 254   1      
 255   1          if (x < 0.0)
 256   1              return (int)(x - 0.5);
 257   1          else
 258   1              return (int)(x + 0.5);
 259   1      }
 260          
 261          //==============================================================================
 262          //                                                                        MODULE
 263          //==============================================================================
 264          
 265          uint32 my_mod(int32 val, int32 divisor) {
 266   1      
 267   1          if (val >= 0) {
 268   2              return (int32)(val % divisor);
 269   2          } else {
 270   2              return (int32)(divisor - (-val % divisor));
 271   2          }
 272   1      }
 273          
 274          
 275          //==============================================================================
 276          //                                                                     CALIBRATE
 277          //==============================================================================
 278          
 279          void calibration(void) {
 280   1          static uint8 direction;                 //0 closing, 1 opening.
 281   1          static uint16 closure_counter;          //Range [0 - 2^16].
 282   1      
 283   1      
 284   1          // closing
 285   1          if (direction == 0) {
 286   2              g_ref.pos[0] += (calib.speed << g_mem.res[0]);
 287   2              if ((g_ref.pos[0]) > g_mem.pos_lim_sup[0]) {
 288   3                  direction = 1;
 289   3              }
 290   2          } else { //opening
 291   2              g_ref.pos[0] -= (calib.speed << g_mem.res[0]);
 292   2              if (SIGN(g_ref.pos[0]) != 1) {
 293   3                  direction = 0;
 294   3                  closure_counter++;
 295   3                  if (closure_counter == calib.repetitions) {
 296   4                      closure_counter = 0;
 297   4                      calib.enabled = FALSE;
 298   4                  }
 299   3              }
 300   2          }
C51 COMPILER V9.51   UTILS                                                                 01/18/2018 16:17:47 PAGE 6   

 301   1      }
 302          
 303          
 304          //==============================================================================
 305          //                                                      DOUBLE ENCODER CALC TURN
 306          //==============================================================================
 307          
 308          // Use this matlab function to calculate I1 and I2
 309          //
 310          // function [inv_a, inv_b] = mod_mul_inv(a, b)
 311          //     a = int32(a);
 312          //     b = int32(b);
 313          //     if b == 0
 314          //         inv_a = 1;
 315          //         inv_b = 0;
 316          //         return
 317          //     else
 318          //         q = idivide(a,b,'floor');
 319          //         r = mod(a,b);
 320          //         [s, t] = mod_mul_inv(b, r);
 321          //     end
 322          //     inv_a = t;
 323          //     inv_b = s - q * t;
 324          // return
 325          
 326          // Number of teeth of the two wheels
 327          #define N1 15           ///< Teeth of the first encoder wheel.
 328          #define N2 14           ///< Teeth of the second encoder wheel.
 329          
 330          #define I1 1            ///< First wheel invariant value.
 331          #define I2 (-1)         ///< Second wheel invariant value.
 332          
 333          // Number of ticks per turn
 334          #define M 65536          ///< Number of encoder ticks per turn.
 335          
 336          
 337          int calc_turns_fcn(const int32 pos1, const int32 pos2) {
 338   1          
 339   1          int32 x = (my_mod( - N2*pos2 - N1*pos1, M*N2) + M/2) / M;
 340   1      
 341   1          int32 aux = my_mod(x*I1, N2);
 342   1          
 343   1          return (my_mod(aux + N2/2, N2) - N2/2);
 344   1      }
 345          
 346          
 347          //==============================================================================
 348          //                                                                 REST POSITION
 349          //==============================================================================
 350          
 351          void check_rest_position(void) {     // 100 Hz frequency.
 352   1          
 353   1          static uint32 count = 0;         // Range [0 - 2^31].
 354   1          static uint8 flag_count = 1;
 355   1          static uint8 first_time = 1;
 356   1          static float m = 0;
 357   1          static int32 abs_err_thr = 0;
 358   1          static int32 delta_inc = 0;
 359   1          static int32 rest_error;
 360   1          static int32 stop;
 361   1          int32 CYDATA err_emg_2;
 362   1          
C51 COMPILER V9.51   UTILS                                                                 01/18/2018 16:17:47 PAGE 7   

 363   1          
 364   1          if (first_time){
 365   2              count = 0;
 366   2              first_time = 0;
 367   2          }
 368   1      
 369   1          stop = g_refOld.pos[0] >> g_mem.res[0];
 370   1          
 371   1          if (g_meas.emg[0] < c_mem.emg_threshold[0] && g_meas.emg[1] < c_mem.emg_threshold[1] && stop < 10000){
 372   2              if (flag_count == 1){
 373   3                  count = count + 1;
 374   3              }
 375   2          }
 376   1          else {
 377   2              count = 0;
 378   2              rest_enabled = 0;
 379   2              flag_count = 1;
 380   2          }
 381   1          
 382   1          /********** Velocity closure procedure *************
 383   1          * m = error/time
 384   1          * m = (g_mem.rest_pos - init_pos)/time
 385   1          * time = g_mem.rest_pos/g_mem.rest_vel (g_mem.rest_vel in ticks/msec)
 386   1          ***************************************************/
 387   1          
 388   1          if (count == (uint32)(g_mem.rest_delay/CALIBRATION_DIV)){ //10 seconds.
 389   2              rest_enabled = 1;
 390   2              rest_pos_curr_ref = curr_pos_res;
 391   2              
 392   2              // Ramp angular coefficient
 393   2              m = ((float)(g_mem.rest_pos - curr_pos_res)/((float)g_mem.rest_pos))*(g_mem.rest_vel);
 394   2              
 395   2              // Stop condition threshold is related to m coefficient by g_mem.rest_ratio value
 396   2              abs_err_thr = (int32)( (int32)(g_mem.rest_ratio*m*((float)CALIBRATION_DIV)) << g_mem.res[0]);
 397   2              abs_err_thr = (abs_err_thr>0)?abs_err_thr:(0-abs_err_thr);
 398   2              
 399   2              rest_error = g_mem.rest_pos - curr_pos_res;    
 400   2              
 401   2              delta_inc = (int32)( ((int32)(m*(float)CALIBRATION_DIV)) << g_mem.res[0] );
 402   2              delta_inc = (delta_inc>0)?delta_inc:(0-delta_inc);
 403   2              
 404   2              count = 0;
 405   2              flag_count = 0;
 406   2          }
 407   1          
 408   1          if (rest_enabled){
 409   2      
 410   2              if (rest_error < abs_err_thr && rest_error > -abs_err_thr){
 411   3                  // Stop condition
 412   3                  rest_pos_curr_ref = g_mem.rest_pos;
 413   3                  forced_open = 1;
 414   3                  count = 0;
 415   3              }
 416   2              else {
 417   3                  rest_error = g_mem.rest_pos - curr_pos_res;        
 418   3                  if (rest_error > 0){
 419   4                      rest_pos_curr_ref = rest_pos_curr_ref + delta_inc;
 420   4                  }
 421   3                  if (rest_error < 0){
 422   4                      rest_pos_curr_ref = rest_pos_curr_ref - delta_inc;
 423   4                  }
 424   3              } 
C51 COMPILER V9.51   UTILS                                                                 01/18/2018 16:17:47 PAGE 8   

 425   2              
 426   2              // Change position reference to drive motor to rest position smoothly
 427   2              g_ref.pos[0] = rest_pos_curr_ref;
 428   2              
 429   2              if (forced_open == 1) {
 430   3                  // Open the SoftHand as EMG PROPORTIONAL input mode 
 431   3                  err_emg_2 = g_meas.emg[1] - c_mem.emg_threshold[1];
 432   3                  
 433   3                  if (err_emg_2 > 0)
 434   3                      g_ref.pos[0] = g_mem.rest_pos - (err_emg_2 * g_mem.rest_pos) / (1024 - c_mem.emg_threshold
             -[1]);
 435   3                  else {
 436   4                      g_ref.pos[0] = g_mem.rest_pos;
 437   4                      forced_open = 0;
 438   4                  }
 439   3              }
 440   2              
 441   2              // Position limit saturation
 442   2              if (c_mem.pos_lim_flag) {
 443   3                  if (g_ref.pos[0] < c_mem.pos_lim_inf[0]) 
 444   3                      g_ref.pos[0] = c_mem.pos_lim_inf[0];
 445   3                  if (g_ref.pos[0] > c_mem.pos_lim_sup[0]) 
 446   3                      g_ref.pos[0] = c_mem.pos_lim_sup[0];
 447   3              }
 448   2          }
 449   1      
 450   1      }
 451          
 452          
 453          /* [] END OF FILE */
C51 COMPILER V9.51   UTILS                                                                 01/18/2018 16:17:47 PAGE 9   

ASSEMBLY LISTING OF GENERATED OBJECT CODE


             ; FUNCTION _curr_estim (BEGIN)
                                           ; SOURCE LINE # 52
0000 900000      R     MOV     DPTR,#pos
0003 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 53
0006 900000      R     MOV     DPTR,#pos
0009 E0                MOVX    A,@DPTR
000A FC                MOV     R4,A
000B A3                INC     DPTR
000C E0                MOVX    A,@DPTR
000D FD                MOV     R5,A
000E A3                INC     DPTR
000F E0                MOVX    A,@DPTR
0010 FE                MOV     R6,A
0011 A3                INC     DPTR
0012 E0                MOVX    A,@DPTR
0013 FF                MOV     R7,A
0014 EC                MOV     A,R4
0015 120000      E     LCALL   ?C?FCASTL
0018 C004              PUSH    AR4
001A C005              PUSH    AR5
001C C006              PUSH    AR6
001E C007              PUSH    AR7
0020 E4                CLR     A
0021 FF                MOV     R7,A
0022 FE                MOV     R6,A
0023 FD                MOV     R5,A
0024 7C40              MOV     R4,#040H
0026 900000      E     MOV     DPTR,#?_pow?BYTE+04H
0029 120000      E     LCALL   ?C?LSTXDATA
002C D007              POP     AR7
002E D006              POP     AR6
0030 D005              POP     AR5
0032 D004              POP     AR4
0034 120000      E     LCALL   _pow
0037 900000      E     MOV     DPTR,#g_mem+080H
003A E0                MOVX    A,@DPTR
003B F8                MOV     R0,A
003C A3                INC     DPTR
003D E0                MOVX    A,@DPTR
003E F9                MOV     R1,A
003F A3                INC     DPTR
0040 E0                MOVX    A,@DPTR
0041 FA                MOV     R2,A
0042 A3                INC     DPTR
0043 E0                MOVX    A,@DPTR
0044 FB                MOV     R3,A
0045 120000      E     LCALL   ?C?FPMUL
0048 C004              PUSH    AR4
004A C005              PUSH    AR5
004C C006              PUSH    AR6
004E C007              PUSH    AR7
0050 900000      R     MOV     DPTR,#pos
0053 E0                MOVX    A,@DPTR
0054 FC                MOV     R4,A
0055 A3                INC     DPTR
0056 E0                MOVX    A,@DPTR
0057 FD                MOV     R5,A
0058 A3                INC     DPTR
C51 COMPILER V9.51   UTILS                                                                 01/18/2018 16:17:47 PAGE 10  

0059 E0                MOVX    A,@DPTR
005A FE                MOV     R6,A
005B A3                INC     DPTR
005C E0                MOVX    A,@DPTR
005D FF                MOV     R7,A
005E EC                MOV     A,R4
005F 120000      E     LCALL   ?C?FCASTL
0062 900000      E     MOV     DPTR,#g_mem+07CH
0065 E0                MOVX    A,@DPTR
0066 F8                MOV     R0,A
0067 A3                INC     DPTR
0068 E0                MOVX    A,@DPTR
0069 F9                MOV     R1,A
006A A3                INC     DPTR
006B E0                MOVX    A,@DPTR
006C FA                MOV     R2,A
006D A3                INC     DPTR
006E E0                MOVX    A,@DPTR
006F FB                MOV     R3,A
0070 120000      E     LCALL   ?C?FPMUL
0073 D003              POP     AR3
0075 D002              POP     AR2
0077 D001              POP     AR1
0079 D000              POP     AR0
007B 120000      E     LCALL   ?C?FPADD
007E C004              PUSH    AR4
0080 C005              PUSH    AR5
0082 C006              PUSH    AR6
0084 C007              PUSH    AR7
0086 900000      R     MOV     DPTR,#pos
0089 E0                MOVX    A,@DPTR
008A FC                MOV     R4,A
008B A3                INC     DPTR
008C E0                MOVX    A,@DPTR
008D FD                MOV     R5,A
008E A3                INC     DPTR
008F E0                MOVX    A,@DPTR
0090 FE                MOV     R6,A
0091 A3                INC     DPTR
0092 E0                MOVX    A,@DPTR
0093 FF                MOV     R7,A
0094 EC                MOV     A,R4
0095 120000      E     LCALL   ?C?FCASTL
0098 C004              PUSH    AR4
009A C005              PUSH    AR5
009C C006              PUSH    AR6
009E C007              PUSH    AR7
00A0 E4                CLR     A
00A1 FF                MOV     R7,A
00A2 FE                MOV     R6,A
00A3 7D40              MOV     R5,#040H
00A5 7C40              MOV     R4,#040H
00A7 900000      E     MOV     DPTR,#?_pow?BYTE+04H
00AA 120000      E     LCALL   ?C?LSTXDATA
00AD D007              POP     AR7
00AF D006              POP     AR6
00B1 D005              POP     AR5
00B3 D004              POP     AR4
00B5 120000      E     LCALL   _pow
00B8 900000      E     MOV     DPTR,#g_mem+084H
00BB E0                MOVX    A,@DPTR
00BC F8                MOV     R0,A
C51 COMPILER V9.51   UTILS                                                                 01/18/2018 16:17:47 PAGE 11  

00BD A3                INC     DPTR
00BE E0                MOVX    A,@DPTR
00BF F9                MOV     R1,A
00C0 A3                INC     DPTR
00C1 E0                MOVX    A,@DPTR
00C2 FA                MOV     R2,A
00C3 A3                INC     DPTR
00C4 E0                MOVX    A,@DPTR
00C5 FB                MOV     R3,A
00C6 120000      E     LCALL   ?C?FPMUL
00C9 D003              POP     AR3
00CB D002              POP     AR2
00CD D001              POP     AR1
00CF D000              POP     AR0
00D1 120000      E     LCALL   ?C?FPADD
00D4 C004              PUSH    AR4
00D6 C005              PUSH    AR5
00D8 C006              PUSH    AR6
00DA C007              PUSH    AR7
00DC 900000      R     MOV     DPTR,#vel
00DF E0                MOVX    A,@DPTR
00E0 FC                MOV     R4,A
00E1 A3                INC     DPTR
00E2 E0                MOVX    A,@DPTR
00E3 FD                MOV     R5,A
00E4 A3                INC     DPTR
00E5 E0                MOVX    A,@DPTR
00E6 FE                MOV     R6,A
00E7 A3                INC     DPTR
00E8 E0                MOVX    A,@DPTR
00E9 FF                MOV     R7,A
00EA EC                MOV     A,R4
00EB 120000      E     LCALL   ?C?FCASTL
00EE 900000      E     MOV     DPTR,#g_mem+088H
00F1 E0                MOVX    A,@DPTR
00F2 F8                MOV     R0,A
00F3 A3                INC     DPTR
00F4 E0                MOVX    A,@DPTR
00F5 F9                MOV     R1,A
00F6 A3                INC     DPTR
00F7 E0                MOVX    A,@DPTR
00F8 FA                MOV     R2,A
00F9 A3                INC     DPTR
00FA E0                MOVX    A,@DPTR
00FB FB                MOV     R3,A
00FC 120000      E     LCALL   ?C?FPMUL
00FF D003              POP     AR3
0101 D002              POP     AR2
0103 D001              POP     AR1
0105 D000              POP     AR0
0107 120000      E     LCALL   ?C?FPADD
010A C004              PUSH    AR4
010C C005              PUSH    AR5
010E C006              PUSH    AR6
0110 C007              PUSH    AR7
0112 900000      R     MOV     DPTR,#vel
0115 E0                MOVX    A,@DPTR
0116 FC                MOV     R4,A
0117 A3                INC     DPTR
0118 E0                MOVX    A,@DPTR
0119 FD                MOV     R5,A
011A A3                INC     DPTR
C51 COMPILER V9.51   UTILS                                                                 01/18/2018 16:17:47 PAGE 12  

011B E0                MOVX    A,@DPTR
011C FE                MOV     R6,A
011D A3                INC     DPTR
011E E0                MOVX    A,@DPTR
011F FF                MOV     R7,A
0120 EC                MOV     A,R4
0121 120000      E     LCALL   ?C?FCASTL
0124 C004              PUSH    AR4
0126 C005              PUSH    AR5
0128 C006              PUSH    AR6
012A C007              PUSH    AR7
012C E4                CLR     A
012D FF                MOV     R7,A
012E FE                MOV     R6,A
012F FD                MOV     R5,A
0130 7C40              MOV     R4,#040H
0132 900000      E     MOV     DPTR,#?_pow?BYTE+04H
0135 120000      E     LCALL   ?C?LSTXDATA
0138 D007              POP     AR7
013A D006              POP     AR6
013C D005              POP     AR5
013E D004              POP     AR4
0140 120000      E     LCALL   _pow
0143 900000      E     MOV     DPTR,#g_mem+08CH
0146 E0                MOVX    A,@DPTR
0147 F8                MOV     R0,A
0148 A3                INC     DPTR
0149 E0                MOVX    A,@DPTR
014A F9                MOV     R1,A
014B A3                INC     DPTR
014C E0                MOVX    A,@DPTR
014D FA                MOV     R2,A
014E A3                INC     DPTR
014F E0                MOVX    A,@DPTR
0150 FB                MOV     R3,A
0151 120000      E     LCALL   ?C?FPMUL
0154 D003              POP     AR3
0156 D002              POP     AR2
0158 D001              POP     AR1
015A D000              POP     AR0
015C 120000      E     LCALL   ?C?FPADD
015F C004              PUSH    AR4
0161 C005              PUSH    AR5
0163 C006              PUSH    AR6
0165 C007              PUSH    AR7
0167 900000      R     MOV     DPTR,#acc
016A E0                MOVX    A,@DPTR
016B FC                MOV     R4,A
016C A3                INC     DPTR
016D E0                MOVX    A,@DPTR
016E FD                MOV     R5,A
016F A3                INC     DPTR
0170 E0                MOVX    A,@DPTR
0171 FE                MOV     R6,A
0172 A3                INC     DPTR
0173 E0                MOVX    A,@DPTR
0174 FF                MOV     R7,A
0175 EC                MOV     A,R4
0176 120000      E     LCALL   ?C?FCASTL
0179 900000      E     MOV     DPTR,#g_mem+090H
017C E0                MOVX    A,@DPTR
017D F8                MOV     R0,A
C51 COMPILER V9.51   UTILS                                                                 01/18/2018 16:17:47 PAGE 13  

017E A3                INC     DPTR
017F E0                MOVX    A,@DPTR
0180 F9                MOV     R1,A
0181 A3                INC     DPTR
0182 E0                MOVX    A,@DPTR
0183 FA                MOV     R2,A
0184 A3                INC     DPTR
0185 E0                MOVX    A,@DPTR
0186 FB                MOV     R3,A
0187 120000      E     LCALL   ?C?FPMUL
018A D003              POP     AR3
018C D002              POP     AR2
018E D001              POP     AR1
0190 D000              POP     AR0
0192 120000      E     LCALL   ?C?FPADD
0195 120000      E     LCALL   ?C?CASTF
0198 120000      E     LCALL   _abs
019B EE                MOV     A,R6
019C 33                RLC     A
019D 95E0              SUBB    A,ACC
019F FD                MOV     R5,A
01A0 FC                MOV     R4,A
                                           ; SOURCE LINE # 59
01A1         ?C0001:
01A1 22                RET     
             ; FUNCTION _curr_estim (END)

             ; FUNCTION _filter_v (BEGIN)
                                           ; SOURCE LINE # 65
;---- Variable 'new_value' assigned to Register 'R4/R5/R6/R7' ----
                                           ; SOURCE LINE # 69
0000 7806              MOV     R0,#06H
0002 120000      E     LCALL   ?C?LSHL
0005 E4                CLR     A
0006 7B20              MOV     R3,#020H
0008 FA                MOV     R2,A
0009 F9                MOV     R1,A
000A F8                MOV     R0,A
000B 120000      E     LCALL   ?C?LMUL
000E C004              PUSH    AR4
0010 C005              PUSH    AR5
0012 C006              PUSH    AR6
0014 C007              PUSH    AR7
0016 E4                CLR     A
0017 7FE0              MOV     R7,#0E0H
0019 7E03              MOV     R6,#03H
001B FD                MOV     R5,A
001C FC                MOV     R4,A
001D 900000      R     MOV     DPTR,#old_value
0020 E0                MOVX    A,@DPTR
0021 F8                MOV     R0,A
0022 A3                INC     DPTR
0023 E0                MOVX    A,@DPTR
0024 F9                MOV     R1,A
0025 A3                INC     DPTR
0026 E0                MOVX    A,@DPTR
0027 FA                MOV     R2,A
0028 A3                INC     DPTR
0029 E0                MOVX    A,@DPTR
002A FB                MOV     R3,A
002B 120000      E     LCALL   ?C?LMUL
002E D003              POP     AR3
C51 COMPILER V9.51   UTILS                                                                 01/18/2018 16:17:47 PAGE 14  

0030 D002              POP     AR2
0032 D001              POP     AR1
0034 D000              POP     AR0
0036 EF                MOV     A,R7
0037 2B                ADD     A,R3
0038 FF                MOV     R7,A
0039 EE                MOV     A,R6
003A 3A                ADDC    A,R2
003B FE                MOV     R6,A
003C ED                MOV     A,R5
003D 39                ADDC    A,R1
003E FD                MOV     R5,A
003F EC                MOV     A,R4
0040 38                ADDC    A,R0
0041 FC                MOV     R4,A
0042 780A              MOV     R0,#0AH
0044 120000      E     LCALL   ?C?SLSHR
0047 900000      R     MOV     DPTR,#aux
004A 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 71
004D 900000      R     MOV     DPTR,#aux
0050 E0                MOVX    A,@DPTR
0051 FC                MOV     R4,A
0052 A3                INC     DPTR
0053 E0                MOVX    A,@DPTR
0054 FD                MOV     R5,A
0055 A3                INC     DPTR
0056 E0                MOVX    A,@DPTR
0057 FE                MOV     R6,A
0058 A3                INC     DPTR
0059 E0                MOVX    A,@DPTR
005A FF                MOV     R7,A
005B 900000      R     MOV     DPTR,#old_value
005E 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 73
0061 900000      R     MOV     DPTR,#aux
0064 E0                MOVX    A,@DPTR
0065 FC                MOV     R4,A
0066 A3                INC     DPTR
0067 E0                MOVX    A,@DPTR
0068 FD                MOV     R5,A
0069 A3                INC     DPTR
006A E0                MOVX    A,@DPTR
006B FE                MOV     R6,A
006C A3                INC     DPTR
006D E0                MOVX    A,@DPTR
006E FF                MOV     R7,A
006F 7806              MOV     R0,#06H
0071 120000      E     LCALL   ?C?SLSHR
                                           ; SOURCE LINE # 74
0074         ?C0002:
0074 22                RET     
             ; FUNCTION _filter_v (END)

             ; FUNCTION _filter_i1 (BEGIN)
                                           ; SOURCE LINE # 76
;---- Variable 'new_value' assigned to Register 'R4/R5/R6/R7' ----
                                           ; SOURCE LINE # 80
0000 7806              MOV     R0,#06H
0002 120000      E     LCALL   ?C?LSHL
0005 E4                CLR     A
0006 7B20              MOV     R3,#020H
C51 COMPILER V9.51   UTILS                                                                 01/18/2018 16:17:47 PAGE 15  

0008 FA                MOV     R2,A
0009 F9                MOV     R1,A
000A F8                MOV     R0,A
000B 120000      E     LCALL   ?C?LMUL
000E C004              PUSH    AR4
0010 C005              PUSH    AR5
0012 C006              PUSH    AR6
0014 C007              PUSH    AR7
0016 E4                CLR     A
0017 7FE0              MOV     R7,#0E0H
0019 7E03              MOV     R6,#03H
001B FD                MOV     R5,A
001C FC                MOV     R4,A
001D 900000      R     MOV     DPTR,#old_value
0020 E0                MOVX    A,@DPTR
0021 F8                MOV     R0,A
0022 A3                INC     DPTR
0023 E0                MOVX    A,@DPTR
0024 F9                MOV     R1,A
0025 A3                INC     DPTR
0026 E0                MOVX    A,@DPTR
0027 FA                MOV     R2,A
0028 A3                INC     DPTR
0029 E0                MOVX    A,@DPTR
002A FB                MOV     R3,A
002B 120000      E     LCALL   ?C?LMUL
002E D003              POP     AR3
0030 D002              POP     AR2
0032 D001              POP     AR1
0034 D000              POP     AR0
0036 EF                MOV     A,R7
0037 2B                ADD     A,R3
0038 FF                MOV     R7,A
0039 EE                MOV     A,R6
003A 3A                ADDC    A,R2
003B FE                MOV     R6,A
003C ED                MOV     A,R5
003D 39                ADDC    A,R1
003E FD                MOV     R5,A
003F EC                MOV     A,R4
0040 38                ADDC    A,R0
0041 FC                MOV     R4,A
0042 780A              MOV     R0,#0AH
0044 120000      E     LCALL   ?C?SLSHR
0047 900000      R     MOV     DPTR,#aux
004A 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 82
004D 900000      R     MOV     DPTR,#aux
0050 E0                MOVX    A,@DPTR
0051 FC                MOV     R4,A
0052 A3                INC     DPTR
0053 E0                MOVX    A,@DPTR
0054 FD                MOV     R5,A
0055 A3                INC     DPTR
0056 E0                MOVX    A,@DPTR
0057 FE                MOV     R6,A
0058 A3                INC     DPTR
0059 E0                MOVX    A,@DPTR
005A FF                MOV     R7,A
005B 900000      R     MOV     DPTR,#old_value
005E 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 84
C51 COMPILER V9.51   UTILS                                                                 01/18/2018 16:17:47 PAGE 16  

0061 900000      R     MOV     DPTR,#aux
0064 E0                MOVX    A,@DPTR
0065 FC                MOV     R4,A
0066 A3                INC     DPTR
0067 E0                MOVX    A,@DPTR
0068 FD                MOV     R5,A
0069 A3                INC     DPTR
006A E0                MOVX    A,@DPTR
006B FE                MOV     R6,A
006C A3                INC     DPTR
006D E0                MOVX    A,@DPTR
006E FF                MOV     R7,A
006F 7806              MOV     R0,#06H
0071 120000      E     LCALL   ?C?SLSHR
                                           ; SOURCE LINE # 85
0074         ?C0003:
0074 22                RET     
             ; FUNCTION _filter_i1 (END)

             ; FUNCTION _filter_ch1 (BEGIN)
                                           ; SOURCE LINE # 91
0000 900000      R     MOV     DPTR,#new_value
0003 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 95
0006 E4                CLR     A
0007 FF                MOV     R7,A
0008 FE                MOV     R6,A
0009 FD                MOV     R5,A
000A FC                MOV     R4,A
000B 900000      R     MOV     DPTR,#new_value
000E E0                MOVX    A,@DPTR
000F F8                MOV     R0,A
0010 A3                INC     DPTR
0011 E0                MOVX    A,@DPTR
0012 F9                MOV     R1,A
0013 A3                INC     DPTR
0014 E0                MOVX    A,@DPTR
0015 FA                MOV     R2,A
0016 A3                INC     DPTR
0017 E0                MOVX    A,@DPTR
0018 FB                MOV     R3,A
0019 C3                CLR     C
001A 120000      E     LCALL   ?C?SLCMP
001D 500B              JNC     ?C0004
                                           ; SOURCE LINE # 96
001F E4                CLR     A
0020 FF                MOV     R7,A
0021 FE                MOV     R6,A
0022 FD                MOV     R5,A
0023 FC                MOV     R4,A
0024 900000      R     MOV     DPTR,#new_value
0027 120000      E     LCALL   ?C?LSTXDATA
002A         ?C0004:
                                           ; SOURCE LINE # 98
002A 900000      R     MOV     DPTR,#new_value
002D E0                MOVX    A,@DPTR
002E FC                MOV     R4,A
002F A3                INC     DPTR
0030 E0                MOVX    A,@DPTR
0031 FD                MOV     R5,A
0032 A3                INC     DPTR
0033 E0                MOVX    A,@DPTR
C51 COMPILER V9.51   UTILS                                                                 01/18/2018 16:17:47 PAGE 17  

0034 FE                MOV     R6,A
0035 A3                INC     DPTR
0036 E0                MOVX    A,@DPTR
0037 FF                MOV     R7,A
0038 7806              MOV     R0,#06H
003A 120000      E     LCALL   ?C?LSHL
003D E4                CLR     A
003E 7B32              MOV     R3,#032H
0040 FA                MOV     R2,A
0041 F9                MOV     R1,A
0042 F8                MOV     R0,A
0043 120000      E     LCALL   ?C?LMUL
0046 C004              PUSH    AR4
0048 C005              PUSH    AR5
004A C006              PUSH    AR6
004C C007              PUSH    AR7
004E E4                CLR     A
004F 7FCE              MOV     R7,#0CEH
0051 7E03              MOV     R6,#03H
0053 FD                MOV     R5,A
0054 FC                MOV     R4,A
0055 900000      R     MOV     DPTR,#old_value
0058 E0                MOVX    A,@DPTR
0059 F8                MOV     R0,A
005A A3                INC     DPTR
005B E0                MOVX    A,@DPTR
005C F9                MOV     R1,A
005D A3                INC     DPTR
005E E0                MOVX    A,@DPTR
005F FA                MOV     R2,A
0060 A3                INC     DPTR
0061 E0                MOVX    A,@DPTR
0062 FB                MOV     R3,A
0063 120000      E     LCALL   ?C?LMUL
0066 D003              POP     AR3
0068 D002              POP     AR2
006A D001              POP     AR1
006C D000              POP     AR0
006E EF                MOV     A,R7
006F 2B                ADD     A,R3
0070 FF                MOV     R7,A
0071 EE                MOV     A,R6
0072 3A                ADDC    A,R2
0073 FE                MOV     R6,A
0074 ED                MOV     A,R5
0075 39                ADDC    A,R1
0076 FD                MOV     R5,A
0077 EC                MOV     A,R4
0078 38                ADDC    A,R0
0079 FC                MOV     R4,A
007A E4                CLR     A
007B FB                MOV     R3,A
007C 7A04              MOV     R2,#04H
007E F9                MOV     R1,A
007F F8                MOV     R0,A
0080 120000      E     LCALL   ?C?SLDIV
0083 900000      R     MOV     DPTR,#aux
0086 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 100
0089 900000      R     MOV     DPTR,#aux
008C E0                MOVX    A,@DPTR
008D FC                MOV     R4,A
C51 COMPILER V9.51   UTILS                                                                 01/18/2018 16:17:47 PAGE 18  

008E A3                INC     DPTR
008F E0                MOVX    A,@DPTR
0090 FD                MOV     R5,A
0091 A3                INC     DPTR
0092 E0                MOVX    A,@DPTR
0093 FE                MOV     R6,A
0094 A3                INC     DPTR
0095 E0                MOVX    A,@DPTR
0096 FF                MOV     R7,A
0097 900000      R     MOV     DPTR,#old_value
009A 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 102
009D E4                CLR     A
009E 7B40              MOV     R3,#040H
00A0 FA                MOV     R2,A
00A1 F9                MOV     R1,A
00A2 F8                MOV     R0,A
00A3 900000      R     MOV     DPTR,#aux
00A6 E0                MOVX    A,@DPTR
00A7 FC                MOV     R4,A
00A8 A3                INC     DPTR
00A9 E0                MOVX    A,@DPTR
00AA FD                MOV     R5,A
00AB A3                INC     DPTR
00AC E0                MOVX    A,@DPTR
00AD FE                MOV     R6,A
00AE A3                INC     DPTR
00AF E0                MOVX    A,@DPTR
00B0 FF                MOV     R7,A
00B1 120000      E     LCALL   ?C?SLDIV
                                           ; SOURCE LINE # 103
00B4         ?C0005:
00B4 22                RET     
             ; FUNCTION _filter_ch1 (END)

             ; FUNCTION _filter_ch2 (BEGIN)
                                           ; SOURCE LINE # 109
0000 900000      R     MOV     DPTR,#new_value
0003 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 113
0006 E4                CLR     A
0007 FF                MOV     R7,A
0008 FE                MOV     R6,A
0009 FD                MOV     R5,A
000A FC                MOV     R4,A
000B 900000      R     MOV     DPTR,#new_value
000E E0                MOVX    A,@DPTR
000F F8                MOV     R0,A
0010 A3                INC     DPTR
0011 E0                MOVX    A,@DPTR
0012 F9                MOV     R1,A
0013 A3                INC     DPTR
0014 E0                MOVX    A,@DPTR
0015 FA                MOV     R2,A
0016 A3                INC     DPTR
0017 E0                MOVX    A,@DPTR
0018 FB                MOV     R3,A
0019 C3                CLR     C
001A 120000      E     LCALL   ?C?SLCMP
001D 500B              JNC     ?C0006
                                           ; SOURCE LINE # 114
001F E4                CLR     A
C51 COMPILER V9.51   UTILS                                                                 01/18/2018 16:17:47 PAGE 19  

0020 FF                MOV     R7,A
0021 FE                MOV     R6,A
0022 FD                MOV     R5,A
0023 FC                MOV     R4,A
0024 900000      R     MOV     DPTR,#new_value
0027 120000      E     LCALL   ?C?LSTXDATA
002A         ?C0006:
                                           ; SOURCE LINE # 116
002A 900000      R     MOV     DPTR,#new_value
002D E0                MOVX    A,@DPTR
002E FC                MOV     R4,A
002F A3                INC     DPTR
0030 E0                MOVX    A,@DPTR
0031 FD                MOV     R5,A
0032 A3                INC     DPTR
0033 E0                MOVX    A,@DPTR
0034 FE                MOV     R6,A
0035 A3                INC     DPTR
0036 E0                MOVX    A,@DPTR
0037 FF                MOV     R7,A
0038 7806              MOV     R0,#06H
003A 120000      E     LCALL   ?C?LSHL
003D E4                CLR     A
003E 7B32              MOV     R3,#032H
0040 FA                MOV     R2,A
0041 F9                MOV     R1,A
0042 F8                MOV     R0,A
0043 120000      E     LCALL   ?C?LMUL
0046 C004              PUSH    AR4
0048 C005              PUSH    AR5
004A C006              PUSH    AR6
004C C007              PUSH    AR7
004E E4                CLR     A
004F 7FCE              MOV     R7,#0CEH
0051 7E03              MOV     R6,#03H
0053 FD                MOV     R5,A
0054 FC                MOV     R4,A
0055 900000      R     MOV     DPTR,#old_value
0058 E0                MOVX    A,@DPTR
0059 F8                MOV     R0,A
005A A3                INC     DPTR
005B E0                MOVX    A,@DPTR
005C F9                MOV     R1,A
005D A3                INC     DPTR
005E E0                MOVX    A,@DPTR
005F FA                MOV     R2,A
0060 A3                INC     DPTR
0061 E0                MOVX    A,@DPTR
0062 FB                MOV     R3,A
0063 120000      E     LCALL   ?C?LMUL
0066 D003              POP     AR3
0068 D002              POP     AR2
006A D001              POP     AR1
006C D000              POP     AR0
006E EF                MOV     A,R7
006F 2B                ADD     A,R3
0070 FF                MOV     R7,A
0071 EE                MOV     A,R6
0072 3A                ADDC    A,R2
0073 FE                MOV     R6,A
0074 ED                MOV     A,R5
0075 39                ADDC    A,R1
C51 COMPILER V9.51   UTILS                                                                 01/18/2018 16:17:47 PAGE 20  

0076 FD                MOV     R5,A
0077 EC                MOV     A,R4
0078 38                ADDC    A,R0
0079 FC                MOV     R4,A
007A E4                CLR     A
007B FB                MOV     R3,A
007C 7A04              MOV     R2,#04H
007E F9                MOV     R1,A
007F F8                MOV     R0,A
0080 120000      E     LCALL   ?C?SLDIV
0083 900000      R     MOV     DPTR,#aux
0086 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 118
0089 900000      R     MOV     DPTR,#aux
008C E0                MOVX    A,@DPTR
008D FC                MOV     R4,A
008E A3                INC     DPTR
008F E0                MOVX    A,@DPTR
0090 FD                MOV     R5,A
0091 A3                INC     DPTR
0092 E0                MOVX    A,@DPTR
0093 FE                MOV     R6,A
0094 A3                INC     DPTR
0095 E0                MOVX    A,@DPTR
0096 FF                MOV     R7,A
0097 900000      R     MOV     DPTR,#old_value
009A 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 120
009D E4                CLR     A
009E 7B40              MOV     R3,#040H
00A0 FA                MOV     R2,A
00A1 F9                MOV     R1,A
00A2 F8                MOV     R0,A
00A3 900000      R     MOV     DPTR,#aux
00A6 E0                MOVX    A,@DPTR
00A7 FC                MOV     R4,A
00A8 A3                INC     DPTR
00A9 E0                MOVX    A,@DPTR
00AA FD                MOV     R5,A
00AB A3                INC     DPTR
00AC E0                MOVX    A,@DPTR
00AD FE                MOV     R6,A
00AE A3                INC     DPTR
00AF E0                MOVX    A,@DPTR
00B0 FF                MOV     R7,A
00B1 120000      E     LCALL   ?C?SLDIV
                                           ; SOURCE LINE # 121
00B4         ?C0007:
00B4 22                RET     
             ; FUNCTION _filter_ch2 (END)

             ; FUNCTION _filter_curr_diff (BEGIN)
                                           ; SOURCE LINE # 127
0000 900000      R     MOV     DPTR,#curr_diff
0003 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 131
0006 900000      R     MOV     DPTR,#old_input
0009 E0                MOVX    A,@DPTR
000A FC                MOV     R4,A
000B A3                INC     DPTR
000C E0                MOVX    A,@DPTR
000D FD                MOV     R5,A
C51 COMPILER V9.51   UTILS                                                                 01/18/2018 16:17:47 PAGE 21  

000E A3                INC     DPTR
000F E0                MOVX    A,@DPTR
0010 FE                MOV     R6,A
0011 A3                INC     DPTR
0012 E0                MOVX    A,@DPTR
0013 FF                MOV     R7,A
0014 900000      R     MOV     DPTR,#curr_diff
0017 E0                MOVX    A,@DPTR
0018 F8                MOV     R0,A
0019 A3                INC     DPTR
001A E0                MOVX    A,@DPTR
001B F9                MOV     R1,A
001C A3                INC     DPTR
001D E0                MOVX    A,@DPTR
001E FA                MOV     R2,A
001F A3                INC     DPTR
0020 E0                MOVX    A,@DPTR
0021 2F                ADD     A,R7
0022 FF                MOV     R7,A
0023 EA                MOV     A,R2
0024 3E                ADDC    A,R6
0025 FE                MOV     R6,A
0026 E9                MOV     A,R1
0027 3D                ADDC    A,R5
0028 FD                MOV     R5,A
0029 E8                MOV     A,R0
002A 3C                ADDC    A,R4
002B FC                MOV     R4,A
002C 120000      E     LCALL   ?C?FCASTL
002F 7BCD              MOV     R3,#0CDH
0031 7ACC              MOV     R2,#0CCH
0033 794C              MOV     R1,#04CH
0035 783F              MOV     R0,#03FH
0037 120000      E     LCALL   ?C?FPMUL
003A C004              PUSH    AR4
003C C005              PUSH    AR5
003E C006              PUSH    AR6
0040 C007              PUSH    AR7
0042 E4                CLR     A
0043 7FFE              MOV     R7,#0FEH
0045 7E03              MOV     R6,#03H
0047 FD                MOV     R5,A
0048 FC                MOV     R4,A
0049 900000      R     MOV     DPTR,#old_out
004C E0                MOVX    A,@DPTR
004D F8                MOV     R0,A
004E A3                INC     DPTR
004F E0                MOVX    A,@DPTR
0050 F9                MOV     R1,A
0051 A3                INC     DPTR
0052 E0                MOVX    A,@DPTR
0053 FA                MOV     R2,A
0054 A3                INC     DPTR
0055 E0                MOVX    A,@DPTR
0056 FB                MOV     R3,A
0057 120000      E     LCALL   ?C?LMUL
005A EC                MOV     A,R4
005B 120000      E     LCALL   ?C?FCASTL
005E D003              POP     AR3
0060 D002              POP     AR2
0062 D001              POP     AR1
0064 D000              POP     AR0
C51 COMPILER V9.51   UTILS                                                                 01/18/2018 16:17:47 PAGE 22  

0066 120000      E     LCALL   ?C?FPADD
0069 E4                CLR     A
006A FB                MOV     R3,A
006B FA                MOV     R2,A
006C 7980              MOV     R1,#080H
006E 7844              MOV     R0,#044H
0070 120000      E     LCALL   ?C?FPDIV
0073 120000      E     LCALL   ?C?CASTF
0076 900000      R     MOV     DPTR,#aux
0079 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 133
007C 900000      R     MOV     DPTR,#aux
007F E0                MOVX    A,@DPTR
0080 FC                MOV     R4,A
0081 A3                INC     DPTR
0082 E0                MOVX    A,@DPTR
0083 FD                MOV     R5,A
0084 A3                INC     DPTR
0085 E0                MOVX    A,@DPTR
0086 FE                MOV     R6,A
0087 A3                INC     DPTR
0088 E0                MOVX    A,@DPTR
0089 FF                MOV     R7,A
008A 900000      R     MOV     DPTR,#old_out
008D 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 134
0090 900000      R     MOV     DPTR,#curr_diff
0093 E0                MOVX    A,@DPTR
0094 FC                MOV     R4,A
0095 A3                INC     DPTR
0096 E0                MOVX    A,@DPTR
0097 FD                MOV     R5,A
0098 A3                INC     DPTR
0099 E0                MOVX    A,@DPTR
009A FE                MOV     R6,A
009B A3                INC     DPTR
009C E0                MOVX    A,@DPTR
009D FF                MOV     R7,A
009E 900000      R     MOV     DPTR,#old_input
00A1 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 136
00A4 900000      R     MOV     DPTR,#aux
00A7 E0                MOVX    A,@DPTR
00A8 FC                MOV     R4,A
00A9 A3                INC     DPTR
00AA E0                MOVX    A,@DPTR
00AB FD                MOV     R5,A
00AC A3                INC     DPTR
00AD E0                MOVX    A,@DPTR
00AE FE                MOV     R6,A
00AF A3                INC     DPTR
00B0 E0                MOVX    A,@DPTR
00B1 FF                MOV     R7,A
                                           ; SOURCE LINE # 137
00B2         ?C0008:
00B2 22                RET     
             ; FUNCTION _filter_curr_diff (END)

             ; FUNCTION _filter_vel_1 (BEGIN)
                                           ; SOURCE LINE # 143
0000 900000      R     MOV     DPTR,#new_value
0003 120000      E     LCALL   ?C?LSTXDATA
C51 COMPILER V9.51   UTILS                                                                 01/18/2018 16:17:47 PAGE 23  

                                           ; SOURCE LINE # 147
0006 E4                CLR     A
0007 7F20              MOV     R7,#020H
0009 FE                MOV     R6,A
000A FD                MOV     R5,A
000B FC                MOV     R4,A
000C 900000      R     MOV     DPTR,#new_value
000F E0                MOVX    A,@DPTR
0010 F8                MOV     R0,A
0011 A3                INC     DPTR
0012 E0                MOVX    A,@DPTR
0013 F9                MOV     R1,A
0014 A3                INC     DPTR
0015 E0                MOVX    A,@DPTR
0016 FA                MOV     R2,A
0017 A3                INC     DPTR
0018 E0                MOVX    A,@DPTR
0019 FB                MOV     R3,A
001A 120000      E     LCALL   ?C?LMUL
001D C004              PUSH    AR4
001F C005              PUSH    AR5
0021 C006              PUSH    AR6
0023 C007              PUSH    AR7
0025 E4                CLR     A
0026 7FE0              MOV     R7,#0E0H
0028 7E03              MOV     R6,#03H
002A FD                MOV     R5,A
002B FC                MOV     R4,A
002C 900000      R     MOV     DPTR,#old_out
002F E0                MOVX    A,@DPTR
0030 F8                MOV     R0,A
0031 A3                INC     DPTR
0032 E0                MOVX    A,@DPTR
0033 F9                MOV     R1,A
0034 A3                INC     DPTR
0035 E0                MOVX    A,@DPTR
0036 FA                MOV     R2,A
0037 A3                INC     DPTR
0038 E0                MOVX    A,@DPTR
0039 FB                MOV     R3,A
003A 120000      E     LCALL   ?C?LMUL
003D D003              POP     AR3
003F D002              POP     AR2
0041 D001              POP     AR1
0043 D000              POP     AR0
0045 EF                MOV     A,R7
0046 2B                ADD     A,R3
0047 FF                MOV     R7,A
0048 EE                MOV     A,R6
0049 3A                ADDC    A,R2
004A FE                MOV     R6,A
004B ED                MOV     A,R5
004C 39                ADDC    A,R1
004D FD                MOV     R5,A
004E EC                MOV     A,R4
004F 38                ADDC    A,R0
0050 FC                MOV     R4,A
0051 E4                CLR     A
0052 FB                MOV     R3,A
0053 7A04              MOV     R2,#04H
0055 F9                MOV     R1,A
0056 F8                MOV     R0,A
C51 COMPILER V9.51   UTILS                                                                 01/18/2018 16:17:47 PAGE 24  

0057 120000      E     LCALL   ?C?SLDIV
005A 900000      R     MOV     DPTR,#aux
005D 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 149
0060 900000      R     MOV     DPTR,#aux
0063 E0                MOVX    A,@DPTR
0064 FC                MOV     R4,A
0065 A3                INC     DPTR
0066 E0                MOVX    A,@DPTR
0067 FD                MOV     R5,A
0068 A3                INC     DPTR
0069 E0                MOVX    A,@DPTR
006A FE                MOV     R6,A
006B A3                INC     DPTR
006C E0                MOVX    A,@DPTR
006D FF                MOV     R7,A
006E 900000      R     MOV     DPTR,#old_out
0071 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 151
0074 900000      R     MOV     DPTR,#aux
0077 E0                MOVX    A,@DPTR
0078 FC                MOV     R4,A
0079 A3                INC     DPTR
007A E0                MOVX    A,@DPTR
007B FD                MOV     R5,A
007C A3                INC     DPTR
007D E0                MOVX    A,@DPTR
007E FE                MOV     R6,A
007F A3                INC     DPTR
0080 E0                MOVX    A,@DPTR
0081 FF                MOV     R7,A
                                           ; SOURCE LINE # 152
0082         ?C0009:
0082 22                RET     
             ; FUNCTION _filter_vel_1 (END)

             ; FUNCTION _filter_vel_2 (BEGIN)
                                           ; SOURCE LINE # 154
0000 900000      R     MOV     DPTR,#new_value
0003 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 158
0006 E4                CLR     A
0007 7F20              MOV     R7,#020H
0009 FE                MOV     R6,A
000A FD                MOV     R5,A
000B FC                MOV     R4,A
000C 900000      R     MOV     DPTR,#new_value
000F E0                MOVX    A,@DPTR
0010 F8                MOV     R0,A
0011 A3                INC     DPTR
0012 E0                MOVX    A,@DPTR
0013 F9                MOV     R1,A
0014 A3                INC     DPTR
0015 E0                MOVX    A,@DPTR
0016 FA                MOV     R2,A
0017 A3                INC     DPTR
0018 E0                MOVX    A,@DPTR
0019 FB                MOV     R3,A
001A 120000      E     LCALL   ?C?LMUL
001D C004              PUSH    AR4
001F C005              PUSH    AR5
0021 C006              PUSH    AR6
C51 COMPILER V9.51   UTILS                                                                 01/18/2018 16:17:47 PAGE 25  

0023 C007              PUSH    AR7
0025 E4                CLR     A
0026 7FE0              MOV     R7,#0E0H
0028 7E03              MOV     R6,#03H
002A FD                MOV     R5,A
002B FC                MOV     R4,A
002C 900000      R     MOV     DPTR,#old_out
002F E0                MOVX    A,@DPTR
0030 F8                MOV     R0,A
0031 A3                INC     DPTR
0032 E0                MOVX    A,@DPTR
0033 F9                MOV     R1,A
0034 A3                INC     DPTR
0035 E0                MOVX    A,@DPTR
0036 FA                MOV     R2,A
0037 A3                INC     DPTR
0038 E0                MOVX    A,@DPTR
0039 FB                MOV     R3,A
003A 120000      E     LCALL   ?C?LMUL
003D D003              POP     AR3
003F D002              POP     AR2
0041 D001              POP     AR1
0043 D000              POP     AR0
0045 EF                MOV     A,R7
0046 2B                ADD     A,R3
0047 FF                MOV     R7,A
0048 EE                MOV     A,R6
0049 3A                ADDC    A,R2
004A FE                MOV     R6,A
004B ED                MOV     A,R5
004C 39                ADDC    A,R1
004D FD                MOV     R5,A
004E EC                MOV     A,R4
004F 38                ADDC    A,R0
0050 FC                MOV     R4,A
0051 E4                CLR     A
0052 FB                MOV     R3,A
0053 7A04              MOV     R2,#04H
0055 F9                MOV     R1,A
0056 F8                MOV     R0,A
0057 120000      E     LCALL   ?C?SLDIV
005A 900000      R     MOV     DPTR,#aux
005D 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 160
0060 900000      R     MOV     DPTR,#aux
0063 E0                MOVX    A,@DPTR
0064 FC                MOV     R4,A
0065 A3                INC     DPTR
0066 E0                MOVX    A,@DPTR
0067 FD                MOV     R5,A
0068 A3                INC     DPTR
0069 E0                MOVX    A,@DPTR
006A FE                MOV     R6,A
006B A3                INC     DPTR
006C E0                MOVX    A,@DPTR
006D FF                MOV     R7,A
006E 900000      R     MOV     DPTR,#old_out
0071 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 162
0074 900000      R     MOV     DPTR,#aux
0077 E0                MOVX    A,@DPTR
0078 FC                MOV     R4,A
C51 COMPILER V9.51   UTILS                                                                 01/18/2018 16:17:47 PAGE 26  

0079 A3                INC     DPTR
007A E0                MOVX    A,@DPTR
007B FD                MOV     R5,A
007C A3                INC     DPTR
007D E0                MOVX    A,@DPTR
007E FE                MOV     R6,A
007F A3                INC     DPTR
0080 E0                MOVX    A,@DPTR
0081 FF                MOV     R7,A
                                           ; SOURCE LINE # 163
0082         ?C0010:
0082 22                RET     
             ; FUNCTION _filter_vel_2 (END)

             ; FUNCTION _filter_vel_3 (BEGIN)
                                           ; SOURCE LINE # 165
0000 900000      R     MOV     DPTR,#new_value
0003 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 169
0006 E4                CLR     A
0007 7F20              MOV     R7,#020H
0009 FE                MOV     R6,A
000A FD                MOV     R5,A
000B FC                MOV     R4,A
000C 900000      R     MOV     DPTR,#new_value
000F E0                MOVX    A,@DPTR
0010 F8                MOV     R0,A
0011 A3                INC     DPTR
0012 E0                MOVX    A,@DPTR
0013 F9                MOV     R1,A
0014 A3                INC     DPTR
0015 E0                MOVX    A,@DPTR
0016 FA                MOV     R2,A
0017 A3                INC     DPTR
0018 E0                MOVX    A,@DPTR
0019 FB                MOV     R3,A
001A 120000      E     LCALL   ?C?LMUL
001D C004              PUSH    AR4
001F C005              PUSH    AR5
0021 C006              PUSH    AR6
0023 C007              PUSH    AR7
0025 E4                CLR     A
0026 7FE0              MOV     R7,#0E0H
0028 7E03              MOV     R6,#03H
002A FD                MOV     R5,A
002B FC                MOV     R4,A
002C 900000      R     MOV     DPTR,#old_out
002F E0                MOVX    A,@DPTR
0030 F8                MOV     R0,A
0031 A3                INC     DPTR
0032 E0                MOVX    A,@DPTR
0033 F9                MOV     R1,A
0034 A3                INC     DPTR
0035 E0                MOVX    A,@DPTR
0036 FA                MOV     R2,A
0037 A3                INC     DPTR
0038 E0                MOVX    A,@DPTR
0039 FB                MOV     R3,A
003A 120000      E     LCALL   ?C?LMUL
003D D003              POP     AR3
003F D002              POP     AR2
0041 D001              POP     AR1
C51 COMPILER V9.51   UTILS                                                                 01/18/2018 16:17:47 PAGE 27  

0043 D000              POP     AR0
0045 EF                MOV     A,R7
0046 2B                ADD     A,R3
0047 FF                MOV     R7,A
0048 EE                MOV     A,R6
0049 3A                ADDC    A,R2
004A FE                MOV     R6,A
004B ED                MOV     A,R5
004C 39                ADDC    A,R1
004D FD                MOV     R5,A
004E EC                MOV     A,R4
004F 38                ADDC    A,R0
0050 FC                MOV     R4,A
0051 E4                CLR     A
0052 FB                MOV     R3,A
0053 7A04              MOV     R2,#04H
0055 F9                MOV     R1,A
0056 F8                MOV     R0,A
0057 120000      E     LCALL   ?C?SLDIV
005A 900000      R     MOV     DPTR,#aux
005D 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 171
0060 900000      R     MOV     DPTR,#aux
0063 E0                MOVX    A,@DPTR
0064 FC                MOV     R4,A
0065 A3                INC     DPTR
0066 E0                MOVX    A,@DPTR
0067 FD                MOV     R5,A
0068 A3                INC     DPTR
0069 E0                MOVX    A,@DPTR
006A FE                MOV     R6,A
006B A3                INC     DPTR
006C E0                MOVX    A,@DPTR
006D FF                MOV     R7,A
006E 900000      R     MOV     DPTR,#old_out
0071 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 173
0074 900000      R     MOV     DPTR,#aux
0077 E0                MOVX    A,@DPTR
0078 FC                MOV     R4,A
0079 A3                INC     DPTR
007A E0                MOVX    A,@DPTR
007B FD                MOV     R5,A
007C A3                INC     DPTR
007D E0                MOVX    A,@DPTR
007E FE                MOV     R6,A
007F A3                INC     DPTR
0080 E0                MOVX    A,@DPTR
0081 FF                MOV     R7,A
                                           ; SOURCE LINE # 174
0082         ?C0011:
0082 22                RET     
             ; FUNCTION _filter_vel_3 (END)

             ; FUNCTION _filter_acc_1 (BEGIN)
                                           ; SOURCE LINE # 180
0000 900000      R     MOV     DPTR,#new_value
0003 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 184
0006 E4                CLR     A
0007 7F20              MOV     R7,#020H
0009 FE                MOV     R6,A
C51 COMPILER V9.51   UTILS                                                                 01/18/2018 16:17:47 PAGE 28  

000A FD                MOV     R5,A
000B FC                MOV     R4,A
000C 900000      R     MOV     DPTR,#new_value
000F E0                MOVX    A,@DPTR
0010 F8                MOV     R0,A
0011 A3                INC     DPTR
0012 E0                MOVX    A,@DPTR
0013 F9                MOV     R1,A
0014 A3                INC     DPTR
0015 E0                MOVX    A,@DPTR
0016 FA                MOV     R2,A
0017 A3                INC     DPTR
0018 E0                MOVX    A,@DPTR
0019 FB                MOV     R3,A
001A 120000      E     LCALL   ?C?LMUL
001D C004              PUSH    AR4
001F C005              PUSH    AR5
0021 C006              PUSH    AR6
0023 C007              PUSH    AR7
0025 E4                CLR     A
0026 7FE0              MOV     R7,#0E0H
0028 7E03              MOV     R6,#03H
002A FD                MOV     R5,A
002B FC                MOV     R4,A
002C 900000      R     MOV     DPTR,#old_out
002F E0                MOVX    A,@DPTR
0030 F8                MOV     R0,A
0031 A3                INC     DPTR
0032 E0                MOVX    A,@DPTR
0033 F9                MOV     R1,A
0034 A3                INC     DPTR
0035 E0                MOVX    A,@DPTR
0036 FA                MOV     R2,A
0037 A3                INC     DPTR
0038 E0                MOVX    A,@DPTR
0039 FB                MOV     R3,A
003A 120000      E     LCALL   ?C?LMUL
003D D003              POP     AR3
003F D002              POP     AR2
0041 D001              POP     AR1
0043 D000              POP     AR0
0045 EF                MOV     A,R7
0046 2B                ADD     A,R3
0047 FF                MOV     R7,A
0048 EE                MOV     A,R6
0049 3A                ADDC    A,R2
004A FE                MOV     R6,A
004B ED                MOV     A,R5
004C 39                ADDC    A,R1
004D FD                MOV     R5,A
004E EC                MOV     A,R4
004F 38                ADDC    A,R0
0050 FC                MOV     R4,A
0051 E4                CLR     A
0052 FB                MOV     R3,A
0053 7A04              MOV     R2,#04H
0055 F9                MOV     R1,A
0056 F8                MOV     R0,A
0057 120000      E     LCALL   ?C?SLDIV
005A 900000      R     MOV     DPTR,#aux
005D 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 186
C51 COMPILER V9.51   UTILS                                                                 01/18/2018 16:17:47 PAGE 29  

0060 900000      R     MOV     DPTR,#aux
0063 E0                MOVX    A,@DPTR
0064 FC                MOV     R4,A
0065 A3                INC     DPTR
0066 E0                MOVX    A,@DPTR
0067 FD                MOV     R5,A
0068 A3                INC     DPTR
0069 E0                MOVX    A,@DPTR
006A FE                MOV     R6,A
006B A3                INC     DPTR
006C E0                MOVX    A,@DPTR
006D FF                MOV     R7,A
006E 900000      R     MOV     DPTR,#old_out
0071 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 188
0074 900000      R     MOV     DPTR,#aux
0077 E0                MOVX    A,@DPTR
0078 FC                MOV     R4,A
0079 A3                INC     DPTR
007A E0                MOVX    A,@DPTR
007B FD                MOV     R5,A
007C A3                INC     DPTR
007D E0                MOVX    A,@DPTR
007E FE                MOV     R6,A
007F A3                INC     DPTR
0080 E0                MOVX    A,@DPTR
0081 FF                MOV     R7,A
                                           ; SOURCE LINE # 189
0082         ?C0012:
0082 22                RET     
             ; FUNCTION _filter_acc_1 (END)

             ; FUNCTION _filter_acc_2 (BEGIN)
                                           ; SOURCE LINE # 191
0000 900000      R     MOV     DPTR,#new_value
0003 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 195
0006 E4                CLR     A
0007 7F20              MOV     R7,#020H
0009 FE                MOV     R6,A
000A FD                MOV     R5,A
000B FC                MOV     R4,A
000C 900000      R     MOV     DPTR,#new_value
000F E0                MOVX    A,@DPTR
0010 F8                MOV     R0,A
0011 A3                INC     DPTR
0012 E0                MOVX    A,@DPTR
0013 F9                MOV     R1,A
0014 A3                INC     DPTR
0015 E0                MOVX    A,@DPTR
0016 FA                MOV     R2,A
0017 A3                INC     DPTR
0018 E0                MOVX    A,@DPTR
0019 FB                MOV     R3,A
001A 120000      E     LCALL   ?C?LMUL
001D C004              PUSH    AR4
001F C005              PUSH    AR5
0021 C006              PUSH    AR6
0023 C007              PUSH    AR7
0025 E4                CLR     A
0026 7FE0              MOV     R7,#0E0H
0028 7E03              MOV     R6,#03H
C51 COMPILER V9.51   UTILS                                                                 01/18/2018 16:17:47 PAGE 30  

002A FD                MOV     R5,A
002B FC                MOV     R4,A
002C 900000      R     MOV     DPTR,#old_out
002F E0                MOVX    A,@DPTR
0030 F8                MOV     R0,A
0031 A3                INC     DPTR
0032 E0                MOVX    A,@DPTR
0033 F9                MOV     R1,A
0034 A3                INC     DPTR
0035 E0                MOVX    A,@DPTR
0036 FA                MOV     R2,A
0037 A3                INC     DPTR
0038 E0                MOVX    A,@DPTR
0039 FB                MOV     R3,A
003A 120000      E     LCALL   ?C?LMUL
003D D003              POP     AR3
003F D002              POP     AR2
0041 D001              POP     AR1
0043 D000              POP     AR0
0045 EF                MOV     A,R7
0046 2B                ADD     A,R3
0047 FF                MOV     R7,A
0048 EE                MOV     A,R6
0049 3A                ADDC    A,R2
004A FE                MOV     R6,A
004B ED                MOV     A,R5
004C 39                ADDC    A,R1
004D FD                MOV     R5,A
004E EC                MOV     A,R4
004F 38                ADDC    A,R0
0050 FC                MOV     R4,A
0051 E4                CLR     A
0052 FB                MOV     R3,A
0053 7A04              MOV     R2,#04H
0055 F9                MOV     R1,A
0056 F8                MOV     R0,A
0057 120000      E     LCALL   ?C?SLDIV
005A 900000      R     MOV     DPTR,#aux
005D 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 197
0060 900000      R     MOV     DPTR,#aux
0063 E0                MOVX    A,@DPTR
0064 FC                MOV     R4,A
0065 A3                INC     DPTR
0066 E0                MOVX    A,@DPTR
0067 FD                MOV     R5,A
0068 A3                INC     DPTR
0069 E0                MOVX    A,@DPTR
006A FE                MOV     R6,A
006B A3                INC     DPTR
006C E0                MOVX    A,@DPTR
006D FF                MOV     R7,A
006E 900000      R     MOV     DPTR,#old_out
0071 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 199
0074 900000      R     MOV     DPTR,#aux
0077 E0                MOVX    A,@DPTR
0078 FC                MOV     R4,A
0079 A3                INC     DPTR
007A E0                MOVX    A,@DPTR
007B FD                MOV     R5,A
007C A3                INC     DPTR
C51 COMPILER V9.51   UTILS                                                                 01/18/2018 16:17:47 PAGE 31  

007D E0                MOVX    A,@DPTR
007E FE                MOV     R6,A
007F A3                INC     DPTR
0080 E0                MOVX    A,@DPTR
0081 FF                MOV     R7,A
                                           ; SOURCE LINE # 200
0082         ?C0013:
0082 22                RET     
             ; FUNCTION _filter_acc_2 (END)

             ; FUNCTION _filter_acc_3 (BEGIN)
                                           ; SOURCE LINE # 202
0000 900000      R     MOV     DPTR,#new_value
0003 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 206
0006 E4                CLR     A
0007 7F20              MOV     R7,#020H
0009 FE                MOV     R6,A
000A FD                MOV     R5,A
000B FC                MOV     R4,A
000C 900000      R     MOV     DPTR,#new_value
000F E0                MOVX    A,@DPTR
0010 F8                MOV     R0,A
0011 A3                INC     DPTR
0012 E0                MOVX    A,@DPTR
0013 F9                MOV     R1,A
0014 A3                INC     DPTR
0015 E0                MOVX    A,@DPTR
0016 FA                MOV     R2,A
0017 A3                INC     DPTR
0018 E0                MOVX    A,@DPTR
0019 FB                MOV     R3,A
001A 120000      E     LCALL   ?C?LMUL
001D C004              PUSH    AR4
001F C005              PUSH    AR5
0021 C006              PUSH    AR6
0023 C007              PUSH    AR7
0025 E4                CLR     A
0026 7FE0              MOV     R7,#0E0H
0028 7E03              MOV     R6,#03H
002A FD                MOV     R5,A
002B FC                MOV     R4,A
002C 900000      R     MOV     DPTR,#old_out
002F E0                MOVX    A,@DPTR
0030 F8                MOV     R0,A
0031 A3                INC     DPTR
0032 E0                MOVX    A,@DPTR
0033 F9                MOV     R1,A
0034 A3                INC     DPTR
0035 E0                MOVX    A,@DPTR
0036 FA                MOV     R2,A
0037 A3                INC     DPTR
0038 E0                MOVX    A,@DPTR
0039 FB                MOV     R3,A
003A 120000      E     LCALL   ?C?LMUL
003D D003              POP     AR3
003F D002              POP     AR2
0041 D001              POP     AR1
0043 D000              POP     AR0
0045 EF                MOV     A,R7
0046 2B                ADD     A,R3
0047 FF                MOV     R7,A
C51 COMPILER V9.51   UTILS                                                                 01/18/2018 16:17:47 PAGE 32  

0048 EE                MOV     A,R6
0049 3A                ADDC    A,R2
004A FE                MOV     R6,A
004B ED                MOV     A,R5
004C 39                ADDC    A,R1
004D FD                MOV     R5,A
004E EC                MOV     A,R4
004F 38                ADDC    A,R0
0050 FC                MOV     R4,A
0051 E4                CLR     A
0052 FB                MOV     R3,A
0053 7A04              MOV     R2,#04H
0055 F9                MOV     R1,A
0056 F8                MOV     R0,A
0057 120000      E     LCALL   ?C?SLDIV
005A 900000      R     MOV     DPTR,#aux
005D 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 208
0060 900000      R     MOV     DPTR,#aux
0063 E0                MOVX    A,@DPTR
0064 FC                MOV     R4,A
0065 A3                INC     DPTR
0066 E0                MOVX    A,@DPTR
0067 FD                MOV     R5,A
0068 A3                INC     DPTR
0069 E0                MOVX    A,@DPTR
006A FE                MOV     R6,A
006B A3                INC     DPTR
006C E0                MOVX    A,@DPTR
006D FF                MOV     R7,A
006E 900000      R     MOV     DPTR,#old_out
0071 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 210
0074 900000      R     MOV     DPTR,#aux
0077 E0                MOVX    A,@DPTR
0078 FC                MOV     R4,A
0079 A3                INC     DPTR
007A E0                MOVX    A,@DPTR
007B FD                MOV     R5,A
007C A3                INC     DPTR
007D E0                MOVX    A,@DPTR
007E FE                MOV     R6,A
007F A3                INC     DPTR
0080 E0                MOVX    A,@DPTR
0081 FF                MOV     R7,A
                                           ; SOURCE LINE # 211
0082         ?C0014:
0082 22                RET     
             ; FUNCTION _filter_acc_3 (END)

             ; FUNCTION _filter_voltage (BEGIN)
                                           ; SOURCE LINE # 217
;---- Variable 'new_value' assigned to Register 'R4/R5/R6/R7' ----
                                           ; SOURCE LINE # 222
0000 7806              MOV     R0,#06H
0002 120000      E     LCALL   ?C?LSHL
0005 E4                CLR     A
0006 7B08              MOV     R3,#08H
0008 FA                MOV     R2,A
0009 F9                MOV     R1,A
000A F8                MOV     R0,A
000B 120000      E     LCALL   ?C?LMUL
C51 COMPILER V9.51   UTILS                                                                 01/18/2018 16:17:47 PAGE 33  

000E C004              PUSH    AR4
0010 C005              PUSH    AR5
0012 C006              PUSH    AR6
0014 C007              PUSH    AR7
0016 E4                CLR     A
0017 7FF8              MOV     R7,#0F8H
0019 7E03              MOV     R6,#03H
001B FD                MOV     R5,A
001C FC                MOV     R4,A
001D 900000      R     MOV     DPTR,#old_value
0020 E0                MOVX    A,@DPTR
0021 F8                MOV     R0,A
0022 A3                INC     DPTR
0023 E0                MOVX    A,@DPTR
0024 F9                MOV     R1,A
0025 A3                INC     DPTR
0026 E0                MOVX    A,@DPTR
0027 FA                MOV     R2,A
0028 A3                INC     DPTR
0029 E0                MOVX    A,@DPTR
002A FB                MOV     R3,A
002B 120000      E     LCALL   ?C?LMUL
002E D003              POP     AR3
0030 D002              POP     AR2
0032 D001              POP     AR1
0034 D000              POP     AR0
0036 EF                MOV     A,R7
0037 2B                ADD     A,R3
0038 FF                MOV     R7,A
0039 EE                MOV     A,R6
003A 3A                ADDC    A,R2
003B FE                MOV     R6,A
003C ED                MOV     A,R5
003D 39                ADDC    A,R1
003E FD                MOV     R5,A
003F EC                MOV     A,R4
0040 38                ADDC    A,R0
0041 FC                MOV     R4,A
0042 E4                CLR     A
0043 FB                MOV     R3,A
0044 7A04              MOV     R2,#04H
0046 F9                MOV     R1,A
0047 F8                MOV     R0,A
0048 120000      E     LCALL   ?C?SLDIV
004B 900000      R     MOV     DPTR,#aux
004E 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 224
0051 900000      R     MOV     DPTR,#aux
0054 E0                MOVX    A,@DPTR
0055 FC                MOV     R4,A
0056 A3                INC     DPTR
0057 E0                MOVX    A,@DPTR
0058 FD                MOV     R5,A
0059 A3                INC     DPTR
005A E0                MOVX    A,@DPTR
005B FE                MOV     R6,A
005C A3                INC     DPTR
005D E0                MOVX    A,@DPTR
005E FF                MOV     R7,A
005F 900000      R     MOV     DPTR,#old_value
0062 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 226
C51 COMPILER V9.51   UTILS                                                                 01/18/2018 16:17:47 PAGE 34  

0065 E4                CLR     A
0066 7B40              MOV     R3,#040H
0068 FA                MOV     R2,A
0069 F9                MOV     R1,A
006A F8                MOV     R0,A
006B 900000      R     MOV     DPTR,#aux
006E E0                MOVX    A,@DPTR
006F FC                MOV     R4,A
0070 A3                INC     DPTR
0071 E0                MOVX    A,@DPTR
0072 FD                MOV     R5,A
0073 A3                INC     DPTR
0074 E0                MOVX    A,@DPTR
0075 FE                MOV     R6,A
0076 A3                INC     DPTR
0077 E0                MOVX    A,@DPTR
0078 FF                MOV     R7,A
0079 120000      E     LCALL   ?C?SLDIV
                                           ; SOURCE LINE # 227
007C         ?C0015:
007C 22                RET     
             ; FUNCTION _filter_voltage (END)

             ; FUNCTION _check_enc_data (BEGIN)
                                           ; SOURCE LINE # 235
;---- Variable 'value' assigned to Register 'R1/R2/R3' ----
                                           ; SOURCE LINE # 237
0000 7800        R     MOV     R0,#LOW p
0002 A603              MOV     @R0,AR3
0004 08                INC     R0
0005 A602              MOV     @R0,AR2
0007 08                INC     R0
0008 A601              MOV     @R0,AR1
                                           ; SOURCE LINE # 238
000A 120000      E     LCALL   ?C?CLDPTR
000D F500        R     MOV     a,A
                                           ; SOURCE LINE # 240
000F 7800        R     MOV     R0,#LOW p
0011 8603              MOV     AR3,@R0
0013 08                INC     R0
0014 08                INC     R0
0015 06                INC     @R0
0016 E6                MOV     A,@R0
0017 18                DEC     R0
0018 7001              JNZ     ?C0053
001A 06                INC     @R0
001B         ?C0053:
001B F9                MOV     R1,A
001C 8602              MOV     AR2,@R0
001E 120000      E     LCALL   ?C?CLDPTR
0021 6200        R     XRL     a,A
                                           ; SOURCE LINE # 241
0023 7800        R     MOV     R0,#LOW p
0025 8603              MOV     AR3,@R0
0027 08                INC     R0
0028 08                INC     R0
0029 06                INC     @R0
002A E6                MOV     A,@R0
002B 18                DEC     R0
002C 7001              JNZ     ?C0054
002E 06                INC     @R0
002F         ?C0054:
C51 COMPILER V9.51   UTILS                                                                 01/18/2018 16:17:47 PAGE 35  

002F F9                MOV     R1,A
0030 8602              MOV     AR2,@R0
0032 120000      E     LCALL   ?C?CLDPTR
0035 6200        R     XRL     a,A
                                           ; SOURCE LINE # 242
0037 7800        R     MOV     R0,#LOW p
0039 8603              MOV     AR3,@R0
003B 08                INC     R0
003C 08                INC     R0
003D 06                INC     @R0
003E E6                MOV     A,@R0
003F 18                DEC     R0
0040 7001              JNZ     ?C0055
0042 06                INC     @R0
0043         ?C0055:
0043 F9                MOV     R1,A
0044 8602              MOV     AR2,@R0
0046 120000      E     LCALL   ?C?CLDPTR
0049 6200        R     XRL     a,A
                                           ; SOURCE LINE # 243
004B E500        R     MOV     A,a
004D C4                SWAP    A
004E 540F              ANL     A,#0FH
0050 FF                MOV     R7,A
0051 E500        R     MOV     A,a
0053 540F              ANL     A,#0FH
0055 6F                XRL     A,R7
0056 F500        R     MOV     a,A
                                           ; SOURCE LINE # 245
0058 FF                MOV     R7,A
0059 7469              MOV     A,#069H
005B 7E96              MOV     R6,#096H
005D A807              MOV     R0,AR7
005F 08                INC     R0
0060 8005              SJMP    ?C0057
0062         ?C0056:
0062 CE                XCH     A,R6
0063 C3                CLR     C
0064 13                RRC     A
0065 CE                XCH     A,R6
0066 13                RRC     A
0067         ?C0057:
0067 D8F9              DJNZ    R0,?C0056
0069 13                RRC     A
                                           ; SOURCE LINE # 247
006A         ?C0016:
006A 22                RET     
             ; FUNCTION _check_enc_data (END)

             ; FUNCTION _my_round (BEGIN)
                                           ; SOURCE LINE # 253
0000 900000      R     MOV     DPTR,#x
0003 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 255
0006 E4                CLR     A
0007 FF                MOV     R7,A
0008 FE                MOV     R6,A
0009 FD                MOV     R5,A
000A FC                MOV     R4,A
000B 900000      R     MOV     DPTR,#x
000E E0                MOVX    A,@DPTR
000F F8                MOV     R0,A
C51 COMPILER V9.51   UTILS                                                                 01/18/2018 16:17:47 PAGE 36  

0010 A3                INC     DPTR
0011 E0                MOVX    A,@DPTR
0012 F9                MOV     R1,A
0013 A3                INC     DPTR
0014 E0                MOVX    A,@DPTR
0015 FA                MOV     R2,A
0016 A3                INC     DPTR
0017 E0                MOVX    A,@DPTR
0018 FB                MOV     R3,A
0019 120000      E     LCALL   ?C?FPCMP3
001C 501B              JNC     ?C0017
                                           ; SOURCE LINE # 256
001E E4                CLR     A
001F FF                MOV     R7,A
0020 FE                MOV     R6,A
0021 FD                MOV     R5,A
0022 7CBF              MOV     R4,#0BFH
0024 900000      R     MOV     DPTR,#x
0027 E0                MOVX    A,@DPTR
0028 F8                MOV     R0,A
0029 A3                INC     DPTR
002A E0                MOVX    A,@DPTR
002B F9                MOV     R1,A
002C A3                INC     DPTR
002D E0                MOVX    A,@DPTR
002E FA                MOV     R2,A
002F A3                INC     DPTR
0030 E0                MOVX    A,@DPTR
0031 FB                MOV     R3,A
0032 120000      E     LCALL   ?C?FPADD
0035 120000      E     LCALL   ?C?CASTF
0038 22                RET     
0039         ?C0017:
                                           ; SOURCE LINE # 258
0039 E4                CLR     A
003A FF                MOV     R7,A
003B FE                MOV     R6,A
003C FD                MOV     R5,A
003D 7C3F              MOV     R4,#03FH
003F 900000      R     MOV     DPTR,#x
0042 E0                MOVX    A,@DPTR
0043 F8                MOV     R0,A
0044 A3                INC     DPTR
0045 E0                MOVX    A,@DPTR
0046 F9                MOV     R1,A
0047 A3                INC     DPTR
0048 E0                MOVX    A,@DPTR
0049 FA                MOV     R2,A
004A A3                INC     DPTR
004B E0                MOVX    A,@DPTR
004C FB                MOV     R3,A
004D 120000      E     LCALL   ?C?FPADD
0050 120000      E     LCALL   ?C?CASTF
                                           ; SOURCE LINE # 259
0053         ?C0018:
0053 22                RET     
             ; FUNCTION _my_round (END)

             ; FUNCTION _my_mod (BEGIN)
                                           ; SOURCE LINE # 265
0000 900000      R     MOV     DPTR,#val
0003 120000      E     LCALL   ?C?LSTXDATA
C51 COMPILER V9.51   UTILS                                                                 01/18/2018 16:17:47 PAGE 37  

                                           ; SOURCE LINE # 267
0006 E4                CLR     A
0007 FF                MOV     R7,A
0008 FE                MOV     R6,A
0009 FD                MOV     R5,A
000A FC                MOV     R4,A
000B 900000      R     MOV     DPTR,#val
000E E0                MOVX    A,@DPTR
000F F8                MOV     R0,A
0010 A3                INC     DPTR
0011 E0                MOVX    A,@DPTR
0012 F9                MOV     R1,A
0013 A3                INC     DPTR
0014 E0                MOVX    A,@DPTR
0015 FA                MOV     R2,A
0016 A3                INC     DPTR
0017 E0                MOVX    A,@DPTR
0018 FB                MOV     R3,A
0019 C3                CLR     C
001A 120000      E     LCALL   ?C?SLCMP
001D 4028              JC      ?C0020
                                           ; SOURCE LINE # 268
001F 900000      R     MOV     DPTR,#divisor
0022 E0                MOVX    A,@DPTR
0023 F8                MOV     R0,A
0024 A3                INC     DPTR
0025 E0                MOVX    A,@DPTR
0026 F9                MOV     R1,A
0027 A3                INC     DPTR
0028 E0                MOVX    A,@DPTR
0029 FA                MOV     R2,A
002A A3                INC     DPTR
002B E0                MOVX    A,@DPTR
002C FB                MOV     R3,A
002D 900000      R     MOV     DPTR,#val
0030 E0                MOVX    A,@DPTR
0031 FC                MOV     R4,A
0032 A3                INC     DPTR
0033 E0                MOVX    A,@DPTR
0034 FD                MOV     R5,A
0035 A3                INC     DPTR
0036 E0                MOVX    A,@DPTR
0037 FE                MOV     R6,A
0038 A3                INC     DPTR
0039 E0                MOVX    A,@DPTR
003A FF                MOV     R7,A
003B 120000      E     LCALL   ?C?SLDIV
003E AC00              MOV     R4,AR0
0040 AD01              MOV     R5,AR1
0042 AE02              MOV     R6,AR2
0044 AF03              MOV     R7,AR3
0046 22                RET     
                                           ; SOURCE LINE # 269
0047         ?C0020:
                                           ; SOURCE LINE # 270
0047 900000      R     MOV     DPTR,#val
004A E0                MOVX    A,@DPTR
004B FC                MOV     R4,A
004C A3                INC     DPTR
004D E0                MOVX    A,@DPTR
004E FD                MOV     R5,A
004F A3                INC     DPTR
C51 COMPILER V9.51   UTILS                                                                 01/18/2018 16:17:47 PAGE 38  

0050 E0                MOVX    A,@DPTR
0051 FE                MOV     R6,A
0052 A3                INC     DPTR
0053 E0                MOVX    A,@DPTR
0054 FF                MOV     R7,A
0055 120000      E     LCALL   ?C?LNEG
0058 A3                INC     DPTR
0059 E0                MOVX    A,@DPTR
005A F8                MOV     R0,A
005B A3                INC     DPTR
005C E0                MOVX    A,@DPTR
005D F9                MOV     R1,A
005E A3                INC     DPTR
005F E0                MOVX    A,@DPTR
0060 FA                MOV     R2,A
0061 A3                INC     DPTR
0062 E0                MOVX    A,@DPTR
0063 FB                MOV     R3,A
0064 120000      E     LCALL   ?C?SLDIV
0067 900000      R     MOV     DPTR,#divisor
006A E0                MOVX    A,@DPTR
006B FC                MOV     R4,A
006C A3                INC     DPTR
006D E0                MOVX    A,@DPTR
006E FD                MOV     R5,A
006F A3                INC     DPTR
0070 E0                MOVX    A,@DPTR
0071 FE                MOV     R6,A
0072 A3                INC     DPTR
0073 E0                MOVX    A,@DPTR
0074 C3                CLR     C
0075 9B                SUBB    A,R3
0076 FF                MOV     R7,A
0077 EE                MOV     A,R6
0078 9A                SUBB    A,R2
0079 FE                MOV     R6,A
007A ED                MOV     A,R5
007B 99                SUBB    A,R1
007C FD                MOV     R5,A
007D EC                MOV     A,R4
007E 98                SUBB    A,R0
007F FC                MOV     R4,A
                                           ; SOURCE LINE # 271
                                           ; SOURCE LINE # 272
0080         ?C0021:
0080 22                RET     
             ; FUNCTION _my_mod (END)

             ; FUNCTION calibration (BEGIN)
                                           ; SOURCE LINE # 279
                                           ; SOURCE LINE # 285
0000 900000      R     MOV     DPTR,#direction
0003 E0                MOVX    A,@DPTR
0004 707B              JNZ     ?C0023
                                           ; SOURCE LINE # 286
0006 900000      E     MOV     DPTR,#g_ref
0009 E0                MOVX    A,@DPTR
000A F8                MOV     R0,A
000B A3                INC     DPTR
000C E0                MOVX    A,@DPTR
000D F9                MOV     R1,A
000E A3                INC     DPTR
C51 COMPILER V9.51   UTILS                                                                 01/18/2018 16:17:47 PAGE 39  

000F E0                MOVX    A,@DPTR
0010 FA                MOV     R2,A
0011 A3                INC     DPTR
0012 E0                MOVX    A,@DPTR
0013 FB                MOV     R3,A
0014 C000              PUSH    AR0
0016 C001              PUSH    AR1
0018 C002              PUSH    AR2
001A C003              PUSH    AR3
001C 900000      E     MOV     DPTR,#g_mem+035H
001F E0                MOVX    A,@DPTR
0020 FF                MOV     R7,A
0021 900000      E     MOV     DPTR,#calib+02H
0024 E0                MOVX    A,@DPTR
0025 FE                MOV     R6,A
0026 A3                INC     DPTR
0027 E0                MOVX    A,@DPTR
0028 A807              MOV     R0,AR7
002A 08                INC     R0
002B 8005              SJMP    ?C0059
002D         ?C0058:
002D C3                CLR     C
002E 33                RLC     A
002F CE                XCH     A,R6
0030 33                RLC     A
0031 CE                XCH     A,R6
0032         ?C0059:
0032 D8F9              DJNZ    R0,?C0058
0034 FF                MOV     R7,A
0035 EE                MOV     A,R6
0036 33                RLC     A
0037 95E0              SUBB    A,ACC
0039 FD                MOV     R5,A
003A FC                MOV     R4,A
003B D003              POP     AR3
003D D002              POP     AR2
003F D001              POP     AR1
0041 D000              POP     AR0
0043 EB                MOV     A,R3
0044 2F                ADD     A,R7
0045 FF                MOV     R7,A
0046 EA                MOV     A,R2
0047 3E                ADDC    A,R6
0048 FE                MOV     R6,A
0049 E9                MOV     A,R1
004A 3D                ADDC    A,R5
004B FD                MOV     R5,A
004C E8                MOV     A,R0
004D 3C                ADDC    A,R4
004E FC                MOV     R4,A
004F 900000      E     MOV     DPTR,#g_ref
0052 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 287
0055 900000      E     MOV     DPTR,#g_mem+059H
0058 E0                MOVX    A,@DPTR
0059 FC                MOV     R4,A
005A A3                INC     DPTR
005B E0                MOVX    A,@DPTR
005C FD                MOV     R5,A
005D A3                INC     DPTR
005E E0                MOVX    A,@DPTR
005F FE                MOV     R6,A
C51 COMPILER V9.51   UTILS                                                                 01/18/2018 16:17:47 PAGE 40  

0060 A3                INC     DPTR
0061 E0                MOVX    A,@DPTR
0062 FF                MOV     R7,A
0063 900000      E     MOV     DPTR,#g_ref
0066 E0                MOVX    A,@DPTR
0067 F8                MOV     R0,A
0068 A3                INC     DPTR
0069 E0                MOVX    A,@DPTR
006A F9                MOV     R1,A
006B A3                INC     DPTR
006C E0                MOVX    A,@DPTR
006D FA                MOV     R2,A
006E A3                INC     DPTR
006F E0                MOVX    A,@DPTR
0070 FB                MOV     R3,A
0071 D3                SETB    C
0072 120000      E     LCALL   ?C?SLCMP
0075 5003              JNC     $ + 5H
0077 020000      R     LJMP    ?C0030
                                           ; SOURCE LINE # 288
007A 900000      R     MOV     DPTR,#direction
007D 7401              MOV     A,#01H
007F F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 289
                                           ; SOURCE LINE # 290
0080 22                RET     
0081         ?C0023:
                                           ; SOURCE LINE # 291
0081 900000      E     MOV     DPTR,#g_ref
0084 E0                MOVX    A,@DPTR
0085 FC                MOV     R4,A
0086 A3                INC     DPTR
0087 E0                MOVX    A,@DPTR
0088 FD                MOV     R5,A
0089 A3                INC     DPTR
008A E0                MOVX    A,@DPTR
008B FE                MOV     R6,A
008C A3                INC     DPTR
008D E0                MOVX    A,@DPTR
008E FF                MOV     R7,A
008F C004              PUSH    AR4
0091 C005              PUSH    AR5
0093 C006              PUSH    AR6
0095 C007              PUSH    AR7
0097 900000      E     MOV     DPTR,#g_mem+035H
009A E0                MOVX    A,@DPTR
009B FF                MOV     R7,A
009C 900000      E     MOV     DPTR,#calib+02H
009F E0                MOVX    A,@DPTR
00A0 FE                MOV     R6,A
00A1 A3                INC     DPTR
00A2 E0                MOVX    A,@DPTR
00A3 A807              MOV     R0,AR7
00A5 08                INC     R0
00A6 8005              SJMP    ?C0061
00A8         ?C0060:
00A8 C3                CLR     C
00A9 33                RLC     A
00AA CE                XCH     A,R6
00AB 33                RLC     A
00AC CE                XCH     A,R6
00AD         ?C0061:
C51 COMPILER V9.51   UTILS                                                                 01/18/2018 16:17:47 PAGE 41  

00AD D8F9              DJNZ    R0,?C0060
00AF FF                MOV     R7,A
00B0 FB                MOV     R3,A
00B1 AA06              MOV     R2,AR6
00B3 EA                MOV     A,R2
00B4 33                RLC     A
00B5 95E0              SUBB    A,ACC
00B7 F9                MOV     R1,A
00B8 F8                MOV     R0,A
00B9 D007              POP     AR7
00BB D006              POP     AR6
00BD D005              POP     AR5
00BF D004              POP     AR4
00C1 C3                CLR     C
00C2 EF                MOV     A,R7
00C3 9B                SUBB    A,R3
00C4 FF                MOV     R7,A
00C5 EE                MOV     A,R6
00C6 9A                SUBB    A,R2
00C7 FE                MOV     R6,A
00C8 ED                MOV     A,R5
00C9 99                SUBB    A,R1
00CA FD                MOV     R5,A
00CB EC                MOV     A,R4
00CC 98                SUBB    A,R0
00CD FC                MOV     R4,A
00CE 900000      E     MOV     DPTR,#g_ref
00D1 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 292
00D4 E4                CLR     A
00D5 FF                MOV     R7,A
00D6 FE                MOV     R6,A
00D7 FD                MOV     R5,A
00D8 FC                MOV     R4,A
00D9 900000      E     MOV     DPTR,#g_ref
00DC E0                MOVX    A,@DPTR
00DD F8                MOV     R0,A
00DE A3                INC     DPTR
00DF E0                MOVX    A,@DPTR
00E0 F9                MOV     R1,A
00E1 A3                INC     DPTR
00E2 E0                MOVX    A,@DPTR
00E3 FA                MOV     R2,A
00E4 A3                INC     DPTR
00E5 E0                MOVX    A,@DPTR
00E6 FB                MOV     R3,A
00E7 C3                CLR     C
00E8 120000      E     LCALL   ?C?SLCMP
00EB 4006              JC      ?C0027
00ED 7E00              MOV     R6,#00H
00EF 7F01              MOV     R7,#01H
00F1 8004              SJMP    ?C0028
00F3         ?C0027:
00F3 7EFF              MOV     R6,#0FFH
00F5 7FFF              MOV     R7,#0FFH
00F7         ?C0028:
00F7 EF                MOV     A,R7
00F8 6401              XRL     A,#01H
00FA 4E                ORL     A,R6
00FB 6032              JZ      ?C0030
                                           ; SOURCE LINE # 293
00FD E4                CLR     A
C51 COMPILER V9.51   UTILS                                                                 01/18/2018 16:17:47 PAGE 42  

00FE 900000      R     MOV     DPTR,#direction
0101 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 294
0102 900000      R     MOV     DPTR,#closure_counter+01H
0105 E0                MOVX    A,@DPTR
0106 04                INC     A
0107 F0                MOVX    @DPTR,A
0108 7006              JNZ     ?C0062
010A 900000      R     MOV     DPTR,#closure_counter
010D E0                MOVX    A,@DPTR
010E 04                INC     A
010F F0                MOVX    @DPTR,A
0110         ?C0062:
                                           ; SOURCE LINE # 295
0110 900000      R     MOV     DPTR,#closure_counter
0113 E0                MOVX    A,@DPTR
0114 FE                MOV     R6,A
0115 A3                INC     DPTR
0116 E0                MOVX    A,@DPTR
0117 FF                MOV     R7,A
0118 900000      E     MOV     DPTR,#calib+04H
011B E0                MOVX    A,@DPTR
011C B50610            CJNE    A,AR6,?C0030
011F A3                INC     DPTR
0120 E0                MOVX    A,@DPTR
0121 B5070B            CJNE    A,AR7,?C0030
                                           ; SOURCE LINE # 296
0124 E4                CLR     A
0125 900000      R     MOV     DPTR,#closure_counter
0128 F0                MOVX    @DPTR,A
0129 A3                INC     DPTR
012A F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 297
012B 900000      E     MOV     DPTR,#calib
012E F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 298
                                           ; SOURCE LINE # 299
                                           ; SOURCE LINE # 300
                                           ; SOURCE LINE # 301
012F         ?C0030:
012F 22                RET     
             ; FUNCTION calibration (END)

             ; FUNCTION _calc_turns_fcn (BEGIN)
                                           ; SOURCE LINE # 337
0000 900000      R     MOV     DPTR,#pos1
0003 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 339
0006 E4                CLR     A
0007 7F0F              MOV     R7,#0FH
0009 FE                MOV     R6,A
000A FD                MOV     R5,A
000B FC                MOV     R4,A
000C 900000      R     MOV     DPTR,#pos1
000F E0                MOVX    A,@DPTR
0010 F8                MOV     R0,A
0011 A3                INC     DPTR
0012 E0                MOVX    A,@DPTR
0013 F9                MOV     R1,A
0014 A3                INC     DPTR
0015 E0                MOVX    A,@DPTR
0016 FA                MOV     R2,A
C51 COMPILER V9.51   UTILS                                                                 01/18/2018 16:17:47 PAGE 43  

0017 A3                INC     DPTR
0018 E0                MOVX    A,@DPTR
0019 FB                MOV     R3,A
001A 120000      E     LCALL   ?C?LMUL
001D C004              PUSH    AR4
001F C005              PUSH    AR5
0021 C006              PUSH    AR6
0023 C007              PUSH    AR7
0025 74FF              MOV     A,#0FFH
0027 7FF2              MOV     R7,#0F2H
0029 FE                MOV     R6,A
002A FD                MOV     R5,A
002B FC                MOV     R4,A
002C 900000      R     MOV     DPTR,#pos2
002F E0                MOVX    A,@DPTR
0030 F8                MOV     R0,A
0031 A3                INC     DPTR
0032 E0                MOVX    A,@DPTR
0033 F9                MOV     R1,A
0034 A3                INC     DPTR
0035 E0                MOVX    A,@DPTR
0036 FA                MOV     R2,A
0037 A3                INC     DPTR
0038 E0                MOVX    A,@DPTR
0039 FB                MOV     R3,A
003A 120000      E     LCALL   ?C?LMUL
003D D003              POP     AR3
003F D002              POP     AR2
0041 D001              POP     AR1
0043 D000              POP     AR0
0045 C3                CLR     C
0046 EF                MOV     A,R7
0047 9B                SUBB    A,R3
0048 FF                MOV     R7,A
0049 EE                MOV     A,R6
004A 9A                SUBB    A,R2
004B FE                MOV     R6,A
004C ED                MOV     A,R5
004D 99                SUBB    A,R1
004E FD                MOV     R5,A
004F EC                MOV     A,R4
0050 98                SUBB    A,R0
0051 FC                MOV     R4,A
0052 C004              PUSH    AR4
0054 C005              PUSH    AR5
0056 C006              PUSH    AR6
0058 C007              PUSH    AR7
005A E4                CLR     A
005B FF                MOV     R7,A
005C FE                MOV     R6,A
005D 7D0E              MOV     R5,#0EH
005F FC                MOV     R4,A
0060 900000      R     MOV     DPTR,#?_my_mod?BYTE+04H
0063 120000      E     LCALL   ?C?LSTXDATA
0066 D007              POP     AR7
0068 D006              POP     AR6
006A D005              POP     AR5
006C D004              POP     AR4
006E 120000      R     LCALL   _my_mod
0071 E4                CLR     A
0072 2F                ADD     A,R7
0073 FF                MOV     R7,A
C51 COMPILER V9.51   UTILS                                                                 01/18/2018 16:17:47 PAGE 44  

0074 EE                MOV     A,R6
0075 3480              ADDC    A,#080H
0077 FE                MOV     R6,A
0078 E4                CLR     A
0079 3D                ADDC    A,R5
007A FD                MOV     R5,A
007B E4                CLR     A
007C 3C                ADDC    A,R4
007D FC                MOV     R4,A
007E E4                CLR     A
007F FB                MOV     R3,A
0080 FA                MOV     R2,A
0081 7901              MOV     R1,#01H
0083 F8                MOV     R0,A
0084 120000      E     LCALL   ?C?ULDIV
;---- Variable 'x' assigned to Register 'R4/R5/R6/R7' ----
                                           ; SOURCE LINE # 341
0087 C004              PUSH    AR4
0089 C005              PUSH    AR5
008B C006              PUSH    AR6
008D C007              PUSH    AR7
008F E4                CLR     A
0090 7F0E              MOV     R7,#0EH
0092 FE                MOV     R6,A
0093 FD                MOV     R5,A
0094 FC                MOV     R4,A
0095 900000      R     MOV     DPTR,#?_my_mod?BYTE+04H
0098 120000      E     LCALL   ?C?LSTXDATA
009B D007              POP     AR7
009D D006              POP     AR6
009F D005              POP     AR5
00A1 D004              POP     AR4
00A3 120000      R     LCALL   _my_mod
;---- Variable 'aux' assigned to Register 'R4/R5/R6/R7' ----
                                           ; SOURCE LINE # 343
00A6 EF                MOV     A,R7
00A7 2407              ADD     A,#07H
00A9 FF                MOV     R7,A
00AA E4                CLR     A
00AB 3E                ADDC    A,R6
00AC FE                MOV     R6,A
00AD E4                CLR     A
00AE 3D                ADDC    A,R5
00AF FD                MOV     R5,A
00B0 E4                CLR     A
00B1 3C                ADDC    A,R4
00B2 FC                MOV     R4,A
00B3 C004              PUSH    AR4
00B5 C005              PUSH    AR5
00B7 C006              PUSH    AR6
00B9 C007              PUSH    AR7
00BB E4                CLR     A
00BC 7F0E              MOV     R7,#0EH
00BE FE                MOV     R6,A
00BF FD                MOV     R5,A
00C0 FC                MOV     R4,A
00C1 900000      R     MOV     DPTR,#?_my_mod?BYTE+04H
00C4 120000      E     LCALL   ?C?LSTXDATA
00C7 D007              POP     AR7
00C9 D006              POP     AR6
00CB D005              POP     AR5
00CD D004              POP     AR4
C51 COMPILER V9.51   UTILS                                                                 01/18/2018 16:17:47 PAGE 45  

00CF 120000      R     LCALL   _my_mod
00D2 EF                MOV     A,R7
00D3 24F9              ADD     A,#0F9H
00D5 FF                MOV     R7,A
00D6 EE                MOV     A,R6
00D7 34FF              ADDC    A,#0FFH
00D9 FE                MOV     R6,A
                                           ; SOURCE LINE # 344
00DA         ?C0031:
00DA 22                RET     
             ; FUNCTION _calc_turns_fcn (END)

             ; FUNCTION check_rest_position (BEGIN)
                                           ; SOURCE LINE # 351
                                           ; SOURCE LINE # 364
0000 900000      R     MOV     DPTR,#first_time
0003 E0                MOVX    A,@DPTR
0004 6010              JZ      ?C0032
                                           ; SOURCE LINE # 365
0006 E4                CLR     A
0007 FF                MOV     R7,A
0008 FE                MOV     R6,A
0009 FD                MOV     R5,A
000A FC                MOV     R4,A
000B 900000      R     MOV     DPTR,#count
000E 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 366
0011 E4                CLR     A
0012 900000      R     MOV     DPTR,#first_time
0015 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 367
0016         ?C0032:
                                           ; SOURCE LINE # 369
0016 900000      E     MOV     DPTR,#g_refOld
0019 E0                MOVX    A,@DPTR
001A FC                MOV     R4,A
001B A3                INC     DPTR
001C E0                MOVX    A,@DPTR
001D FD                MOV     R5,A
001E A3                INC     DPTR
001F E0                MOVX    A,@DPTR
0020 FE                MOV     R6,A
0021 A3                INC     DPTR
0022 E0                MOVX    A,@DPTR
0023 FF                MOV     R7,A
0024 900000      E     MOV     DPTR,#g_mem+035H
0027 E0                MOVX    A,@DPTR
0028 F9                MOV     R1,A
0029 F8                MOV     R0,A
002A 120000      E     LCALL   ?C?SLSHR
002D 900000      R     MOV     DPTR,#stop
0030 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 371
0033 900000      E     MOV     DPTR,#c_mem+06BH
0036 E0                MOVX    A,@DPTR
0037 FE                MOV     R6,A
0038 A3                INC     DPTR
0039 E0                MOVX    A,@DPTR
003A FF                MOV     R7,A
003B E4                CLR     A
003C FC                MOV     R4,A
003D FD                MOV     R5,A
C51 COMPILER V9.51   UTILS                                                                 01/18/2018 16:17:47 PAGE 46  

003E 900000      E     MOV     DPTR,#g_meas+017H
0041 E0                MOVX    A,@DPTR
0042 F8                MOV     R0,A
0043 A3                INC     DPTR
0044 E0                MOVX    A,@DPTR
0045 F9                MOV     R1,A
0046 A3                INC     DPTR
0047 E0                MOVX    A,@DPTR
0048 FA                MOV     R2,A
0049 A3                INC     DPTR
004A E0                MOVX    A,@DPTR
004B FB                MOV     R3,A
004C C3                CLR     C
004D 120000      E     LCALL   ?C?SLCMP
0050 5062              JNC     ?C0033
0052 900000      E     MOV     DPTR,#c_mem+06DH
0055 E0                MOVX    A,@DPTR
0056 FE                MOV     R6,A
0057 A3                INC     DPTR
0058 E0                MOVX    A,@DPTR
0059 FF                MOV     R7,A
005A E4                CLR     A
005B FC                MOV     R4,A
005C FD                MOV     R5,A
005D 900000      E     MOV     DPTR,#g_meas+01BH
0060 E0                MOVX    A,@DPTR
0061 F8                MOV     R0,A
0062 A3                INC     DPTR
0063 E0                MOVX    A,@DPTR
0064 F9                MOV     R1,A
0065 A3                INC     DPTR
0066 E0                MOVX    A,@DPTR
0067 FA                MOV     R2,A
0068 A3                INC     DPTR
0069 E0                MOVX    A,@DPTR
006A FB                MOV     R3,A
006B C3                CLR     C
006C 120000      E     LCALL   ?C?SLCMP
006F 5043              JNC     ?C0033
0071 E4                CLR     A
0072 7F10              MOV     R7,#010H
0074 7E27              MOV     R6,#027H
0076 FD                MOV     R5,A
0077 FC                MOV     R4,A
0078 900000      R     MOV     DPTR,#stop
007B E0                MOVX    A,@DPTR
007C F8                MOV     R0,A
007D A3                INC     DPTR
007E E0                MOVX    A,@DPTR
007F F9                MOV     R1,A
0080 A3                INC     DPTR
0081 E0                MOVX    A,@DPTR
0082 FA                MOV     R2,A
0083 A3                INC     DPTR
0084 E0                MOVX    A,@DPTR
0085 FB                MOV     R3,A
0086 C3                CLR     C
0087 120000      E     LCALL   ?C?SLCMP
008A 5028              JNC     ?C0033
                                           ; SOURCE LINE # 372
008C 900000      R     MOV     DPTR,#flag_count
008F E0                MOVX    A,@DPTR
C51 COMPILER V9.51   UTILS                                                                 01/18/2018 16:17:47 PAGE 47  

0090 B40136            CJNE    A,#01H,?C0035
                                           ; SOURCE LINE # 373
0093 900000      R     MOV     DPTR,#count
0096 E0                MOVX    A,@DPTR
0097 FC                MOV     R4,A
0098 A3                INC     DPTR
0099 E0                MOVX    A,@DPTR
009A FD                MOV     R5,A
009B A3                INC     DPTR
009C E0                MOVX    A,@DPTR
009D FE                MOV     R6,A
009E A3                INC     DPTR
009F E0                MOVX    A,@DPTR
00A0 2401              ADD     A,#01H
00A2 FF                MOV     R7,A
00A3 E4                CLR     A
00A4 3E                ADDC    A,R6
00A5 FE                MOV     R6,A
00A6 E4                CLR     A
00A7 3D                ADDC    A,R5
00A8 FD                MOV     R5,A
00A9 E4                CLR     A
00AA 3C                ADDC    A,R4
00AB FC                MOV     R4,A
00AC 900000      R     MOV     DPTR,#count
00AF 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 374
                                           ; SOURCE LINE # 375
00B2 8015              SJMP    ?C0035
00B4         ?C0033:
                                           ; SOURCE LINE # 376
                                           ; SOURCE LINE # 377
00B4 E4                CLR     A
00B5 FF                MOV     R7,A
00B6 FE                MOV     R6,A
00B7 FD                MOV     R5,A
00B8 FC                MOV     R4,A
00B9 900000      R     MOV     DPTR,#count
00BC 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 378
00BF E4                CLR     A
00C0 900000      E     MOV     DPTR,#rest_enabled
00C3 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 379
00C4 900000      R     MOV     DPTR,#flag_count
00C7 04                INC     A
00C8 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 380
00C9         ?C0035:
                                           ; SOURCE LINE # 388
00C9 E4                CLR     A
00CA FB                MOV     R3,A
00CB FA                MOV     R2,A
00CC 7920              MOV     R1,#020H
00CE 7841              MOV     R0,#041H
00D0 900000      E     MOV     DPTR,#g_mem+09AH
00D3 E0                MOVX    A,@DPTR
00D4 FC                MOV     R4,A
00D5 A3                INC     DPTR
00D6 E0                MOVX    A,@DPTR
00D7 FD                MOV     R5,A
00D8 A3                INC     DPTR
C51 COMPILER V9.51   UTILS                                                                 01/18/2018 16:17:47 PAGE 48  

00D9 E0                MOVX    A,@DPTR
00DA FE                MOV     R6,A
00DB A3                INC     DPTR
00DC E0                MOVX    A,@DPTR
00DD FF                MOV     R7,A
00DE 120000      E     LCALL   ?C?FPDIV
00E1 120000      E     LCALL   ?C?CASTF
00E4 900000      R     MOV     DPTR,#count
00E7 E0                MOVX    A,@DPTR
00E8 F8                MOV     R0,A
00E9 A3                INC     DPTR
00EA E0                MOVX    A,@DPTR
00EB F9                MOV     R1,A
00EC A3                INC     DPTR
00ED E0                MOVX    A,@DPTR
00EE FA                MOV     R2,A
00EF A3                INC     DPTR
00F0 E0                MOVX    A,@DPTR
00F1 FB                MOV     R3,A
00F2 C3                CLR     C
00F3 120000      E     LCALL   ?C?ULCMP
00F6 6003              JZ      $ + 5H
00F8 020000      R     LJMP    ?C0036
                                           ; SOURCE LINE # 389
00FB 900000      E     MOV     DPTR,#rest_enabled
00FE 04                INC     A
00FF F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 390
0100 900000      E     MOV     DPTR,#curr_pos_res
0103 E0                MOVX    A,@DPTR
0104 FC                MOV     R4,A
0105 A3                INC     DPTR
0106 E0                MOVX    A,@DPTR
0107 FD                MOV     R5,A
0108 A3                INC     DPTR
0109 E0                MOVX    A,@DPTR
010A FE                MOV     R6,A
010B A3                INC     DPTR
010C E0                MOVX    A,@DPTR
010D FF                MOV     R7,A
010E 900000      E     MOV     DPTR,#rest_pos_curr_ref
0111 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 393
0114 900000      E     MOV     DPTR,#curr_pos_res
0117 E0                MOVX    A,@DPTR
0118 F8                MOV     R0,A
0119 A3                INC     DPTR
011A E0                MOVX    A,@DPTR
011B F9                MOV     R1,A
011C A3                INC     DPTR
011D E0                MOVX    A,@DPTR
011E FA                MOV     R2,A
011F A3                INC     DPTR
0120 E0                MOVX    A,@DPTR
0121 FB                MOV     R3,A
0122 900000      E     MOV     DPTR,#g_mem+096H
0125 E0                MOVX    A,@DPTR
0126 FC                MOV     R4,A
0127 A3                INC     DPTR
0128 E0                MOVX    A,@DPTR
0129 FD                MOV     R5,A
012A A3                INC     DPTR
C51 COMPILER V9.51   UTILS                                                                 01/18/2018 16:17:47 PAGE 49  

012B E0                MOVX    A,@DPTR
012C FE                MOV     R6,A
012D A3                INC     DPTR
012E E0                MOVX    A,@DPTR
012F C3                CLR     C
0130 9B                SUBB    A,R3
0131 FF                MOV     R7,A
0132 EE                MOV     A,R6
0133 9A                SUBB    A,R2
0134 FE                MOV     R6,A
0135 ED                MOV     A,R5
0136 99                SUBB    A,R1
0137 FD                MOV     R5,A
0138 EC                MOV     A,R4
0139 98                SUBB    A,R0
013A FC                MOV     R4,A
013B 120000      E     LCALL   ?C?FCASTL
013E C004              PUSH    AR4
0140 C005              PUSH    AR5
0142 C006              PUSH    AR6
0144 C007              PUSH    AR7
0146 900000      E     MOV     DPTR,#g_mem+096H
0149 E0                MOVX    A,@DPTR
014A FC                MOV     R4,A
014B A3                INC     DPTR
014C E0                MOVX    A,@DPTR
014D FD                MOV     R5,A
014E A3                INC     DPTR
014F E0                MOVX    A,@DPTR
0150 FE                MOV     R6,A
0151 A3                INC     DPTR
0152 E0                MOVX    A,@DPTR
0153 FF                MOV     R7,A
0154 EC                MOV     A,R4
0155 120000      E     LCALL   ?C?FCASTL
0158 A804              MOV     R0,AR4
015A A905              MOV     R1,AR5
015C AA06              MOV     R2,AR6
015E AB07              MOV     R3,AR7
0160 D007              POP     AR7
0162 D006              POP     AR6
0164 D005              POP     AR5
0166 D004              POP     AR4
0168 120000      E     LCALL   ?C?FPDIV
016B 900000      E     MOV     DPTR,#g_mem+09EH
016E E0                MOVX    A,@DPTR
016F F8                MOV     R0,A
0170 A3                INC     DPTR
0171 E0                MOVX    A,@DPTR
0172 F9                MOV     R1,A
0173 A3                INC     DPTR
0174 E0                MOVX    A,@DPTR
0175 FA                MOV     R2,A
0176 A3                INC     DPTR
0177 E0                MOVX    A,@DPTR
0178 FB                MOV     R3,A
0179 120000      E     LCALL   ?C?FPMUL
017C 900000      R     MOV     DPTR,#m
017F 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 396
0182 900000      R     MOV     DPTR,#m
0185 E0                MOVX    A,@DPTR
C51 COMPILER V9.51   UTILS                                                                 01/18/2018 16:17:47 PAGE 50  

0186 FC                MOV     R4,A
0187 A3                INC     DPTR
0188 E0                MOVX    A,@DPTR
0189 FD                MOV     R5,A
018A A3                INC     DPTR
018B E0                MOVX    A,@DPTR
018C FE                MOV     R6,A
018D A3                INC     DPTR
018E E0                MOVX    A,@DPTR
018F FF                MOV     R7,A
0190 900000      E     MOV     DPTR,#g_mem+0A2H
0193 E0                MOVX    A,@DPTR
0194 F8                MOV     R0,A
0195 A3                INC     DPTR
0196 E0                MOVX    A,@DPTR
0197 F9                MOV     R1,A
0198 A3                INC     DPTR
0199 E0                MOVX    A,@DPTR
019A FA                MOV     R2,A
019B A3                INC     DPTR
019C E0                MOVX    A,@DPTR
019D FB                MOV     R3,A
019E 120000      E     LCALL   ?C?FPMUL
01A1 E4                CLR     A
01A2 FB                MOV     R3,A
01A3 FA                MOV     R2,A
01A4 7920              MOV     R1,#020H
01A6 7841              MOV     R0,#041H
01A8 120000      E     LCALL   ?C?FPMUL
01AB 120000      E     LCALL   ?C?CASTF
01AE 900000      E     MOV     DPTR,#g_mem+035H
01B1 E0                MOVX    A,@DPTR
01B2 F9                MOV     R1,A
01B3 F8                MOV     R0,A
01B4 120000      E     LCALL   ?C?LSHL
01B7 900000      R     MOV     DPTR,#abs_err_thr
01BA 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 397
01BD E4                CLR     A
01BE FF                MOV     R7,A
01BF FE                MOV     R6,A
01C0 FD                MOV     R5,A
01C1 FC                MOV     R4,A
01C2 900000      R     MOV     DPTR,#abs_err_thr
01C5 E0                MOVX    A,@DPTR
01C6 F8                MOV     R0,A
01C7 A3                INC     DPTR
01C8 E0                MOVX    A,@DPTR
01C9 F9                MOV     R1,A
01CA A3                INC     DPTR
01CB E0                MOVX    A,@DPTR
01CC FA                MOV     R2,A
01CD A3                INC     DPTR
01CE E0                MOVX    A,@DPTR
01CF FB                MOV     R3,A
01D0 D3                SETB    C
01D1 120000      E     LCALL   ?C?SLCMP
01D4 4010              JC      ?C0037
01D6 900000      R     MOV     DPTR,#abs_err_thr
01D9 E0                MOVX    A,@DPTR
01DA FC                MOV     R4,A
01DB A3                INC     DPTR
C51 COMPILER V9.51   UTILS                                                                 01/18/2018 16:17:47 PAGE 51  

01DC E0                MOVX    A,@DPTR
01DD FD                MOV     R5,A
01DE A3                INC     DPTR
01DF E0                MOVX    A,@DPTR
01E0 FE                MOV     R6,A
01E1 A3                INC     DPTR
01E2 E0                MOVX    A,@DPTR
01E3 FF                MOV     R7,A
01E4 8011              SJMP    ?C0038
01E6         ?C0037:
01E6 900000      R     MOV     DPTR,#abs_err_thr
01E9 E0                MOVX    A,@DPTR
01EA FC                MOV     R4,A
01EB A3                INC     DPTR
01EC E0                MOVX    A,@DPTR
01ED FD                MOV     R5,A
01EE A3                INC     DPTR
01EF E0                MOVX    A,@DPTR
01F0 FE                MOV     R6,A
01F1 A3                INC     DPTR
01F2 E0                MOVX    A,@DPTR
01F3 FF                MOV     R7,A
01F4 120000      E     LCALL   ?C?LNEG
01F7         ?C0038:
01F7 900000      R     MOV     DPTR,#abs_err_thr
01FA 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 399
01FD 900000      E     MOV     DPTR,#curr_pos_res
0200 E0                MOVX    A,@DPTR
0201 F8                MOV     R0,A
0202 A3                INC     DPTR
0203 E0                MOVX    A,@DPTR
0204 F9                MOV     R1,A
0205 A3                INC     DPTR
0206 E0                MOVX    A,@DPTR
0207 FA                MOV     R2,A
0208 A3                INC     DPTR
0209 E0                MOVX    A,@DPTR
020A FB                MOV     R3,A
020B 900000      E     MOV     DPTR,#g_mem+096H
020E E0                MOVX    A,@DPTR
020F FC                MOV     R4,A
0210 A3                INC     DPTR
0211 E0                MOVX    A,@DPTR
0212 FD                MOV     R5,A
0213 A3                INC     DPTR
0214 E0                MOVX    A,@DPTR
0215 FE                MOV     R6,A
0216 A3                INC     DPTR
0217 E0                MOVX    A,@DPTR
0218 C3                CLR     C
0219 9B                SUBB    A,R3
021A FF                MOV     R7,A
021B EE                MOV     A,R6
021C 9A                SUBB    A,R2
021D FE                MOV     R6,A
021E ED                MOV     A,R5
021F 99                SUBB    A,R1
0220 FD                MOV     R5,A
0221 EC                MOV     A,R4
0222 98                SUBB    A,R0
0223 FC                MOV     R4,A
C51 COMPILER V9.51   UTILS                                                                 01/18/2018 16:17:47 PAGE 52  

0224 900000      R     MOV     DPTR,#rest_error
0227 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 401
022A E4                CLR     A
022B FF                MOV     R7,A
022C FE                MOV     R6,A
022D 7D20              MOV     R5,#020H
022F 7C41              MOV     R4,#041H
0231 900000      R     MOV     DPTR,#m
0234 E0                MOVX    A,@DPTR
0235 F8                MOV     R0,A
0236 A3                INC     DPTR
0237 E0                MOVX    A,@DPTR
0238 F9                MOV     R1,A
0239 A3                INC     DPTR
023A E0                MOVX    A,@DPTR
023B FA                MOV     R2,A
023C A3                INC     DPTR
023D E0                MOVX    A,@DPTR
023E FB                MOV     R3,A
023F 120000      E     LCALL   ?C?FPMUL
0242 120000      E     LCALL   ?C?CASTF
0245 900000      E     MOV     DPTR,#g_mem+035H
0248 E0                MOVX    A,@DPTR
0249 F9                MOV     R1,A
024A F8                MOV     R0,A
024B 120000      E     LCALL   ?C?LSHL
024E 900000      R     MOV     DPTR,#delta_inc
0251 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 402
0254 E4                CLR     A
0255 FF                MOV     R7,A
0256 FE                MOV     R6,A
0257 FD                MOV     R5,A
0258 FC                MOV     R4,A
0259 900000      R     MOV     DPTR,#delta_inc
025C E0                MOVX    A,@DPTR
025D F8                MOV     R0,A
025E A3                INC     DPTR
025F E0                MOVX    A,@DPTR
0260 F9                MOV     R1,A
0261 A3                INC     DPTR
0262 E0                MOVX    A,@DPTR
0263 FA                MOV     R2,A
0264 A3                INC     DPTR
0265 E0                MOVX    A,@DPTR
0266 FB                MOV     R3,A
0267 D3                SETB    C
0268 120000      E     LCALL   ?C?SLCMP
026B 4010              JC      ?C0039
026D 900000      R     MOV     DPTR,#delta_inc
0270 E0                MOVX    A,@DPTR
0271 FC                MOV     R4,A
0272 A3                INC     DPTR
0273 E0                MOVX    A,@DPTR
0274 FD                MOV     R5,A
0275 A3                INC     DPTR
0276 E0                MOVX    A,@DPTR
0277 FE                MOV     R6,A
0278 A3                INC     DPTR
0279 E0                MOVX    A,@DPTR
027A FF                MOV     R7,A
C51 COMPILER V9.51   UTILS                                                                 01/18/2018 16:17:47 PAGE 53  

027B 8011              SJMP    ?C0040
027D         ?C0039:
027D 900000      R     MOV     DPTR,#delta_inc
0280 E0                MOVX    A,@DPTR
0281 FC                MOV     R4,A
0282 A3                INC     DPTR
0283 E0                MOVX    A,@DPTR
0284 FD                MOV     R5,A
0285 A3                INC     DPTR
0286 E0                MOVX    A,@DPTR
0287 FE                MOV     R6,A
0288 A3                INC     DPTR
0289 E0                MOVX    A,@DPTR
028A FF                MOV     R7,A
028B 120000      E     LCALL   ?C?LNEG
028E         ?C0040:
028E 900000      R     MOV     DPTR,#delta_inc
0291 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 404
0294 E4                CLR     A
0295 FF                MOV     R7,A
0296 FE                MOV     R6,A
0297 FD                MOV     R5,A
0298 FC                MOV     R4,A
0299 900000      R     MOV     DPTR,#count
029C 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 405
029F E4                CLR     A
02A0 900000      R     MOV     DPTR,#flag_count
02A3 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 406
02A4         ?C0036:
                                           ; SOURCE LINE # 408
02A4 900000      E     MOV     DPTR,#rest_enabled
02A7 E0                MOVX    A,@DPTR
02A8 7003              JNZ     $ + 5H
02AA 020000      R     LJMP    ?C0052
                                           ; SOURCE LINE # 410
02AD 900000      R     MOV     DPTR,#abs_err_thr
02B0 E0                MOVX    A,@DPTR
02B1 FC                MOV     R4,A
02B2 A3                INC     DPTR
02B3 E0                MOVX    A,@DPTR
02B4 FD                MOV     R5,A
02B5 A3                INC     DPTR
02B6 E0                MOVX    A,@DPTR
02B7 FE                MOV     R6,A
02B8 A3                INC     DPTR
02B9 E0                MOVX    A,@DPTR
02BA FF                MOV     R7,A
02BB 900000      R     MOV     DPTR,#rest_error
02BE E0                MOVX    A,@DPTR
02BF F8                MOV     R0,A
02C0 A3                INC     DPTR
02C1 E0                MOVX    A,@DPTR
02C2 F9                MOV     R1,A
02C3 A3                INC     DPTR
02C4 E0                MOVX    A,@DPTR
02C5 FA                MOV     R2,A
02C6 A3                INC     DPTR
02C7 E0                MOVX    A,@DPTR
02C8 FB                MOV     R3,A
C51 COMPILER V9.51   UTILS                                                                 01/18/2018 16:17:47 PAGE 54  

02C9 C3                CLR     C
02CA 120000      E     LCALL   ?C?SLCMP
02CD 504A              JNC     ?C0042
02CF 900000      R     MOV     DPTR,#abs_err_thr
02D2 E0                MOVX    A,@DPTR
02D3 FC                MOV     R4,A
02D4 A3                INC     DPTR
02D5 E0                MOVX    A,@DPTR
02D6 FD                MOV     R5,A
02D7 A3                INC     DPTR
02D8 E0                MOVX    A,@DPTR
02D9 FE                MOV     R6,A
02DA A3                INC     DPTR
02DB E0                MOVX    A,@DPTR
02DC FF                MOV     R7,A
02DD 120000      E     LCALL   ?C?LNEG
02E0 900000      R     MOV     DPTR,#rest_error
02E3 E0                MOVX    A,@DPTR
02E4 F8                MOV     R0,A
02E5 A3                INC     DPTR
02E6 E0                MOVX    A,@DPTR
02E7 A3                INC     DPTR
02E8 E0                MOVX    A,@DPTR
02E9 A3                INC     DPTR
02EA E0                MOVX    A,@DPTR
02EB D3                SETB    C
02EC 120000      E     LCALL   ?C?SLCMP
02EF 4028              JC      ?C0042
                                           ; SOURCE LINE # 412
02F1 900000      E     MOV     DPTR,#g_mem+096H
02F4 E0                MOVX    A,@DPTR
02F5 FC                MOV     R4,A
02F6 A3                INC     DPTR
02F7 E0                MOVX    A,@DPTR
02F8 FD                MOV     R5,A
02F9 A3                INC     DPTR
02FA E0                MOVX    A,@DPTR
02FB FE                MOV     R6,A
02FC A3                INC     DPTR
02FD E0                MOVX    A,@DPTR
02FE FF                MOV     R7,A
02FF 900000      E     MOV     DPTR,#rest_pos_curr_ref
0302 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 413
0305 900000      E     MOV     DPTR,#forced_open
0308 7401              MOV     A,#01H
030A F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 414
030B E4                CLR     A
030C FF                MOV     R7,A
030D FE                MOV     R6,A
030E FD                MOV     R5,A
030F FC                MOV     R4,A
0310 900000      R     MOV     DPTR,#count
0313 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 415
0316 020000      R     LJMP    ?C0043
0319         ?C0042:
                                           ; SOURCE LINE # 416
                                           ; SOURCE LINE # 417
0319 900000      E     MOV     DPTR,#curr_pos_res
031C E0                MOVX    A,@DPTR
C51 COMPILER V9.51   UTILS                                                                 01/18/2018 16:17:47 PAGE 55  

031D F8                MOV     R0,A
031E A3                INC     DPTR
031F E0                MOVX    A,@DPTR
0320 F9                MOV     R1,A
0321 A3                INC     DPTR
0322 E0                MOVX    A,@DPTR
0323 FA                MOV     R2,A
0324 A3                INC     DPTR
0325 E0                MOVX    A,@DPTR
0326 FB                MOV     R3,A
0327 900000      E     MOV     DPTR,#g_mem+096H
032A E0                MOVX    A,@DPTR
032B FC                MOV     R4,A
032C A3                INC     DPTR
032D E0                MOVX    A,@DPTR
032E FD                MOV     R5,A
032F A3                INC     DPTR
0330 E0                MOVX    A,@DPTR
0331 FE                MOV     R6,A
0332 A3                INC     DPTR
0333 E0                MOVX    A,@DPTR
0334 C3                CLR     C
0335 9B                SUBB    A,R3
0336 FF                MOV     R7,A
0337 EE                MOV     A,R6
0338 9A                SUBB    A,R2
0339 FE                MOV     R6,A
033A ED                MOV     A,R5
033B 99                SUBB    A,R1
033C FD                MOV     R5,A
033D EC                MOV     A,R4
033E 98                SUBB    A,R0
033F FC                MOV     R4,A
0340 900000      R     MOV     DPTR,#rest_error
0343 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 418
0346 E4                CLR     A
0347 FF                MOV     R7,A
0348 FE                MOV     R6,A
0349 FD                MOV     R5,A
034A FC                MOV     R4,A
034B 900000      R     MOV     DPTR,#rest_error
034E E0                MOVX    A,@DPTR
034F F8                MOV     R0,A
0350 A3                INC     DPTR
0351 E0                MOVX    A,@DPTR
0352 F9                MOV     R1,A
0353 A3                INC     DPTR
0354 E0                MOVX    A,@DPTR
0355 FA                MOV     R2,A
0356 A3                INC     DPTR
0357 E0                MOVX    A,@DPTR
0358 FB                MOV     R3,A
0359 D3                SETB    C
035A 120000      E     LCALL   ?C?SLCMP
035D 402E              JC      ?C0044
                                           ; SOURCE LINE # 419
035F 900000      E     MOV     DPTR,#rest_pos_curr_ref
0362 E0                MOVX    A,@DPTR
0363 FC                MOV     R4,A
0364 A3                INC     DPTR
0365 E0                MOVX    A,@DPTR
C51 COMPILER V9.51   UTILS                                                                 01/18/2018 16:17:47 PAGE 56  

0366 FD                MOV     R5,A
0367 A3                INC     DPTR
0368 E0                MOVX    A,@DPTR
0369 FE                MOV     R6,A
036A A3                INC     DPTR
036B E0                MOVX    A,@DPTR
036C FF                MOV     R7,A
036D 900000      R     MOV     DPTR,#delta_inc
0370 E0                MOVX    A,@DPTR
0371 F8                MOV     R0,A
0372 A3                INC     DPTR
0373 E0                MOVX    A,@DPTR
0374 F9                MOV     R1,A
0375 A3                INC     DPTR
0376 E0                MOVX    A,@DPTR
0377 FA                MOV     R2,A
0378 A3                INC     DPTR
0379 E0                MOVX    A,@DPTR
037A FB                MOV     R3,A
037B EF                MOV     A,R7
037C 2B                ADD     A,R3
037D FF                MOV     R7,A
037E EE                MOV     A,R6
037F 3A                ADDC    A,R2
0380 FE                MOV     R6,A
0381 ED                MOV     A,R5
0382 39                ADDC    A,R1
0383 FD                MOV     R5,A
0384 EC                MOV     A,R4
0385 38                ADDC    A,R0
0386 FC                MOV     R4,A
0387 900000      E     MOV     DPTR,#rest_pos_curr_ref
038A 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 420
038D         ?C0044:
                                           ; SOURCE LINE # 421
038D E4                CLR     A
038E FF                MOV     R7,A
038F FE                MOV     R6,A
0390 FD                MOV     R5,A
0391 FC                MOV     R4,A
0392 900000      R     MOV     DPTR,#rest_error
0395 E0                MOVX    A,@DPTR
0396 F8                MOV     R0,A
0397 A3                INC     DPTR
0398 E0                MOVX    A,@DPTR
0399 F9                MOV     R1,A
039A A3                INC     DPTR
039B E0                MOVX    A,@DPTR
039C FA                MOV     R2,A
039D A3                INC     DPTR
039E E0                MOVX    A,@DPTR
039F FB                MOV     R3,A
03A0 C3                CLR     C
03A1 120000      E     LCALL   ?C?SLCMP
03A4 502F              JNC     ?C0043
                                           ; SOURCE LINE # 422
03A6 900000      E     MOV     DPTR,#rest_pos_curr_ref
03A9 E0                MOVX    A,@DPTR
03AA FC                MOV     R4,A
03AB A3                INC     DPTR
03AC E0                MOVX    A,@DPTR
C51 COMPILER V9.51   UTILS                                                                 01/18/2018 16:17:47 PAGE 57  

03AD FD                MOV     R5,A
03AE A3                INC     DPTR
03AF E0                MOVX    A,@DPTR
03B0 FE                MOV     R6,A
03B1 A3                INC     DPTR
03B2 E0                MOVX    A,@DPTR
03B3 FF                MOV     R7,A
03B4 900000      R     MOV     DPTR,#delta_inc
03B7 E0                MOVX    A,@DPTR
03B8 F8                MOV     R0,A
03B9 A3                INC     DPTR
03BA E0                MOVX    A,@DPTR
03BB F9                MOV     R1,A
03BC A3                INC     DPTR
03BD E0                MOVX    A,@DPTR
03BE FA                MOV     R2,A
03BF A3                INC     DPTR
03C0 E0                MOVX    A,@DPTR
03C1 FB                MOV     R3,A
03C2 C3                CLR     C
03C3 EF                MOV     A,R7
03C4 9B                SUBB    A,R3
03C5 FF                MOV     R7,A
03C6 EE                MOV     A,R6
03C7 9A                SUBB    A,R2
03C8 FE                MOV     R6,A
03C9 ED                MOV     A,R5
03CA 99                SUBB    A,R1
03CB FD                MOV     R5,A
03CC EC                MOV     A,R4
03CD 98                SUBB    A,R0
03CE FC                MOV     R4,A
03CF 900000      E     MOV     DPTR,#rest_pos_curr_ref
03D2 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 423
                                           ; SOURCE LINE # 424
03D5         ?C0043:
                                           ; SOURCE LINE # 427
03D5 900000      E     MOV     DPTR,#rest_pos_curr_ref
03D8 E0                MOVX    A,@DPTR
03D9 FC                MOV     R4,A
03DA A3                INC     DPTR
03DB E0                MOVX    A,@DPTR
03DC FD                MOV     R5,A
03DD A3                INC     DPTR
03DE E0                MOVX    A,@DPTR
03DF FE                MOV     R6,A
03E0 A3                INC     DPTR
03E1 E0                MOVX    A,@DPTR
03E2 FF                MOV     R7,A
03E3 900000      E     MOV     DPTR,#g_ref
03E6 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 429
03E9 900000      E     MOV     DPTR,#forced_open
03EC E0                MOVX    A,@DPTR
03ED 6401              XRL     A,#01H
03EF 6003              JZ      $ + 5H
03F1 020000      R     LJMP    ?C0046
                                           ; SOURCE LINE # 431
03F4 900000      E     MOV     DPTR,#c_mem+06DH
03F7 E0                MOVX    A,@DPTR
03F8 FE                MOV     R6,A
C51 COMPILER V9.51   UTILS                                                                 01/18/2018 16:17:47 PAGE 58  

03F9 A3                INC     DPTR
03FA E0                MOVX    A,@DPTR
03FB FF                MOV     R7,A
03FC FB                MOV     R3,A
03FD AA06              MOV     R2,AR6
03FF E4                CLR     A
0400 900000      E     MOV     DPTR,#g_meas+01BH
0403 E0                MOVX    A,@DPTR
0404 FC                MOV     R4,A
0405 A3                INC     DPTR
0406 E0                MOVX    A,@DPTR
0407 FD                MOV     R5,A
0408 A3                INC     DPTR
0409 E0                MOVX    A,@DPTR
040A FE                MOV     R6,A
040B A3                INC     DPTR
040C E0                MOVX    A,@DPTR
040D C3                CLR     C
040E 9B                SUBB    A,R3
040F F500        R     MOV     err_emg_2+03H,A
0411 EE                MOV     A,R6
0412 9A                SUBB    A,R2
0413 F500        R     MOV     err_emg_2+02H,A
0415 ED                MOV     A,R5
0416 9400              SUBB    A,#00H
0418 F500        R     MOV     err_emg_2+01H,A
041A EC                MOV     A,R4
041B 9400              SUBB    A,#00H
041D F500        R     MOV     err_emg_2,A
                                           ; SOURCE LINE # 433
041F E4                CLR     A
0420 FF                MOV     R7,A
0421 FE                MOV     R6,A
0422 FD                MOV     R5,A
0423 FC                MOV     R4,A
0424 AB00        R     MOV     R3,err_emg_2+03H
0426 AA00        R     MOV     R2,err_emg_2+02H
0428 A900        R     MOV     R1,err_emg_2+01H
042A A800        R     MOV     R0,err_emg_2
042C D3                SETB    C
042D 120000      E     LCALL   ?C?SLCMP
0430 405D              JC      ?C0047
                                           ; SOURCE LINE # 434
0432 900000      E     MOV     DPTR,#g_mem+096H
0435 E0                MOVX    A,@DPTR
0436 FC                MOV     R4,A
0437 A3                INC     DPTR
0438 E0                MOVX    A,@DPTR
0439 FD                MOV     R5,A
043A A3                INC     DPTR
043B E0                MOVX    A,@DPTR
043C FE                MOV     R6,A
043D A3                INC     DPTR
043E E0                MOVX    A,@DPTR
043F FF                MOV     R7,A
0440 A800        R     MOV     R0,err_emg_2
0442 120000      E     LCALL   ?C?LMUL
0445 C006              PUSH    AR6
0447 C007              PUSH    AR7
0449 900000      E     MOV     DPTR,#c_mem+06DH
044C E0                MOVX    A,@DPTR
044D FE                MOV     R6,A
C51 COMPILER V9.51   UTILS                                                                 01/18/2018 16:17:47 PAGE 59  

044E A3                INC     DPTR
044F E0                MOVX    A,@DPTR
0450 FF                MOV     R7,A
0451 C3                CLR     C
0452 E4                CLR     A
0453 9F                SUBB    A,R7
0454 FF                MOV     R7,A
0455 7404              MOV     A,#04H
0457 9E                SUBB    A,R6
0458 FE                MOV     R6,A
0459 AB07              MOV     R3,AR7
045B FA                MOV     R2,A
045C E4                CLR     A
045D F9                MOV     R1,A
045E F8                MOV     R0,A
045F D007              POP     AR7
0461 D006              POP     AR6
0463 120000      E     LCALL   ?C?SLDIV
0466 A804              MOV     R0,AR4
0468 A905              MOV     R1,AR5
046A AA06              MOV     R2,AR6
046C AB07              MOV     R3,AR7
046E 900000      E     MOV     DPTR,#g_mem+096H
0471 E0                MOVX    A,@DPTR
0472 FC                MOV     R4,A
0473 A3                INC     DPTR
0474 E0                MOVX    A,@DPTR
0475 FD                MOV     R5,A
0476 A3                INC     DPTR
0477 E0                MOVX    A,@DPTR
0478 FE                MOV     R6,A
0479 A3                INC     DPTR
047A E0                MOVX    A,@DPTR
047B C3                CLR     C
047C 9B                SUBB    A,R3
047D FF                MOV     R7,A
047E EE                MOV     A,R6
047F 9A                SUBB    A,R2
0480 FE                MOV     R6,A
0481 ED                MOV     A,R5
0482 99                SUBB    A,R1
0483 FD                MOV     R5,A
0484 EC                MOV     A,R4
0485 98                SUBB    A,R0
0486 FC                MOV     R4,A
0487 900000      E     MOV     DPTR,#g_ref
048A 120000      E     LCALL   ?C?LSTXDATA
048D 8019              SJMP    ?C0046
048F         ?C0047:
                                           ; SOURCE LINE # 435
                                           ; SOURCE LINE # 436
048F 900000      E     MOV     DPTR,#g_mem+096H
0492 E0                MOVX    A,@DPTR
0493 FC                MOV     R4,A
0494 A3                INC     DPTR
0495 E0                MOVX    A,@DPTR
0496 FD                MOV     R5,A
0497 A3                INC     DPTR
0498 E0                MOVX    A,@DPTR
0499 FE                MOV     R6,A
049A A3                INC     DPTR
049B E0                MOVX    A,@DPTR
C51 COMPILER V9.51   UTILS                                                                 01/18/2018 16:17:47 PAGE 60  

049C FF                MOV     R7,A
049D 900000      E     MOV     DPTR,#g_ref
04A0 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 437
04A3 E4                CLR     A
04A4 900000      E     MOV     DPTR,#forced_open
04A7 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 438
                                           ; SOURCE LINE # 439
04A8         ?C0046:
                                           ; SOURCE LINE # 442
04A8 900000      E     MOV     DPTR,#c_mem+050H
04AB E0                MOVX    A,@DPTR
04AC 606A              JZ      ?C0052
                                           ; SOURCE LINE # 443
04AE A3                INC     DPTR
04AF E0                MOVX    A,@DPTR
04B0 FC                MOV     R4,A
04B1 A3                INC     DPTR
04B2 E0                MOVX    A,@DPTR
04B3 FD                MOV     R5,A
04B4 A3                INC     DPTR
04B5 E0                MOVX    A,@DPTR
04B6 FE                MOV     R6,A
04B7 A3                INC     DPTR
04B8 E0                MOVX    A,@DPTR
04B9 FF                MOV     R7,A
04BA 900000      E     MOV     DPTR,#g_ref
04BD E0                MOVX    A,@DPTR
04BE F8                MOV     R0,A
04BF A3                INC     DPTR
04C0 E0                MOVX    A,@DPTR
04C1 F9                MOV     R1,A
04C2 A3                INC     DPTR
04C3 E0                MOVX    A,@DPTR
04C4 FA                MOV     R2,A
04C5 A3                INC     DPTR
04C6 E0                MOVX    A,@DPTR
04C7 FB                MOV     R3,A
04C8 C3                CLR     C
04C9 120000      E     LCALL   ?C?SLCMP
04CC 5014              JNC     ?C0050
                                           ; SOURCE LINE # 444
04CE 900000      E     MOV     DPTR,#c_mem+051H
04D1 E0                MOVX    A,@DPTR
04D2 FC                MOV     R4,A
04D3 A3                INC     DPTR
04D4 E0                MOVX    A,@DPTR
04D5 FD                MOV     R5,A
04D6 A3                INC     DPTR
04D7 E0                MOVX    A,@DPTR
04D8 FE                MOV     R6,A
04D9 A3                INC     DPTR
04DA E0                MOVX    A,@DPTR
04DB FF                MOV     R7,A
04DC 900000      E     MOV     DPTR,#g_ref
04DF 120000      E     LCALL   ?C?LSTXDATA
04E2         ?C0050:
                                           ; SOURCE LINE # 445
04E2 900000      E     MOV     DPTR,#c_mem+059H
04E5 E0                MOVX    A,@DPTR
04E6 FC                MOV     R4,A
C51 COMPILER V9.51   UTILS                                                                 01/18/2018 16:17:47 PAGE 61  

04E7 A3                INC     DPTR
04E8 E0                MOVX    A,@DPTR
04E9 FD                MOV     R5,A
04EA A3                INC     DPTR
04EB E0                MOVX    A,@DPTR
04EC FE                MOV     R6,A
04ED A3                INC     DPTR
04EE E0                MOVX    A,@DPTR
04EF FF                MOV     R7,A
04F0 900000      E     MOV     DPTR,#g_ref
04F3 E0                MOVX    A,@DPTR
04F4 F8                MOV     R0,A
04F5 A3                INC     DPTR
04F6 E0                MOVX    A,@DPTR
04F7 F9                MOV     R1,A
04F8 A3                INC     DPTR
04F9 E0                MOVX    A,@DPTR
04FA FA                MOV     R2,A
04FB A3                INC     DPTR
04FC E0                MOVX    A,@DPTR
04FD FB                MOV     R3,A
04FE D3                SETB    C
04FF 120000      E     LCALL   ?C?SLCMP
0502 4014              JC      ?C0052
                                           ; SOURCE LINE # 446
0504 900000      E     MOV     DPTR,#c_mem+059H
0507 E0                MOVX    A,@DPTR
0508 FC                MOV     R4,A
0509 A3                INC     DPTR
050A E0                MOVX    A,@DPTR
050B FD                MOV     R5,A
050C A3                INC     DPTR
050D E0                MOVX    A,@DPTR
050E FE                MOV     R6,A
050F A3                INC     DPTR
0510 E0                MOVX    A,@DPTR
0511 FF                MOV     R7,A
0512 900000      E     MOV     DPTR,#g_ref
0515 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 447
                                           ; SOURCE LINE # 448
                                           ; SOURCE LINE # 450
0518         ?C0052:
0518 22                RET     
             ; FUNCTION check_rest_position (END)



MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =   4252    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =    129      68
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----       5
   IDATA SIZE       =   ----       3
   BIT SIZE         =   ----    ----
   EDATA SIZE       =   ----    ----
   HDATA SIZE       =   ----    ----
   XDATA CONST SIZE =   ----    ----
   FAR CONST SIZE   =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
